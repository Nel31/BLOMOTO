function km(e,r){for(var t=0;t<r.length;t++){const o=r[t];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(o,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zu={exports:{}},Rs={},ed={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=Symbol.for("react.element"),Sm=Symbol.for("react.portal"),Em=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Im=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),nc=Symbol.iterator;function zm(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},td=Object.assign,od={};function oo(e,r,t){this.props=e,this.context=r,this.refs=od,this.updater=t||rd}oo.prototype.isReactComponent={};oo.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nd(){}nd.prototype=oo.prototype;function qa(e,r,t){this.props=e,this.context=r,this.refs=od,this.updater=t||rd}var Ga=qa.prototype=new nd;Ga.constructor=qa;td(Ga,oo.prototype);Ga.isPureReactComponent=!0;var sc=Array.isArray,sd=Object.prototype.hasOwnProperty,Ka={current:null},ld={key:!0,ref:!0,__self:!0,__source:!0};function ad(e,r,t){var o,s={},l=null,a=null;if(r!=null)for(o in r.ref!==void 0&&(a=r.ref),r.key!==void 0&&(l=""+r.key),r)sd.call(r,o)&&!ld.hasOwnProperty(o)&&(s[o]=r[o]);var i=arguments.length-2;if(i===1)s.children=t;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(o in i=e.defaultProps,i)s[o]===void 0&&(s[o]=i[o]);return{$$typeof:nn,type:e,key:l,ref:a,props:s,_owner:Ka.current}}function Bm(e,r){return{$$typeof:nn,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Qa(e){return typeof e=="object"&&e!==null&&e.$$typeof===nn}function Dm(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return r[t]})}var lc=/\/+/g;function tl(e,r){return typeof e=="object"&&e!==null&&e.key!=null?Dm(""+e.key):r.toString(36)}function Bn(e,r,t,o,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case nn:case Sm:a=!0}}if(a)return a=e,s=s(a),e=o===""?"."+tl(a,0):o,sc(s)?(t="",e!=null&&(t=e.replace(lc,"$&/")+"/"),Bn(s,r,t,"",function(d){return d})):s!=null&&(Qa(s)&&(s=Bm(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(lc,"$&/")+"/")+e)),r.push(s)),1;if(a=0,o=o===""?".":o+":",sc(e))for(var i=0;i<e.length;i++){l=e[i];var c=o+tl(l,i);a+=Bn(l,r,t,c,s)}else if(c=zm(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=o+tl(l,i++),a+=Bn(l,r,t,c,s);else if(l==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return a}function mn(e,r,t){if(e==null)return e;var o=[],s=0;return Bn(e,o,"","",function(l){return r.call(t,l,s++)}),o}function Mm(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Dn={transition:null},Fm={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Dn,ReactCurrentOwner:Ka};function id(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:mn,forEach:function(e,r,t){mn(e,function(){r.apply(this,arguments)},t)},count:function(e){var r=0;return mn(e,function(){r++}),r},toArray:function(e){return mn(e,function(r){return r})||[]},only:function(e){if(!Qa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=oo;Z.Fragment=Em;Z.Profiler=Rm;Z.PureComponent=qa;Z.StrictMode=_m;Z.Suspense=Tm;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm;Z.act=id;Z.cloneElement=function(e,r,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=td({},e.props),s=e.key,l=e.ref,a=e._owner;if(r!=null){if(r.ref!==void 0&&(l=r.ref,a=Ka.current),r.key!==void 0&&(s=""+r.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in r)sd.call(r,c)&&!ld.hasOwnProperty(c)&&(o[c]=r[c]===void 0&&i!==void 0?i[c]:r[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];o.children=i}return{$$typeof:nn,type:e.type,key:s,ref:l,props:o,_owner:a}};Z.createContext=function(e){return e={$$typeof:Lm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pm,_context:e},e.Consumer=e};Z.createElement=ad;Z.createFactory=function(e){var r=ad.bind(null,e);return r.type=e,r};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Am,render:e}};Z.isValidElement=Qa;Z.lazy=function(e){return{$$typeof:Om,_payload:{_status:-1,_result:e},_init:Mm}};Z.memo=function(e,r){return{$$typeof:Im,type:e,compare:r===void 0?null:r}};Z.startTransition=function(e){var r=Dn.transition;Dn.transition={};try{e()}finally{Dn.transition=r}};Z.unstable_act=id;Z.useCallback=function(e,r){return Be.current.useCallback(e,r)};Z.useContext=function(e){return Be.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};Z.useEffect=function(e,r){return Be.current.useEffect(e,r)};Z.useId=function(){return Be.current.useId()};Z.useImperativeHandle=function(e,r,t){return Be.current.useImperativeHandle(e,r,t)};Z.useInsertionEffect=function(e,r){return Be.current.useInsertionEffect(e,r)};Z.useLayoutEffect=function(e,r){return Be.current.useLayoutEffect(e,r)};Z.useMemo=function(e,r){return Be.current.useMemo(e,r)};Z.useReducer=function(e,r,t){return Be.current.useReducer(e,r,t)};Z.useRef=function(e){return Be.current.useRef(e)};Z.useState=function(e){return Be.current.useState(e)};Z.useSyncExternalStore=function(e,r,t){return Be.current.useSyncExternalStore(e,r,t)};Z.useTransition=function(){return Be.current.useTransition()};Z.version="18.3.1";ed.exports=Z;var w=ed.exports;const ne=Ha(w),Um=km({__proto__:null,default:ne},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=w,Vm=Symbol.for("react.element"),Wm=Symbol.for("react.fragment"),Hm=Object.prototype.hasOwnProperty,qm=$m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gm={key:!0,ref:!0,__self:!0,__source:!0};function cd(e,r,t){var o,s={},l=null,a=null;t!==void 0&&(l=""+t),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(a=r.ref);for(o in r)Hm.call(r,o)&&!Gm.hasOwnProperty(o)&&(s[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps,r)s[o]===void 0&&(s[o]=r[o]);return{$$typeof:Vm,type:e,key:l,ref:a,props:s,_owner:qm.current}}Rs.Fragment=Wm;Rs.jsx=cd;Rs.jsxs=cd;Zu.exports=Rs;var n=Zu.exports,zl={},ud={exports:{}},Ye={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(k,S){var I=k.length;k.push(S);e:for(;0<I;){var v=I-1>>>1,L=k[v];if(0<s(L,S))k[v]=S,k[I]=L,I=v;else break e}}function t(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var S=k[0],I=k.pop();if(I!==S){k[0]=I;e:for(var v=0,L=k.length,$=L>>>1;v<$;){var F=2*(v+1)-1,G=k[F],J=F+1,ee=k[J];if(0>s(G,I))J<L&&0>s(ee,G)?(k[v]=ee,k[J]=I,v=J):(k[v]=G,k[F]=I,v=F);else if(J<L&&0>s(ee,I))k[v]=ee,k[J]=I,v=J;else break e}}return S}function s(k,S){var I=k.sortIndex-S.sortIndex;return I!==0?I:k.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],d=[],u=1,f=null,m=3,j=!1,g=!1,h=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var S=t(d);S!==null;){if(S.callback===null)o(d);else if(S.startTime<=k)o(d),S.sortIndex=S.expirationTime,r(c,S);else break;S=t(d)}}function C(k){if(h=!1,b(k),!g)if(t(c)!==null)g=!0,V(N);else{var S=t(d);S!==null&&O(C,S.startTime-k)}}function N(k,S){g=!1,h&&(h=!1,y(P),P=-1),j=!0;var I=m;try{for(b(S),f=t(c);f!==null&&(!(f.expirationTime>S)||k&&!K());){var v=f.callback;if(typeof v=="function"){f.callback=null,m=f.priorityLevel;var L=v(f.expirationTime<=S);S=e.unstable_now(),typeof L=="function"?f.callback=L:f===t(c)&&o(c),b(S)}else o(c);f=t(c)}if(f!==null)var $=!0;else{var F=t(d);F!==null&&O(C,F.startTime-S),$=!1}return $}finally{f=null,m=I,j=!1}}var E=!1,_=null,P=-1,M=5,B=-1;function K(){return!(e.unstable_now()-B<M)}function Q(){if(_!==null){var k=e.unstable_now();B=k;var S=!0;try{S=_(!0,k)}finally{S?A():(E=!1,_=null)}}else E=!1}var A;if(typeof p=="function")A=function(){p(Q)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,T=q.port2;q.port1.onmessage=Q,A=function(){T.postMessage(null)}}else A=function(){x(Q,0)};function V(k){_=k,E||(E=!0,A())}function O(k,S){P=x(function(){k(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||j||(g=!0,V(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(c)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var S=3;break;default:S=m}var I=m;m=S;try{return k()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,S){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=m;m=k;try{return S()}finally{m=I}},e.unstable_scheduleCallback=function(k,S,I){var v=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?v+I:v):I=v,k){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=I+L,k={id:u++,callback:S,priorityLevel:k,startTime:I,expirationTime:L,sortIndex:-1},I>v?(k.sortIndex=I,r(d,k),t(c)===null&&k===t(d)&&(h?(y(P),P=-1):h=!0,O(C,I-v))):(k.sortIndex=L,r(c,k),g||j||(g=!0,V(N))),k},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(k){var S=m;return function(){var I=m;m=S;try{return k.apply(this,arguments)}finally{m=I}}}})(fd);dd.exports=fd;var Km=dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=w,Xe=Km;function z(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,Mo={};function St(e,r){Gt(e,r),Gt(e+"Capture",r)}function Gt(e,r){for(Mo[e]=r,e=0;e<r.length;e++)hd.add(r[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,Jm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ac={},ic={};function Xm(e){return Bl.call(ic,e)?!0:Bl.call(ac,e)?!1:Jm.test(e)?ic[e]=!0:(ac[e]=!0,!1)}function Ym(e,r,t,o){if(t!==null&&t.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zm(e,r,t,o){if(r===null||typeof r>"u"||Ym(e,r,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function De(e,r,t,o,s,l,a){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=e,this.type=r,this.sanitizeURL=l,this.removeEmptyString=a}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];_e[r]=new De(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Xa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Ja,Xa);_e[r]=new De(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Ja,Xa);_e[r]=new De(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Ja,Xa);_e[r]=new De(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ya(e,r,t,o){var s=_e.hasOwnProperty(r)?_e[r]:null;(s!==null?s.type!==0:o||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Zm(r,t,s,o)&&(t=null),o||s===null?Xm(r)&&(t===null?e.removeAttribute(r):e.setAttribute(r,""+t)):s.mustUseProperty?e[s.propertyName]=t===null?s.type===3?!1:"":t:(r=s.attributeName,o=s.attributeNamespace,t===null?e.removeAttribute(r):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,o?e.setAttributeNS(o,r,t):e.setAttribute(r,t))))}var Dr=Qm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pn=Symbol.for("react.element"),Rt=Symbol.for("react.portal"),Pt=Symbol.for("react.fragment"),Za=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),md=Symbol.for("react.provider"),pd=Symbol.for("react.context"),ei=Symbol.for("react.forward_ref"),Ml=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),ri=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),vd=Symbol.for("react.offscreen"),cc=Symbol.iterator;function ho(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,ol;function ko(e){if(ol===void 0)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);ol=r&&r[1]||""}return`
`+ol+e}var nl=!1;function sl(e,r){if(!e||nl)return"";nl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var o=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){o=d}e.call(r.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=o.stack.split(`
`),a=s.length-1,i=l.length-1;1<=a&&0<=i&&s[a]!==l[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==l[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==l[i]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{nl=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?ko(e):""}function ep(e){switch(e.tag){case 5:return ko(e.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 2:case 15:return e=sl(e.type,!1),e;case 11:return e=sl(e.type.render,!1),e;case 1:return e=sl(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pt:return"Fragment";case Rt:return"Portal";case Dl:return"Profiler";case Za:return"StrictMode";case Ml:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pd:return(e.displayName||"Context")+".Consumer";case md:return(e._context.displayName||"Context")+".Provider";case ei:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ri:return r=e.displayName||null,r!==null?r:Ul(e.type)||"Memo";case Fr:r=e._payload,e=e._init;try{return Ul(e(r))}catch{}}return null}function rp(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(r);case 8:return r===Za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function nt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gd(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tp(e){var r=gd(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),o=""+e[r];if(!e.hasOwnProperty(r)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,l=t.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return s.call(this)},set:function(a){o=""+a,l.call(this,a)}}),Object.defineProperty(e,r,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function vn(e){e._valueTracker||(e._valueTracker=tp(e))}function xd(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var t=r.getValue(),o="";return e&&(o=gd(e)?e.checked?"true":"false":e.value),e=o,e!==t?(r.setValue(e),!0):!1}function os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $l(e,r){var t=r.checked;return he({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function uc(e,r){var t=r.defaultValue==null?"":r.defaultValue,o=r.checked!=null?r.checked:r.defaultChecked;t=nt(r.value!=null?r.value:t),e._wrapperState={initialChecked:o,initialValue:t,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function yd(e,r){r=r.checked,r!=null&&Ya(e,"checked",r,!1)}function Vl(e,r){yd(e,r);var t=nt(r.value),o=r.type;if(t!=null)o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Wl(e,r.type,t):r.hasOwnProperty("defaultValue")&&Wl(e,r.type,nt(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function dc(e,r,t){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var o=r.type;if(!(o!=="submit"&&o!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,t||r===e.value||(e.value=r),e.defaultValue=r}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function Wl(e,r,t){(r!=="number"||os(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var So=Array.isArray;function Ut(e,r,t,o){if(e=e.options,r){r={};for(var s=0;s<t.length;s++)r["$"+t[s]]=!0;for(t=0;t<e.length;t++)s=r.hasOwnProperty("$"+e[t].value),e[t].selected!==s&&(e[t].selected=s),s&&o&&(e[t].defaultSelected=!0)}else{for(t=""+nt(t),r=null,s=0;s<e.length;s++){if(e[s].value===t){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}r!==null||e[s].disabled||(r=e[s])}r!==null&&(r.selected=!0)}}function Hl(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(z(91));return he({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fc(e,r){var t=r.value;if(t==null){if(t=r.children,r=r.defaultValue,t!=null){if(r!=null)throw Error(z(92));if(So(t)){if(1<t.length)throw Error(z(93));t=t[0]}r=t}r==null&&(r=""),t=r}e._wrapperState={initialValue:nt(t)}}function bd(e,r){var t=nt(r.value),o=nt(r.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),r.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),o!=null&&(e.defaultValue=""+o)}function hc(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function wd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?wd(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gn,jd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,t,o,s){MSApp.execUnsafeLocalFunction(function(){return e(r,t,o,s)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(gn=gn||document.createElement("div"),gn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=gn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Fo(e,r){if(r){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=r;return}}e.textContent=r}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},op=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){op.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Po[r]=Po[e]})});function Nd(e,r,t){return r==null||typeof r=="boolean"||r===""?"":t||typeof r!="number"||r===0||Po.hasOwnProperty(e)&&Po[e]?(""+r).trim():r+"px"}function Cd(e,r){e=e.style;for(var t in r)if(r.hasOwnProperty(t)){var o=t.indexOf("--")===0,s=Nd(t,r[t],o);t==="float"&&(t="cssFloat"),o?e.setProperty(t,s):e[t]=s}}var np=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gl(e,r){if(r){if(np[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(z(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(z(61))}if(r.style!=null&&typeof r.style!="object")throw Error(z(62))}}function Kl(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ql=null;function ti(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,$t=null,Vt=null;function mc(e){if(e=an(e)){if(typeof Jl!="function")throw Error(z(280));var r=e.stateNode;r&&(r=Is(r),Jl(e.stateNode,e.type,r))}}function kd(e){$t?Vt?Vt.push(e):Vt=[e]:$t=e}function Sd(){if($t){var e=$t,r=Vt;if(Vt=$t=null,mc(e),r)for(e=0;e<r.length;e++)mc(r[e])}}function Ed(e,r){return e(r)}function _d(){}var ll=!1;function Rd(e,r,t){if(ll)return e(r,t);ll=!0;try{return Ed(e,r,t)}finally{ll=!1,($t!==null||Vt!==null)&&(_d(),Sd())}}function Uo(e,r){var t=e.stateNode;if(t===null)return null;var o=Is(t);if(o===null)return null;t=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(z(231,r,typeof t));return t}var Xl=!1;if(Ir)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Xl=!1}function sp(e,r,t,o,s,l,a,i,c){var d=Array.prototype.slice.call(arguments,3);try{r.apply(t,d)}catch(u){this.onError(u)}}var Lo=!1,ns=null,ss=!1,Yl=null,lp={onError:function(e){Lo=!0,ns=e}};function ap(e,r,t,o,s,l,a,i,c){Lo=!1,ns=null,sp.apply(lp,arguments)}function ip(e,r,t,o,s,l,a,i,c){if(ap.apply(this,arguments),Lo){if(Lo){var d=ns;Lo=!1,ns=null}else throw Error(z(198));ss||(ss=!0,Yl=d)}}function Et(e){var r=e,t=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(t=r.return),e=r.return;while(e)}return r.tag===3?t:null}function Pd(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function pc(e){if(Et(e)!==e)throw Error(z(188))}function cp(e){var r=e.alternate;if(!r){if(r=Et(e),r===null)throw Error(z(188));return r!==e?null:e}for(var t=e,o=r;;){var s=t.return;if(s===null)break;var l=s.alternate;if(l===null){if(o=s.return,o!==null){t=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===t)return pc(s),e;if(l===o)return pc(s),r;l=l.sibling}throw Error(z(188))}if(t.return!==o.return)t=s,o=l;else{for(var a=!1,i=s.child;i;){if(i===t){a=!0,t=s,o=l;break}if(i===o){a=!0,o=s,t=l;break}i=i.sibling}if(!a){for(i=l.child;i;){if(i===t){a=!0,t=l,o=s;break}if(i===o){a=!0,o=l,t=s;break}i=i.sibling}if(!a)throw Error(z(189))}}if(t.alternate!==o)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?e:r}function Ld(e){return e=cp(e),e!==null?Ad(e):null}function Ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Ad(e);if(r!==null)return r;e=e.sibling}return null}var Td=Xe.unstable_scheduleCallback,vc=Xe.unstable_cancelCallback,up=Xe.unstable_shouldYield,dp=Xe.unstable_requestPaint,pe=Xe.unstable_now,fp=Xe.unstable_getCurrentPriorityLevel,oi=Xe.unstable_ImmediatePriority,Id=Xe.unstable_UserBlockingPriority,ls=Xe.unstable_NormalPriority,hp=Xe.unstable_LowPriority,Od=Xe.unstable_IdlePriority,Ps=null,Cr=null;function mp(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Ps,e,void 0,(e.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:gp,pp=Math.log,vp=Math.LN2;function gp(e){return e>>>=0,e===0?32:31-(pp(e)/vp|0)|0}var xn=64,yn=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function as(e,r){var t=e.pendingLanes;if(t===0)return 0;var o=0,s=e.suspendedLanes,l=e.pingedLanes,a=t&268435455;if(a!==0){var i=a&~s;i!==0?o=Eo(i):(l&=a,l!==0&&(o=Eo(l)))}else a=t&~s,a!==0?o=Eo(a):l!==0&&(o=Eo(l));if(o===0)return 0;if(r!==0&&r!==o&&!(r&s)&&(s=o&-o,l=r&-r,s>=l||s===16&&(l&4194240)!==0))return r;if(o&4&&(o|=t&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=o;0<r;)t=31-pr(r),s=1<<t,o|=e[t],r&=~s;return o}function xp(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yp(e,r){for(var t=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-pr(l),i=1<<a,c=s[a];c===-1?(!(i&t)||i&o)&&(s[a]=xp(i,r)):c<=r&&(e.expiredLanes|=i),l&=~i}}function Zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zd(){var e=xn;return xn<<=1,!(xn&4194240)&&(xn=64),e}function al(e){for(var r=[],t=0;31>t;t++)r.push(e);return r}function sn(e,r,t){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-pr(r),e[r]=t}function bp(e,r){var t=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<t;){var s=31-pr(t),l=1<<s;r[s]=0,o[s]=-1,e[s]=-1,t&=~l}}function ni(e,r){var t=e.entangledLanes|=r;for(e=e.entanglements;t;){var o=31-pr(t),s=1<<o;s&r|e[o]&r&&(e[o]|=r),t&=~s}}var se=0;function Bd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dd,si,Md,Fd,Ud,ea=!1,bn=[],Gr=null,Kr=null,Qr=null,$o=new Map,Vo=new Map,$r=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gc(e,r){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":$o.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(r.pointerId)}}function po(e,r,t,o,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:r,domEventName:t,eventSystemFlags:o,nativeEvent:l,targetContainers:[s]},r!==null&&(r=an(r),r!==null&&si(r)),e):(e.eventSystemFlags|=o,r=e.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),e)}function jp(e,r,t,o,s){switch(r){case"focusin":return Gr=po(Gr,e,r,t,o,s),!0;case"dragenter":return Kr=po(Kr,e,r,t,o,s),!0;case"mouseover":return Qr=po(Qr,e,r,t,o,s),!0;case"pointerover":var l=s.pointerId;return $o.set(l,po($o.get(l)||null,e,r,t,o,s)),!0;case"gotpointercapture":return l=s.pointerId,Vo.set(l,po(Vo.get(l)||null,e,r,t,o,s)),!0}return!1}function $d(e){var r=ht(e.target);if(r!==null){var t=Et(r);if(t!==null){if(r=t.tag,r===13){if(r=Pd(t),r!==null){e.blockedOn=r,Ud(e.priority,function(){Md(t)});return}}else if(r===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mn(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var t=ra(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var o=new t.constructor(t.type,t);Ql=o,t.target.dispatchEvent(o),Ql=null}else return r=an(t),r!==null&&si(r),e.blockedOn=t,!1;r.shift()}return!0}function xc(e,r,t){Mn(e)&&t.delete(r)}function Np(){ea=!1,Gr!==null&&Mn(Gr)&&(Gr=null),Kr!==null&&Mn(Kr)&&(Kr=null),Qr!==null&&Mn(Qr)&&(Qr=null),$o.forEach(xc),Vo.forEach(xc)}function vo(e,r){e.blockedOn===r&&(e.blockedOn=null,ea||(ea=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,Np)))}function Wo(e){function r(s){return vo(s,e)}if(0<bn.length){vo(bn[0],e);for(var t=1;t<bn.length;t++){var o=bn[t];o.blockedOn===e&&(o.blockedOn=null)}}for(Gr!==null&&vo(Gr,e),Kr!==null&&vo(Kr,e),Qr!==null&&vo(Qr,e),$o.forEach(r),Vo.forEach(r),t=0;t<$r.length;t++)o=$r[t],o.blockedOn===e&&(o.blockedOn=null);for(;0<$r.length&&(t=$r[0],t.blockedOn===null);)$d(t),t.blockedOn===null&&$r.shift()}var Wt=Dr.ReactCurrentBatchConfig,is=!0;function Cp(e,r,t,o){var s=se,l=Wt.transition;Wt.transition=null;try{se=1,li(e,r,t,o)}finally{se=s,Wt.transition=l}}function kp(e,r,t,o){var s=se,l=Wt.transition;Wt.transition=null;try{se=4,li(e,r,t,o)}finally{se=s,Wt.transition=l}}function li(e,r,t,o){if(is){var s=ra(e,r,t,o);if(s===null)gl(e,r,o,cs,t),gc(e,o);else if(jp(s,e,r,t,o))o.stopPropagation();else if(gc(e,o),r&4&&-1<wp.indexOf(e)){for(;s!==null;){var l=an(s);if(l!==null&&Dd(l),l=ra(e,r,t,o),l===null&&gl(e,r,o,cs,t),l===s)break;s=l}s!==null&&o.stopPropagation()}else gl(e,r,o,null,t)}}var cs=null;function ra(e,r,t,o){if(cs=null,e=ti(o),e=ht(e),e!==null)if(r=Et(e),r===null)e=null;else if(t=r.tag,t===13){if(e=Pd(r),e!==null)return e;e=null}else if(t===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return cs=e,null}function Vd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fp()){case oi:return 1;case Id:return 4;case ls:case hp:return 16;case Od:return 536870912;default:return 16}default:return 16}}var Wr=null,ai=null,Fn=null;function Wd(){if(Fn)return Fn;var e,r=ai,t=r.length,o,s="value"in Wr?Wr.value:Wr.textContent,l=s.length;for(e=0;e<t&&r[e]===s[e];e++);var a=t-e;for(o=1;o<=a&&r[t-o]===s[l-o];o++);return Fn=s.slice(e,1<o?1-o:void 0)}function Un(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function wn(){return!0}function yc(){return!1}function Ze(e){function r(t,o,s,l,a){this._reactName=t,this._targetInst=s,this.type=o,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?wn:yc,this.isPropagationStopped=yc,this}return he(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=wn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=wn)},persist:function(){},isPersistent:wn}),r}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=Ze(no),ln=he({},no,{view:0,detail:0}),Sp=Ze(ln),il,cl,go,Ls=he({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ci,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(il=e.screenX-go.screenX,cl=e.screenY-go.screenY):cl=il=0,go=e),il)},movementY:function(e){return"movementY"in e?e.movementY:cl}}),bc=Ze(Ls),Ep=he({},Ls,{dataTransfer:0}),_p=Ze(Ep),Rp=he({},ln,{relatedTarget:0}),ul=Ze(Rp),Pp=he({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=Ze(Pp),Ap=he({},no,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tp=Ze(Ap),Ip=he({},no,{data:0}),wc=Ze(Ip),Op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dp(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Bp[e])?!!r[e]:!1}function ci(){return Dp}var Mp=he({},ln,{key:function(e){if(e.key){var r=Op[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Un(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ci,charCode:function(e){return e.type==="keypress"?Un(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Un(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fp=Ze(Mp),Up=he({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=Ze(Up),$p=he({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ci}),Vp=Ze($p),Wp=he({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hp=Ze(Wp),qp=he({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gp=Ze(qp),Kp=[9,13,27,32],ui=Ir&&"CompositionEvent"in window,Ao=null;Ir&&"documentMode"in document&&(Ao=document.documentMode);var Qp=Ir&&"TextEvent"in window&&!Ao,Hd=Ir&&(!ui||Ao&&8<Ao&&11>=Ao),Nc=" ",Cc=!1;function qd(e,r){switch(e){case"keyup":return Kp.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Jp(e,r){switch(e){case"compositionend":return Gd(r);case"keypress":return r.which!==32?null:(Cc=!0,Nc);case"textInput":return e=r.data,e===Nc&&Cc?null:e;default:return null}}function Xp(e,r){if(Lt)return e==="compositionend"||!ui&&qd(e,r)?(e=Wd(),Fn=ai=Wr=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hd&&r.locale!=="ko"?null:r.data;default:return null}}var Yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Yp[e.type]:r==="textarea"}function Kd(e,r,t,o){kd(o),r=us(r,"onChange"),0<r.length&&(t=new ii("onChange","change",null,t,o),e.push({event:t,listeners:r}))}var To=null,Ho=null;function Zp(e){sf(e,0)}function As(e){var r=It(e);if(xd(r))return e}function e0(e,r){if(e==="change")return r}var Qd=!1;if(Ir){var dl;if(Ir){var fl="oninput"in document;if(!fl){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),fl=typeof Sc.oninput=="function"}dl=fl}else dl=!1;Qd=dl&&(!document.documentMode||9<document.documentMode)}function Ec(){To&&(To.detachEvent("onpropertychange",Jd),Ho=To=null)}function Jd(e){if(e.propertyName==="value"&&As(Ho)){var r=[];Kd(r,Ho,e,ti(e)),Rd(Zp,r)}}function r0(e,r,t){e==="focusin"?(Ec(),To=r,Ho=t,To.attachEvent("onpropertychange",Jd)):e==="focusout"&&Ec()}function t0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(Ho)}function o0(e,r){if(e==="click")return As(r)}function n0(e,r){if(e==="input"||e==="change")return As(r)}function s0(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var gr=typeof Object.is=="function"?Object.is:s0;function qo(e,r){if(gr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),o=Object.keys(r);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var s=t[o];if(!Bl.call(r,s)||!gr(e[s],r[s]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rc(e,r){var t=_c(e);e=0;for(var o;t;){if(t.nodeType===3){if(o=e+t.textContent.length,e<=r&&o>=r)return{node:t,offset:r-e};e=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=_c(t)}}function Xd(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Xd(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Yd(){for(var e=window,r=os();r instanceof e.HTMLIFrameElement;){try{var t=typeof r.contentWindow.location.href=="string"}catch{t=!1}if(t)e=r.contentWindow;else break;r=os(e.document)}return r}function di(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function l0(e){var r=Yd(),t=e.focusedElem,o=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&Xd(t.ownerDocument.documentElement,t)){if(o!==null&&di(t)){if(r=o.start,e=o.end,e===void 0&&(e=r),"selectionStart"in t)t.selectionStart=r,t.selectionEnd=Math.min(e,t.value.length);else if(e=(r=t.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var s=t.textContent.length,l=Math.min(o.start,s);o=o.end===void 0?l:Math.min(o.end,s),!e.extend&&l>o&&(s=o,o=l,l=s),s=Rc(t,l);var a=Rc(t,o);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),e.removeAllRanges(),l>o?(e.addRange(r),e.extend(a.node,a.offset)):(r.setEnd(a.node,a.offset),e.addRange(r)))}}for(r=[],e=t;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<r.length;t++)e=r[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a0=Ir&&"documentMode"in document&&11>=document.documentMode,At=null,ta=null,Io=null,oa=!1;function Pc(e,r,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;oa||At==null||At!==os(o)||(o=At,"selectionStart"in o&&di(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&qo(Io,o)||(Io=o,o=us(ta,"onSelect"),0<o.length&&(r=new ii("onSelect","select",null,r,t),e.push({event:r,listeners:o}),r.target=At)))}function jn(e,r){var t={};return t[e.toLowerCase()]=r.toLowerCase(),t["Webkit"+e]="webkit"+r,t["Moz"+e]="moz"+r,t}var Tt={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},hl={},Zd={};Ir&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);function Ts(e){if(hl[e])return hl[e];if(!Tt[e])return e;var r=Tt[e],t;for(t in r)if(r.hasOwnProperty(t)&&t in Zd)return hl[e]=r[t];return e}var ef=Ts("animationend"),rf=Ts("animationiteration"),tf=Ts("animationstart"),of=Ts("transitionend"),nf=new Map,Lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lt(e,r){nf.set(e,r),St(r,[e])}for(var ml=0;ml<Lc.length;ml++){var pl=Lc[ml],i0=pl.toLowerCase(),c0=pl[0].toUpperCase()+pl.slice(1);lt(i0,"on"+c0)}lt(ef,"onAnimationEnd");lt(rf,"onAnimationIteration");lt(tf,"onAnimationStart");lt("dblclick","onDoubleClick");lt("focusin","onFocus");lt("focusout","onBlur");lt(of,"onTransitionEnd");Gt("onMouseEnter",["mouseout","mouseover"]);Gt("onMouseLeave",["mouseout","mouseover"]);Gt("onPointerEnter",["pointerout","pointerover"]);Gt("onPointerLeave",["pointerout","pointerover"]);St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));St("onBeforeInput",["compositionend","keypress","textInput","paste"]);St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u0=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Ac(e,r,t){var o=e.type||"unknown-event";e.currentTarget=t,ip(o,r,void 0,e),e.currentTarget=null}function sf(e,r){r=(r&4)!==0;for(var t=0;t<e.length;t++){var o=e[t],s=o.event;o=o.listeners;e:{var l=void 0;if(r)for(var a=o.length-1;0<=a;a--){var i=o[a],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==l&&s.isPropagationStopped())break e;Ac(s,i,d),l=c}else for(a=0;a<o.length;a++){if(i=o[a],c=i.instance,d=i.currentTarget,i=i.listener,c!==l&&s.isPropagationStopped())break e;Ac(s,i,d),l=c}}}if(ss)throw e=Yl,ss=!1,Yl=null,e}function ie(e,r){var t=r[ia];t===void 0&&(t=r[ia]=new Set);var o=e+"__bubble";t.has(o)||(lf(r,e,2,!1),t.add(o))}function vl(e,r,t){var o=0;r&&(o|=4),lf(t,e,o,r)}var Nn="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[Nn]){e[Nn]=!0,hd.forEach(function(t){t!=="selectionchange"&&(u0.has(t)||vl(t,!1,e),vl(t,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Nn]||(r[Nn]=!0,vl("selectionchange",!1,r))}}function lf(e,r,t,o){switch(Vd(r)){case 1:var s=Cp;break;case 4:s=kp;break;default:s=li}t=s.bind(null,r,t,e),s=void 0,!Xl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(r,t,{capture:!0,passive:s}):e.addEventListener(r,t,!0):s!==void 0?e.addEventListener(r,t,{passive:s}):e.addEventListener(r,t,!1)}function gl(e,r,t,o,s){var l=o;if(!(r&1)&&!(r&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var i=o.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=o.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;i!==null;){if(a=ht(i),a===null)return;if(c=a.tag,c===5||c===6){o=l=a;continue e}i=i.parentNode}}o=o.return}Rd(function(){var d=l,u=ti(t),f=[];e:{var m=nf.get(e);if(m!==void 0){var j=ii,g=e;switch(e){case"keypress":if(Un(t)===0)break e;case"keydown":case"keyup":j=Fp;break;case"focusin":g="focus",j=ul;break;case"focusout":g="blur",j=ul;break;case"beforeblur":case"afterblur":j=ul;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Vp;break;case ef:case rf:case tf:j=Lp;break;case of:j=Hp;break;case"scroll":j=Sp;break;case"wheel":j=Gp;break;case"copy":case"cut":case"paste":j=Tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=jc}var h=(r&4)!==0,x=!h&&e==="scroll",y=h?m!==null?m+"Capture":null:m;h=[];for(var p=d,b;p!==null;){b=p;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,y!==null&&(C=Uo(p,y),C!=null&&h.push(Ko(p,C,b)))),x)break;p=p.return}0<h.length&&(m=new j(m,g,null,t,u),f.push({event:m,listeners:h}))}}if(!(r&7)){e:{if(m=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",m&&t!==Ql&&(g=t.relatedTarget||t.fromElement)&&(ht(g)||g[Or]))break e;if((j||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,j?(g=t.relatedTarget||t.toElement,j=d,g=g?ht(g):null,g!==null&&(x=Et(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(j=null,g=d),j!==g)){if(h=bc,C="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(h=jc,C="onPointerLeave",y="onPointerEnter",p="pointer"),x=j==null?m:It(j),b=g==null?m:It(g),m=new h(C,p+"leave",j,t,u),m.target=x,m.relatedTarget=b,C=null,ht(u)===d&&(h=new h(y,p+"enter",g,t,u),h.target=b,h.relatedTarget=x,C=h),x=C,j&&g)r:{for(h=j,y=g,p=0,b=h;b;b=_t(b))p++;for(b=0,C=y;C;C=_t(C))b++;for(;0<p-b;)h=_t(h),p--;for(;0<b-p;)y=_t(y),b--;for(;p--;){if(h===y||y!==null&&h===y.alternate)break r;h=_t(h),y=_t(y)}h=null}else h=null;j!==null&&Tc(f,m,j,h,!1),g!==null&&x!==null&&Tc(f,x,g,h,!0)}}e:{if(m=d?It(d):window,j=m.nodeName&&m.nodeName.toLowerCase(),j==="select"||j==="input"&&m.type==="file")var N=e0;else if(kc(m))if(Qd)N=n0;else{N=t0;var E=r0}else(j=m.nodeName)&&j.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=o0);if(N&&(N=N(e,d))){Kd(f,N,t,u);break e}E&&E(e,m,d),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Wl(m,"number",m.value)}switch(E=d?It(d):window,e){case"focusin":(kc(E)||E.contentEditable==="true")&&(At=E,ta=d,Io=null);break;case"focusout":Io=ta=At=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,Pc(f,t,u);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":Pc(f,t,u)}var _;if(ui)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Lt?qd(e,t)&&(P="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(Hd&&t.locale!=="ko"&&(Lt||P!=="onCompositionStart"?P==="onCompositionEnd"&&Lt&&(_=Wd()):(Wr=u,ai="value"in Wr?Wr.value:Wr.textContent,Lt=!0)),E=us(d,P),0<E.length&&(P=new wc(P,e,null,t,u),f.push({event:P,listeners:E}),_?P.data=_:(_=Gd(t),_!==null&&(P.data=_)))),(_=Qp?Jp(e,t):Xp(e,t))&&(d=us(d,"onBeforeInput"),0<d.length&&(u=new wc("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:d}),u.data=_))}sf(f,r)})}function Ko(e,r,t){return{instance:e,listener:r,currentTarget:t}}function us(e,r){for(var t=r+"Capture",o=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Uo(e,t),l!=null&&o.unshift(Ko(e,l,s)),l=Uo(e,r),l!=null&&o.push(Ko(e,l,s))),e=e.return}return o}function _t(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tc(e,r,t,o,s){for(var l=r._reactName,a=[];t!==null&&t!==o;){var i=t,c=i.alternate,d=i.stateNode;if(c!==null&&c===o)break;i.tag===5&&d!==null&&(i=d,s?(c=Uo(t,l),c!=null&&a.unshift(Ko(t,c,i))):s||(c=Uo(t,l),c!=null&&a.push(Ko(t,c,i)))),t=t.return}a.length!==0&&e.push({event:r,listeners:a})}var d0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(d0,`
`).replace(f0,"")}function Cn(e,r,t){if(r=Ic(r),Ic(e)!==r&&t)throw Error(z(425))}function ds(){}var na=null,sa=null;function la(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var aa=typeof setTimeout=="function"?setTimeout:void 0,h0=typeof clearTimeout=="function"?clearTimeout:void 0,Oc=typeof Promise=="function"?Promise:void 0,m0=typeof queueMicrotask=="function"?queueMicrotask:typeof Oc<"u"?function(e){return Oc.resolve(null).then(e).catch(p0)}:aa;function p0(e){setTimeout(function(){throw e})}function xl(e,r){var t=r,o=0;do{var s=t.nextSibling;if(e.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(o===0){e.removeChild(s),Wo(r);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=s}while(t);Wo(r)}function Jr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function zc(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(r===0)return e;r--}else t==="/$"&&r++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),Nr="__reactFiber$"+so,Qo="__reactProps$"+so,Or="__reactContainer$"+so,ia="__reactEvents$"+so,v0="__reactListeners$"+so,g0="__reactHandles$"+so;function ht(e){var r=e[Nr];if(r)return r;for(var t=e.parentNode;t;){if(r=t[Or]||t[Nr]){if(t=r.alternate,r.child!==null||t!==null&&t.child!==null)for(e=zc(e);e!==null;){if(t=e[Nr])return t;e=zc(e)}return r}e=t,t=e.parentNode}return null}function an(e){return e=e[Nr]||e[Or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function It(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Is(e){return e[Qo]||null}var ca=[],Ot=-1;function at(e){return{current:e}}function ce(e){0>Ot||(e.current=ca[Ot],ca[Ot]=null,Ot--)}function ae(e,r){Ot++,ca[Ot]=e.current,e.current=r}var st={},Te=at(st),Ue=at(!1),bt=st;function Kt(e,r){var t=e.type.contextTypes;if(!t)return st;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===r)return o.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in t)s[l]=r[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),s}function $e(e){return e=e.childContextTypes,e!=null}function fs(){ce(Ue),ce(Te)}function Bc(e,r,t){if(Te.current!==st)throw Error(z(168));ae(Te,r),ae(Ue,t)}function af(e,r,t){var o=e.stateNode;if(r=r.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var s in o)if(!(s in r))throw Error(z(108,rp(e)||"Unknown",s));return he({},t,o)}function hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||st,bt=Te.current,ae(Te,e),ae(Ue,Ue.current),!0}function Dc(e,r,t){var o=e.stateNode;if(!o)throw Error(z(169));t?(e=af(e,r,bt),o.__reactInternalMemoizedMergedChildContext=e,ce(Ue),ce(Te),ae(Te,e)):ce(Ue),ae(Ue,t)}var Pr=null,Os=!1,yl=!1;function cf(e){Pr===null?Pr=[e]:Pr.push(e)}function x0(e){Os=!0,cf(e)}function it(){if(!yl&&Pr!==null){yl=!0;var e=0,r=se;try{var t=Pr;for(se=1;e<t.length;e++){var o=t[e];do o=o(!0);while(o!==null)}Pr=null,Os=!1}catch(s){throw Pr!==null&&(Pr=Pr.slice(e+1)),Td(oi,it),s}finally{se=r,yl=!1}}return null}var zt=[],Bt=0,ms=null,ps=0,tr=[],or=0,wt=null,Lr=1,Ar="";function dt(e,r){zt[Bt++]=ps,zt[Bt++]=ms,ms=e,ps=r}function uf(e,r,t){tr[or++]=Lr,tr[or++]=Ar,tr[or++]=wt,wt=e;var o=Lr;e=Ar;var s=32-pr(o)-1;o&=~(1<<s),t+=1;var l=32-pr(r)+s;if(30<l){var a=s-s%5;l=(o&(1<<a)-1).toString(32),o>>=a,s-=a,Lr=1<<32-pr(r)+s|t<<s|o,Ar=l+e}else Lr=1<<l|t<<s|o,Ar=e}function fi(e){e.return!==null&&(dt(e,1),uf(e,1,0))}function hi(e){for(;e===ms;)ms=zt[--Bt],zt[Bt]=null,ps=zt[--Bt],zt[Bt]=null;for(;e===wt;)wt=tr[--or],tr[or]=null,Ar=tr[--or],tr[or]=null,Lr=tr[--or],tr[or]=null}var Je=null,Qe=null,ue=!1,mr=null;function df(e,r){var t=sr(5,null,null,0);t.elementType="DELETED",t.stateNode=r,t.return=e,r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)}function Mc(e,r){switch(e.tag){case 5:var t=e.type;return r=r.nodeType!==1||t.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Je=e,Qe=Jr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Je=e,Qe=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(t=wt!==null?{id:Lr,overflow:Ar}:null,e.memoizedState={dehydrated:r,treeContext:t,retryLane:1073741824},t=sr(18,null,null,0),t.stateNode=r,t.return=e,e.child=t,Je=e,Qe=null,!0):!1;default:return!1}}function ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function da(e){if(ue){var r=Qe;if(r){var t=r;if(!Mc(e,r)){if(ua(e))throw Error(z(418));r=Jr(t.nextSibling);var o=Je;r&&Mc(e,r)?df(o,t):(e.flags=e.flags&-4097|2,ue=!1,Je=e)}}else{if(ua(e))throw Error(z(418));e.flags=e.flags&-4097|2,ue=!1,Je=e}}}function Fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function kn(e){if(e!==Je)return!1;if(!ue)return Fc(e),ue=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!la(e.type,e.memoizedProps)),r&&(r=Qe)){if(ua(e))throw ff(),Error(z(418));for(;r;)df(e,r),r=Jr(r.nextSibling)}if(Fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(r===0){Qe=Jr(e.nextSibling);break e}r--}else t!=="$"&&t!=="$!"&&t!=="$?"||r++}e=e.nextSibling}Qe=null}}else Qe=Je?Jr(e.stateNode.nextSibling):null;return!0}function ff(){for(var e=Qe;e;)e=Jr(e.nextSibling)}function Qt(){Qe=Je=null,ue=!1}function mi(e){mr===null?mr=[e]:mr.push(e)}var y0=Dr.ReactCurrentBatchConfig;function xo(e,r,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var o=t.stateNode}if(!o)throw Error(z(147,e));var s=o,l=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===l?r.ref:(r=function(a){var i=s.refs;a===null?delete i[l]:i[l]=a},r._stringRef=l,r)}if(typeof e!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,e))}return e}function Sn(e,r){throw e=Object.prototype.toString.call(r),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Uc(e){var r=e._init;return r(e._payload)}function hf(e){function r(y,p){if(e){var b=y.deletions;b===null?(y.deletions=[p],y.flags|=16):b.push(p)}}function t(y,p){if(!e)return null;for(;p!==null;)r(y,p),p=p.sibling;return null}function o(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=et(y,p),y.index=0,y.sibling=null,y}function l(y,p,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<p?(y.flags|=2,p):b):(y.flags|=2,p)):(y.flags|=1048576,p)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function i(y,p,b,C){return p===null||p.tag!==6?(p=Sl(b,y.mode,C),p.return=y,p):(p=s(p,b),p.return=y,p)}function c(y,p,b,C){var N=b.type;return N===Pt?u(y,p,b.props.children,C,b.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&Uc(N)===p.type)?(C=s(p,b.props),C.ref=xo(y,p,b),C.return=y,C):(C=Kn(b.type,b.key,b.props,null,y.mode,C),C.ref=xo(y,p,b),C.return=y,C)}function d(y,p,b,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=El(b,y.mode,C),p.return=y,p):(p=s(p,b.children||[]),p.return=y,p)}function u(y,p,b,C,N){return p===null||p.tag!==7?(p=xt(b,y.mode,C,N),p.return=y,p):(p=s(p,b),p.return=y,p)}function f(y,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Sl(""+p,y.mode,b),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pn:return b=Kn(p.type,p.key,p.props,null,y.mode,b),b.ref=xo(y,null,p),b.return=y,b;case Rt:return p=El(p,y.mode,b),p.return=y,p;case Fr:var C=p._init;return f(y,C(p._payload),b)}if(So(p)||ho(p))return p=xt(p,y.mode,b,null),p.return=y,p;Sn(y,p)}return null}function m(y,p,b,C){var N=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:i(y,p,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pn:return b.key===N?c(y,p,b,C):null;case Rt:return b.key===N?d(y,p,b,C):null;case Fr:return N=b._init,m(y,p,N(b._payload),C)}if(So(b)||ho(b))return N!==null?null:u(y,p,b,C,null);Sn(y,b)}return null}function j(y,p,b,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(b)||null,i(p,y,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pn:return y=y.get(C.key===null?b:C.key)||null,c(p,y,C,N);case Rt:return y=y.get(C.key===null?b:C.key)||null,d(p,y,C,N);case Fr:var E=C._init;return j(y,p,b,E(C._payload),N)}if(So(C)||ho(C))return y=y.get(b)||null,u(p,y,C,N,null);Sn(p,C)}return null}function g(y,p,b,C){for(var N=null,E=null,_=p,P=p=0,M=null;_!==null&&P<b.length;P++){_.index>P?(M=_,_=null):M=_.sibling;var B=m(y,_,b[P],C);if(B===null){_===null&&(_=M);break}e&&_&&B.alternate===null&&r(y,_),p=l(B,p,P),E===null?N=B:E.sibling=B,E=B,_=M}if(P===b.length)return t(y,_),ue&&dt(y,P),N;if(_===null){for(;P<b.length;P++)_=f(y,b[P],C),_!==null&&(p=l(_,p,P),E===null?N=_:E.sibling=_,E=_);return ue&&dt(y,P),N}for(_=o(y,_);P<b.length;P++)M=j(_,y,P,b[P],C),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?P:M.key),p=l(M,p,P),E===null?N=M:E.sibling=M,E=M);return e&&_.forEach(function(K){return r(y,K)}),ue&&dt(y,P),N}function h(y,p,b,C){var N=ho(b);if(typeof N!="function")throw Error(z(150));if(b=N.call(b),b==null)throw Error(z(151));for(var E=N=null,_=p,P=p=0,M=null,B=b.next();_!==null&&!B.done;P++,B=b.next()){_.index>P?(M=_,_=null):M=_.sibling;var K=m(y,_,B.value,C);if(K===null){_===null&&(_=M);break}e&&_&&K.alternate===null&&r(y,_),p=l(K,p,P),E===null?N=K:E.sibling=K,E=K,_=M}if(B.done)return t(y,_),ue&&dt(y,P),N;if(_===null){for(;!B.done;P++,B=b.next())B=f(y,B.value,C),B!==null&&(p=l(B,p,P),E===null?N=B:E.sibling=B,E=B);return ue&&dt(y,P),N}for(_=o(y,_);!B.done;P++,B=b.next())B=j(_,y,P,B.value,C),B!==null&&(e&&B.alternate!==null&&_.delete(B.key===null?P:B.key),p=l(B,p,P),E===null?N=B:E.sibling=B,E=B);return e&&_.forEach(function(Q){return r(y,Q)}),ue&&dt(y,P),N}function x(y,p,b,C){if(typeof b=="object"&&b!==null&&b.type===Pt&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pn:e:{for(var N=b.key,E=p;E!==null;){if(E.key===N){if(N=b.type,N===Pt){if(E.tag===7){t(y,E.sibling),p=s(E,b.props.children),p.return=y,y=p;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&Uc(N)===E.type){t(y,E.sibling),p=s(E,b.props),p.ref=xo(y,E,b),p.return=y,y=p;break e}t(y,E);break}else r(y,E);E=E.sibling}b.type===Pt?(p=xt(b.props.children,y.mode,C,b.key),p.return=y,y=p):(C=Kn(b.type,b.key,b.props,null,y.mode,C),C.ref=xo(y,p,b),C.return=y,y=C)}return a(y);case Rt:e:{for(E=b.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){t(y,p.sibling),p=s(p,b.children||[]),p.return=y,y=p;break e}else{t(y,p);break}else r(y,p);p=p.sibling}p=El(b,y.mode,C),p.return=y,y=p}return a(y);case Fr:return E=b._init,x(y,p,E(b._payload),C)}if(So(b))return g(y,p,b,C);if(ho(b))return h(y,p,b,C);Sn(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(t(y,p.sibling),p=s(p,b),p.return=y,y=p):(t(y,p),p=Sl(b,y.mode,C),p.return=y,y=p),a(y)):t(y,p)}return x}var Jt=hf(!0),mf=hf(!1),vs=at(null),gs=null,Dt=null,pi=null;function vi(){pi=Dt=gs=null}function gi(e){var r=vs.current;ce(vs),e._currentValue=r}function fa(e,r,t){for(;e!==null;){var o=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),e===t)break;e=e.return}}function Ht(e,r){gs=e,pi=Dt=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Fe=!0),e.firstContext=null)}function ar(e){var r=e._currentValue;if(pi!==e)if(e={context:e,memoizedValue:r,next:null},Dt===null){if(gs===null)throw Error(z(308));Dt=e,gs.dependencies={lanes:0,firstContext:e}}else Dt=Dt.next=e;return r}var mt=null;function xi(e){mt===null?mt=[e]:mt.push(e)}function pf(e,r,t,o){var s=r.interleaved;return s===null?(t.next=t,xi(r)):(t.next=s.next,s.next=t),r.interleaved=t,zr(e,o)}function zr(e,r){e.lanes|=r;var t=e.alternate;for(t!==null&&(t.lanes|=r),t=e,e=e.return;e!==null;)e.childLanes|=r,t=e.alternate,t!==null&&(t.childLanes|=r),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Ur=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Xr(e,r,t){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,te&2){var s=o.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),o.pending=r,zr(e,t)}return s=o.interleaved,s===null?(r.next=r,xi(o)):(r.next=s.next,s.next=r),o.interleaved=r,zr(e,t)}function $n(e,r,t){if(r=r.updateQueue,r!==null&&(r=r.shared,(t&4194240)!==0)){var o=r.lanes;o&=e.pendingLanes,t|=o,r.lanes=t,ni(e,t)}}function $c(e,r){var t=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var s=null,l=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};l===null?s=l=a:l=l.next=a,t=t.next}while(t!==null);l===null?s=l=r:l=l.next=r}else s=l=r;t={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=r:e.next=r,t.lastBaseUpdate=r}function xs(e,r,t,o){var s=e.updateQueue;Ur=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,d=c.next;c.next=null,a===null?l=d:a.next=d,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,i=u.lastBaseUpdate,i!==a&&(i===null?u.firstBaseUpdate=d:i.next=d,u.lastBaseUpdate=c))}if(l!==null){var f=s.baseState;a=0,u=d=c=null,i=l;do{var m=i.lane,j=i.eventTime;if((o&m)===m){u!==null&&(u=u.next={eventTime:j,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=e,h=i;switch(m=r,j=t,h.tag){case 1:if(g=h.payload,typeof g=="function"){f=g.call(j,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=h.payload,m=typeof g=="function"?g.call(j,f,m):g,m==null)break e;f=he({},f,m);break e;case 2:Ur=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[i]:m.push(i))}else j={eventTime:j,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},u===null?(d=u=j,c=f):u=u.next=j,a|=m;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;m=i,i=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,r=s.shared.interleaved,r!==null){s=r;do a|=s.lane,s=s.next;while(s!==r)}else l===null&&(s.shared.lanes=0);Nt|=a,e.lanes=a,e.memoizedState=f}}function Vc(e,r,t){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var o=e[r],s=o.callback;if(s!==null){if(o.callback=null,o=t,typeof s!="function")throw Error(z(191,s));s.call(o)}}}var cn={},kr=at(cn),Jo=at(cn),Xo=at(cn);function pt(e){if(e===cn)throw Error(z(174));return e}function bi(e,r){switch(ae(Xo,r),ae(Jo,e),ae(kr,cn),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ql(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=ql(r,e)}ce(kr),ae(kr,r)}function Xt(){ce(kr),ce(Jo),ce(Xo)}function gf(e){pt(Xo.current);var r=pt(kr.current),t=ql(r,e.type);r!==t&&(ae(Jo,e),ae(kr,t))}function wi(e){Jo.current===e&&(ce(kr),ce(Jo))}var de=at(0);function ys(e){for(var r=e;r!==null;){if(r.tag===13){var t=r.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var bl=[];function ji(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var Vn=Dr.ReactCurrentDispatcher,wl=Dr.ReactCurrentBatchConfig,jt=0,fe=null,we=null,Ne=null,bs=!1,Oo=!1,Yo=0,b0=0;function Re(){throw Error(z(321))}function Ni(e,r){if(r===null)return!1;for(var t=0;t<r.length&&t<e.length;t++)if(!gr(e[t],r[t]))return!1;return!0}function Ci(e,r,t,o,s,l){if(jt=l,fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Vn.current=e===null||e.memoizedState===null?C0:k0,e=t(o,s),Oo){l=0;do{if(Oo=!1,Yo=0,25<=l)throw Error(z(301));l+=1,Ne=we=null,r.updateQueue=null,Vn.current=S0,e=t(o,s)}while(Oo)}if(Vn.current=ws,r=we!==null&&we.next!==null,jt=0,Ne=we=fe=null,bs=!1,r)throw Error(z(300));return e}function ki(){var e=Yo!==0;return Yo=0,e}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?fe.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function ir(){if(we===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var r=Ne===null?fe.memoizedState:Ne.next;if(r!==null)Ne=r,we=e;else{if(e===null)throw Error(z(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ne===null?fe.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Zo(e,r){return typeof r=="function"?r(e):r}function jl(e){var r=ir(),t=r.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=e;var o=we,s=o.baseQueue,l=t.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}o.baseQueue=s=l,t.pending=null}if(s!==null){l=s.next,o=o.baseState;var i=a=null,c=null,d=l;do{var u=d.lane;if((jt&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=f,a=o):c=c.next=f,fe.lanes|=u,Nt|=u}d=d.next}while(d!==null&&d!==l);c===null?a=o:c.next=i,gr(o,r.memoizedState)||(Fe=!0),r.memoizedState=o,r.baseState=a,r.baseQueue=c,t.lastRenderedState=o}if(e=t.interleaved,e!==null){s=e;do l=s.lane,fe.lanes|=l,Nt|=l,s=s.next;while(s!==e)}else s===null&&(t.lanes=0);return[r.memoizedState,t.dispatch]}function Nl(e){var r=ir(),t=r.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=e;var o=t.dispatch,s=t.pending,l=r.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);gr(l,r.memoizedState)||(Fe=!0),r.memoizedState=l,r.baseQueue===null&&(r.baseState=l),t.lastRenderedState=l}return[l,o]}function xf(){}function yf(e,r){var t=fe,o=ir(),s=r(),l=!gr(o.memoizedState,s);if(l&&(o.memoizedState=s,Fe=!0),o=o.queue,Si(jf.bind(null,t,o,e),[e]),o.getSnapshot!==r||l||Ne!==null&&Ne.memoizedState.tag&1){if(t.flags|=2048,en(9,wf.bind(null,t,o,s,r),void 0,null),Ce===null)throw Error(z(349));jt&30||bf(t,r,s)}return s}function bf(e,r,t){e.flags|=16384,e={getSnapshot:r,value:t},r=fe.updateQueue,r===null?(r={lastEffect:null,stores:null},fe.updateQueue=r,r.stores=[e]):(t=r.stores,t===null?r.stores=[e]:t.push(e))}function wf(e,r,t,o){r.value=t,r.getSnapshot=o,Nf(r)&&Cf(e)}function jf(e,r,t){return t(function(){Nf(r)&&Cf(e)})}function Nf(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!gr(e,t)}catch{return!0}}function Cf(e){var r=zr(e,1);r!==null&&vr(r,e,1,-1)}function Wc(e){var r=jr();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},r.queue=e,e=e.dispatch=N0.bind(null,fe,e),[r.memoizedState,e]}function en(e,r,t,o){return e={tag:e,create:r,destroy:t,deps:o,next:null},r=fe.updateQueue,r===null?(r={lastEffect:null,stores:null},fe.updateQueue=r,r.lastEffect=e.next=e):(t=r.lastEffect,t===null?r.lastEffect=e.next=e:(o=t.next,t.next=e,e.next=o,r.lastEffect=e)),e}function kf(){return ir().memoizedState}function Wn(e,r,t,o){var s=jr();fe.flags|=e,s.memoizedState=en(1|r,t,void 0,o===void 0?null:o)}function zs(e,r,t,o){var s=ir();o=o===void 0?null:o;var l=void 0;if(we!==null){var a=we.memoizedState;if(l=a.destroy,o!==null&&Ni(o,a.deps)){s.memoizedState=en(r,t,l,o);return}}fe.flags|=e,s.memoizedState=en(1|r,t,l,o)}function Hc(e,r){return Wn(8390656,8,e,r)}function Si(e,r){return zs(2048,8,e,r)}function Sf(e,r){return zs(4,2,e,r)}function Ef(e,r){return zs(4,4,e,r)}function _f(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Rf(e,r,t){return t=t!=null?t.concat([e]):null,zs(4,4,_f.bind(null,r,e),t)}function Ei(){}function Pf(e,r){var t=ir();r=r===void 0?null:r;var o=t.memoizedState;return o!==null&&r!==null&&Ni(r,o[1])?o[0]:(t.memoizedState=[e,r],e)}function Lf(e,r){var t=ir();r=r===void 0?null:r;var o=t.memoizedState;return o!==null&&r!==null&&Ni(r,o[1])?o[0]:(e=e(),t.memoizedState=[e,r],e)}function Af(e,r,t){return jt&21?(gr(t,r)||(t=zd(),fe.lanes|=t,Nt|=t,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=t)}function w0(e,r){var t=se;se=t!==0&&4>t?t:4,e(!0);var o=wl.transition;wl.transition={};try{e(!1),r()}finally{se=t,wl.transition=o}}function Tf(){return ir().memoizedState}function j0(e,r,t){var o=Zr(e);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},If(e))Of(r,t);else if(t=pf(e,r,t,o),t!==null){var s=ze();vr(t,e,o,s),zf(t,r,o)}}function N0(e,r,t){var o=Zr(e),s={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(If(e))Of(r,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=r.lastRenderedReducer,l!==null))try{var a=r.lastRenderedState,i=l(a,t);if(s.hasEagerState=!0,s.eagerState=i,gr(i,a)){var c=r.interleaved;c===null?(s.next=s,xi(r)):(s.next=c.next,c.next=s),r.interleaved=s;return}}catch{}finally{}t=pf(e,r,s,o),t!==null&&(s=ze(),vr(t,e,o,s),zf(t,r,o))}}function If(e){var r=e.alternate;return e===fe||r!==null&&r===fe}function Of(e,r){Oo=bs=!0;var t=e.pending;t===null?r.next=r:(r.next=t.next,t.next=r),e.pending=r}function zf(e,r,t){if(t&4194240){var o=r.lanes;o&=e.pendingLanes,t|=o,r.lanes=t,ni(e,t)}}var ws={readContext:ar,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},C0={readContext:ar,useCallback:function(e,r){return jr().memoizedState=[e,r===void 0?null:r],e},useContext:ar,useEffect:Hc,useImperativeHandle:function(e,r,t){return t=t!=null?t.concat([e]):null,Wn(4194308,4,_f.bind(null,r,e),t)},useLayoutEffect:function(e,r){return Wn(4194308,4,e,r)},useInsertionEffect:function(e,r){return Wn(4,2,e,r)},useMemo:function(e,r){var t=jr();return r=r===void 0?null:r,e=e(),t.memoizedState=[e,r],e},useReducer:function(e,r,t){var o=jr();return r=t!==void 0?t(r):r,o.memoizedState=o.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},o.queue=e,e=e.dispatch=j0.bind(null,fe,e),[o.memoizedState,e]},useRef:function(e){var r=jr();return e={current:e},r.memoizedState=e},useState:Wc,useDebugValue:Ei,useDeferredValue:function(e){return jr().memoizedState=e},useTransition:function(){var e=Wc(!1),r=e[0];return e=w0.bind(null,e[1]),jr().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,t){var o=fe,s=jr();if(ue){if(t===void 0)throw Error(z(407));t=t()}else{if(t=r(),Ce===null)throw Error(z(349));jt&30||bf(o,r,t)}s.memoizedState=t;var l={value:t,getSnapshot:r};return s.queue=l,Hc(jf.bind(null,o,l,e),[e]),o.flags|=2048,en(9,wf.bind(null,o,l,t,r),void 0,null),t},useId:function(){var e=jr(),r=Ce.identifierPrefix;if(ue){var t=Ar,o=Lr;t=(o&~(1<<32-pr(o)-1)).toString(32)+t,r=":"+r+"R"+t,t=Yo++,0<t&&(r+="H"+t.toString(32)),r+=":"}else t=b0++,r=":"+r+"r"+t.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},k0={readContext:ar,useCallback:Pf,useContext:ar,useEffect:Si,useImperativeHandle:Rf,useInsertionEffect:Sf,useLayoutEffect:Ef,useMemo:Lf,useReducer:jl,useRef:kf,useState:function(){return jl(Zo)},useDebugValue:Ei,useDeferredValue:function(e){var r=ir();return Af(r,we.memoizedState,e)},useTransition:function(){var e=jl(Zo)[0],r=ir().memoizedState;return[e,r]},useMutableSource:xf,useSyncExternalStore:yf,useId:Tf,unstable_isNewReconciler:!1},S0={readContext:ar,useCallback:Pf,useContext:ar,useEffect:Si,useImperativeHandle:Rf,useInsertionEffect:Sf,useLayoutEffect:Ef,useMemo:Lf,useReducer:Nl,useRef:kf,useState:function(){return Nl(Zo)},useDebugValue:Ei,useDeferredValue:function(e){var r=ir();return we===null?r.memoizedState=e:Af(r,we.memoizedState,e)},useTransition:function(){var e=Nl(Zo)[0],r=ir().memoizedState;return[e,r]},useMutableSource:xf,useSyncExternalStore:yf,useId:Tf,unstable_isNewReconciler:!1};function dr(e,r){if(e&&e.defaultProps){r=he({},r),e=e.defaultProps;for(var t in e)r[t]===void 0&&(r[t]=e[t]);return r}return r}function ha(e,r,t,o){r=e.memoizedState,t=t(o,r),t=t==null?r:he({},r,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Bs={isMounted:function(e){return(e=e._reactInternals)?Et(e)===e:!1},enqueueSetState:function(e,r,t){e=e._reactInternals;var o=ze(),s=Zr(e),l=Tr(o,s);l.payload=r,t!=null&&(l.callback=t),r=Xr(e,l,s),r!==null&&(vr(r,e,s,o),$n(r,e,s))},enqueueReplaceState:function(e,r,t){e=e._reactInternals;var o=ze(),s=Zr(e),l=Tr(o,s);l.tag=1,l.payload=r,t!=null&&(l.callback=t),r=Xr(e,l,s),r!==null&&(vr(r,e,s,o),$n(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var t=ze(),o=Zr(e),s=Tr(t,o);s.tag=2,r!=null&&(s.callback=r),r=Xr(e,s,o),r!==null&&(vr(r,e,o,t),$n(r,e,o))}};function qc(e,r,t,o,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,a):r.prototype&&r.prototype.isPureReactComponent?!qo(t,o)||!qo(s,l):!0}function Bf(e,r,t){var o=!1,s=st,l=r.contextType;return typeof l=="object"&&l!==null?l=ar(l):(s=$e(r)?bt:Te.current,o=r.contextTypes,l=(o=o!=null)?Kt(e,s):st),r=new r(t,l),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Bs,e.stateNode=r,r._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),r}function Gc(e,r,t,o){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(t,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(t,o),r.state!==e&&Bs.enqueueReplaceState(r,r.state,null)}function ma(e,r,t,o){var s=e.stateNode;s.props=t,s.state=e.memoizedState,s.refs={},yi(e);var l=r.contextType;typeof l=="object"&&l!==null?s.context=ar(l):(l=$e(r)?bt:Te.current,s.context=Kt(e,l)),s.state=e.memoizedState,l=r.getDerivedStateFromProps,typeof l=="function"&&(ha(e,r,l,t),s.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&Bs.enqueueReplaceState(s,s.state,null),xs(e,t,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yt(e,r){try{var t="",o=r;do t+=ep(o),o=o.return;while(o);var s=t}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:r,stack:s,digest:null}}function Cl(e,r,t){return{value:e,source:null,stack:t??null,digest:r??null}}function pa(e,r){try{console.error(r.value)}catch(t){setTimeout(function(){throw t})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function Df(e,r,t){t=Tr(-1,t),t.tag=3,t.payload={element:null};var o=r.value;return t.callback=function(){Ns||(Ns=!0,ka=o),pa(e,r)},t}function Mf(e,r,t){t=Tr(-1,t),t.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=r.value;t.payload=function(){return o(s)},t.callback=function(){pa(e,r)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){pa(e,r),typeof o!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})}),t}function Kc(e,r,t){var o=e.pingCache;if(o===null){o=e.pingCache=new E0;var s=new Set;o.set(r,s)}else s=o.get(r),s===void 0&&(s=new Set,o.set(r,s));s.has(t)||(s.add(t),e=U0.bind(null,e,r,t),r.then(e,e))}function Qc(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Jc(e,r,t,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===r?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(r=Tr(-1,1),r.tag=2,Xr(t,r,1))),t.lanes|=1),e)}var _0=Dr.ReactCurrentOwner,Fe=!1;function Oe(e,r,t,o){r.child=e===null?mf(r,null,t,o):Jt(r,e.child,t,o)}function Xc(e,r,t,o,s){t=t.render;var l=r.ref;return Ht(r,s),o=Ci(e,r,t,o,l,s),t=ki(),e!==null&&!Fe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,Br(e,r,s)):(ue&&t&&fi(r),r.flags|=1,Oe(e,r,o,s),r.child)}function Yc(e,r,t,o,s){if(e===null){var l=t.type;return typeof l=="function"&&!Oi(l)&&l.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(r.tag=15,r.type=l,Ff(e,r,l,o,s)):(e=Kn(t.type,null,o,r,r.mode,s),e.ref=r.ref,e.return=r,r.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(t=t.compare,t=t!==null?t:qo,t(a,o)&&e.ref===r.ref)return Br(e,r,s)}return r.flags|=1,e=et(l,o),e.ref=r.ref,e.return=r,r.child=e}function Ff(e,r,t,o,s){if(e!==null){var l=e.memoizedProps;if(qo(l,o)&&e.ref===r.ref)if(Fe=!1,r.pendingProps=o=l,(e.lanes&s)!==0)e.flags&131072&&(Fe=!0);else return r.lanes=e.lanes,Br(e,r,s)}return va(e,r,t,o,s)}function Uf(e,r,t){var o=r.pendingProps,s=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Ft,Ke),Ke|=t;else{if(!(t&1073741824))return e=l!==null?l.baseLanes|t:t,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,ae(Ft,Ke),Ke|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:t,ae(Ft,Ke),Ke|=o}else l!==null?(o=l.baseLanes|t,r.memoizedState=null):o=t,ae(Ft,Ke),Ke|=o;return Oe(e,r,s,t),r.child}function $f(e,r){var t=r.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(r.flags|=512,r.flags|=2097152)}function va(e,r,t,o,s){var l=$e(t)?bt:Te.current;return l=Kt(r,l),Ht(r,s),t=Ci(e,r,t,o,l,s),o=ki(),e!==null&&!Fe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,Br(e,r,s)):(ue&&o&&fi(r),r.flags|=1,Oe(e,r,t,s),r.child)}function Zc(e,r,t,o,s){if($e(t)){var l=!0;hs(r)}else l=!1;if(Ht(r,s),r.stateNode===null)Hn(e,r),Bf(r,t,o),ma(r,t,o,s),o=!0;else if(e===null){var a=r.stateNode,i=r.memoizedProps;a.props=i;var c=a.context,d=t.contextType;typeof d=="object"&&d!==null?d=ar(d):(d=$e(t)?bt:Te.current,d=Kt(r,d));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==o||c!==d)&&Gc(r,a,o,d),Ur=!1;var m=r.memoizedState;a.state=m,xs(r,o,a,s),c=r.memoizedState,i!==o||m!==c||Ue.current||Ur?(typeof u=="function"&&(ha(r,t,u,o),c=r.memoizedState),(i=Ur||qc(r,t,i,o,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(r.flags|=4194308)):(typeof a.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=c),a.props=o,a.state=c,a.context=d,o=i):(typeof a.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{a=r.stateNode,vf(e,r),i=r.memoizedProps,d=r.type===r.elementType?i:dr(r.type,i),a.props=d,f=r.pendingProps,m=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=ar(c):(c=$e(t)?bt:Te.current,c=Kt(r,c));var j=t.getDerivedStateFromProps;(u=typeof j=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||m!==c)&&Gc(r,a,o,c),Ur=!1,m=r.memoizedState,a.state=m,xs(r,o,a,s);var g=r.memoizedState;i!==f||m!==g||Ue.current||Ur?(typeof j=="function"&&(ha(r,t,j,o),g=r.memoizedState),(d=Ur||qc(r,t,d,o,m,g,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,g,c)),typeof a.componentDidUpdate=="function"&&(r.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=g),a.props=o,a.state=g,a.context=c,o=d):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),o=!1)}return ga(e,r,t,o,l,s)}function ga(e,r,t,o,s,l){$f(e,r);var a=(r.flags&128)!==0;if(!o&&!a)return s&&Dc(r,t,!1),Br(e,r,l);o=r.stateNode,_0.current=r;var i=a&&typeof t.getDerivedStateFromError!="function"?null:o.render();return r.flags|=1,e!==null&&a?(r.child=Jt(r,e.child,null,l),r.child=Jt(r,null,i,l)):Oe(e,r,i,l),r.memoizedState=o.state,s&&Dc(r,t,!0),r.child}function Vf(e){var r=e.stateNode;r.pendingContext?Bc(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Bc(e,r.context,!1),bi(e,r.containerInfo)}function eu(e,r,t,o,s){return Qt(),mi(s),r.flags|=256,Oe(e,r,t,o),r.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wf(e,r,t){var o=r.pendingProps,s=de.current,l=!1,a=(r.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ae(de,s&1),e===null)return da(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(a=o.children,e=o.fallback,l?(o=r.mode,l=r.child,a={mode:"hidden",children:a},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Fs(a,o,0,null),e=xt(e,o,t,null),l.return=r,e.return=r,l.sibling=e,r.child=l,r.child.memoizedState=ya(t),r.memoizedState=xa,e):_i(r,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return R0(e,r,a,o,i,s,t);if(l){l=o.fallback,a=r.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:o.children};return!(a&1)&&r.child!==s?(o=r.child,o.childLanes=0,o.pendingProps=c,r.deletions=null):(o=et(s,c),o.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=et(i,l):(l=xt(l,a,t,null),l.flags|=2),l.return=r,o.return=r,o.sibling=l,r.child=o,o=l,l=r.child,a=e.child.memoizedState,a=a===null?ya(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~t,r.memoizedState=xa,o}return l=e.child,e=l.sibling,o=et(l,{mode:"visible",children:o.children}),!(r.mode&1)&&(o.lanes=t),o.return=r,o.sibling=null,e!==null&&(t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)),r.child=o,r.memoizedState=null,o}function _i(e,r){return r=Fs({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function En(e,r,t,o){return o!==null&&mi(o),Jt(r,e.child,null,t),e=_i(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function R0(e,r,t,o,s,l,a){if(t)return r.flags&256?(r.flags&=-257,o=Cl(Error(z(422))),En(e,r,a,o)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(l=o.fallback,s=r.mode,o=Fs({mode:"visible",children:o.children},s,0,null),l=xt(l,s,a,null),l.flags|=2,o.return=r,l.return=r,o.sibling=l,r.child=o,r.mode&1&&Jt(r,e.child,null,a),r.child.memoizedState=ya(a),r.memoizedState=xa,l);if(!(r.mode&1))return En(e,r,a,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var i=o.dgst;return o=i,l=Error(z(419)),o=Cl(l,o,void 0),En(e,r,a,o)}if(i=(a&e.childLanes)!==0,Fe||i){if(o=Ce,o!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,zr(e,s),vr(o,e,s,-1))}return Ii(),o=Cl(Error(z(421))),En(e,r,a,o)}return s.data==="$?"?(r.flags|=128,r.child=e.child,r=$0.bind(null,e),s._reactRetry=r,null):(e=l.treeContext,Qe=Jr(s.nextSibling),Je=r,ue=!0,mr=null,e!==null&&(tr[or++]=Lr,tr[or++]=Ar,tr[or++]=wt,Lr=e.id,Ar=e.overflow,wt=r),r=_i(r,o.children),r.flags|=4096,r)}function ru(e,r,t){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r),fa(e.return,r,t)}function kl(e,r,t,o,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:s}:(l.isBackwards=r,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=t,l.tailMode=s)}function Hf(e,r,t){var o=r.pendingProps,s=o.revealOrder,l=o.tail;if(Oe(e,r,o.children,t),o=de.current,o&2)o=o&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ru(e,t,r);else if(e.tag===19)ru(e,t,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ae(de,o),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(t=r.child,s=null;t!==null;)e=t.alternate,e!==null&&ys(e)===null&&(s=t),t=t.sibling;t=s,t===null?(s=r.child,r.child=null):(s=t.sibling,t.sibling=null),kl(r,!1,s,t,l);break;case"backwards":for(t=null,s=r.child,r.child=null;s!==null;){if(e=s.alternate,e!==null&&ys(e)===null){r.child=s;break}e=s.sibling,s.sibling=t,t=s,s=e}kl(r,!0,t,null,l);break;case"together":kl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hn(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Br(e,r,t){if(e!==null&&(r.dependencies=e.dependencies),Nt|=r.lanes,!(t&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(z(153));if(r.child!==null){for(e=r.child,t=et(e,e.pendingProps),r.child=t,t.return=r;e.sibling!==null;)e=e.sibling,t=t.sibling=et(e,e.pendingProps),t.return=r;t.sibling=null}return r.child}function P0(e,r,t){switch(r.tag){case 3:Vf(r),Qt();break;case 5:gf(r);break;case 1:$e(r.type)&&hs(r);break;case 4:bi(r,r.stateNode.containerInfo);break;case 10:var o=r.type._context,s=r.memoizedProps.value;ae(vs,o._currentValue),o._currentValue=s;break;case 13:if(o=r.memoizedState,o!==null)return o.dehydrated!==null?(ae(de,de.current&1),r.flags|=128,null):t&r.child.childLanes?Wf(e,r,t):(ae(de,de.current&1),e=Br(e,r,t),e!==null?e.sibling:null);ae(de,de.current&1);break;case 19:if(o=(t&r.childLanes)!==0,e.flags&128){if(o)return Hf(e,r,t);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(de,de.current),o)break;return null;case 22:case 23:return r.lanes=0,Uf(e,r,t)}return Br(e,r,t)}var qf,ba,Gf,Kf;qf=function(e,r){for(var t=r.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ba=function(){};Gf=function(e,r,t,o){var s=e.memoizedProps;if(s!==o){e=r.stateNode,pt(kr.current);var l=null;switch(t){case"input":s=$l(e,s),o=$l(e,o),l=[];break;case"select":s=he({},s,{value:void 0}),o=he({},o,{value:void 0}),l=[];break;case"textarea":s=Hl(e,s),o=Hl(e,o),l=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ds)}Gl(t,o);var a;t=null;for(d in s)if(!o.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var i=s[d];for(a in i)i.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Mo.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in o){var c=o[d];if(i=s!=null?s[d]:void 0,o.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(l||(l=[]),l.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ie("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}t&&(l=l||[]).push("style",t);var d=l;(r.updateQueue=d)&&(r.flags|=4)}};Kf=function(e,r,t,o){t!==o&&(r.flags|=4)};function yo(e,r){if(!ue)switch(e.tailMode){case"hidden":r=e.tail;for(var t=null;r!==null;)r.alternate!==null&&(t=r),r=r.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Pe(e){var r=e.alternate!==null&&e.alternate.child===e.child,t=0,o=0;if(r)for(var s=e.child;s!==null;)t|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)t|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=t,r}function L0(e,r,t){var o=r.pendingProps;switch(hi(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(r),null;case 1:return $e(r.type)&&fs(),Pe(r),null;case 3:return o=r.stateNode,Xt(),ce(Ue),ce(Te),ji(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(kn(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,mr!==null&&(_a(mr),mr=null))),ba(e,r),Pe(r),null;case 5:wi(r);var s=pt(Xo.current);if(t=r.type,e!==null&&r.stateNode!=null)Gf(e,r,t,o,s),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!o){if(r.stateNode===null)throw Error(z(166));return Pe(r),null}if(e=pt(kr.current),kn(r)){o=r.stateNode,t=r.type;var l=r.memoizedProps;switch(o[Nr]=r,o[Qo]=l,e=(r.mode&1)!==0,t){case"dialog":ie("cancel",o),ie("close",o);break;case"iframe":case"object":case"embed":ie("load",o);break;case"video":case"audio":for(s=0;s<_o.length;s++)ie(_o[s],o);break;case"source":ie("error",o);break;case"img":case"image":case"link":ie("error",o),ie("load",o);break;case"details":ie("toggle",o);break;case"input":uc(o,l),ie("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},ie("invalid",o);break;case"textarea":fc(o,l),ie("invalid",o)}Gl(t,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var i=l[a];a==="children"?typeof i=="string"?o.textContent!==i&&(l.suppressHydrationWarning!==!0&&Cn(o.textContent,i,e),s=["children",i]):typeof i=="number"&&o.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&Cn(o.textContent,i,e),s=["children",""+i]):Mo.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&ie("scroll",o)}switch(t){case"input":vn(o),dc(o,l,!0);break;case"textarea":vn(o),hc(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=ds)}o=s,r.updateQueue=o,o!==null&&(r.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wd(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=a.createElement(t,{is:o.is}):(e=a.createElement(t),t==="select"&&(a=e,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):e=a.createElementNS(e,t),e[Nr]=r,e[Qo]=o,qf(e,r,!1,!1),r.stateNode=e;e:{switch(a=Kl(t,o),t){case"dialog":ie("cancel",e),ie("close",e),s=o;break;case"iframe":case"object":case"embed":ie("load",e),s=o;break;case"video":case"audio":for(s=0;s<_o.length;s++)ie(_o[s],e);s=o;break;case"source":ie("error",e),s=o;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=o;break;case"details":ie("toggle",e),s=o;break;case"input":uc(e,o),s=$l(e,o),ie("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=he({},o,{value:void 0}),ie("invalid",e);break;case"textarea":fc(e,o),s=Hl(e,o),ie("invalid",e);break;default:s=o}Gl(t,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?Cd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jd(e,c)):l==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Fo(e,c):typeof c=="number"&&Fo(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Mo.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ie("scroll",e):c!=null&&Ya(e,l,c,a))}switch(t){case"input":vn(e),dc(e,o,!1);break;case"textarea":vn(e),hc(e);break;case"option":o.value!=null&&e.setAttribute("value",""+nt(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?Ut(e,!!o.multiple,l,!1):o.defaultValue!=null&&Ut(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ds)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pe(r),null;case 6:if(e&&r.stateNode!=null)Kf(e,r,e.memoizedProps,o);else{if(typeof o!="string"&&r.stateNode===null)throw Error(z(166));if(t=pt(Xo.current),pt(kr.current),kn(r)){if(o=r.stateNode,t=r.memoizedProps,o[Nr]=r,(l=o.nodeValue!==t)&&(e=Je,e!==null))switch(e.tag){case 3:Cn(o.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cn(o.nodeValue,t,(e.mode&1)!==0)}l&&(r.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[Nr]=r,r.stateNode=o}return Pe(r),null;case 13:if(ce(de),o=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Qe!==null&&r.mode&1&&!(r.flags&128))ff(),Qt(),r.flags|=98560,l=!1;else if(l=kn(r),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(z(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(z(317));l[Nr]=r}else Qt(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Pe(r),l=!1}else mr!==null&&(_a(mr),mr=null),l=!0;if(!l)return r.flags&65536?r:null}return r.flags&128?(r.lanes=t,r):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(r.child.flags|=8192,r.mode&1&&(e===null||de.current&1?je===0&&(je=3):Ii())),r.updateQueue!==null&&(r.flags|=4),Pe(r),null);case 4:return Xt(),ba(e,r),e===null&&Go(r.stateNode.containerInfo),Pe(r),null;case 10:return gi(r.type._context),Pe(r),null;case 17:return $e(r.type)&&fs(),Pe(r),null;case 19:if(ce(de),l=r.memoizedState,l===null)return Pe(r),null;if(o=(r.flags&128)!==0,a=l.rendering,a===null)if(o)yo(l,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(a=ys(e),a!==null){for(r.flags|=128,yo(l,!1),o=a.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),r.subtreeFlags=0,o=t,t=r.child;t!==null;)l=t,e=o,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return ae(de,de.current&1|2),r.child}e=e.sibling}l.tail!==null&&pe()>Zt&&(r.flags|=128,o=!0,yo(l,!1),r.lanes=4194304)}else{if(!o)if(e=ys(a),e!==null){if(r.flags|=128,o=!0,t=e.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!ue)return Pe(r),null}else 2*pe()-l.renderingStartTime>Zt&&t!==1073741824&&(r.flags|=128,o=!0,yo(l,!1),r.lanes=4194304);l.isBackwards?(a.sibling=r.child,r.child=a):(t=l.last,t!==null?t.sibling=a:r.child=a,l.last=a)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=pe(),r.sibling=null,t=de.current,ae(de,o?t&1|2:t&1),r):(Pe(r),null);case 22:case 23:return Ti(),o=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(r.flags|=8192),o&&r.mode&1?Ke&1073741824&&(Pe(r),r.subtreeFlags&6&&(r.flags|=8192)):Pe(r),null;case 24:return null;case 25:return null}throw Error(z(156,r.tag))}function A0(e,r){switch(hi(r),r.tag){case 1:return $e(r.type)&&fs(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Xt(),ce(Ue),ce(Te),ji(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return wi(r),null;case 13:if(ce(de),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(z(340));Qt()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ce(de),null;case 4:return Xt(),null;case 10:return gi(r.type._context),null;case 22:case 23:return Ti(),null;case 24:return null;default:return null}}var _n=!1,Le=!1,T0=typeof WeakSet=="function"?WeakSet:Set,W=null;function Mt(e,r){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){me(e,r,o)}else t.current=null}function wa(e,r,t){try{t()}catch(o){me(e,r,o)}}var tu=!1;function I0(e,r){if(na=is,e=Yd(),di(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var s=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{t.nodeType,l.nodeType}catch{t=null;break e}var a=0,i=-1,c=-1,d=0,u=0,f=e,m=null;r:for(;;){for(var j;f!==t||s!==0&&f.nodeType!==3||(i=a+s),f!==l||o!==0&&f.nodeType!==3||(c=a+o),f.nodeType===3&&(a+=f.nodeValue.length),(j=f.firstChild)!==null;)m=f,f=j;for(;;){if(f===e)break r;if(m===t&&++d===s&&(i=a),m===l&&++u===o&&(c=a),(j=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=j}t=i===-1||c===-1?null:{start:i,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(sa={focusedElem:e,selectionRange:t},is=!1,W=r;W!==null;)if(r=W,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,W=e;else for(;W!==null;){r=W;try{var g=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var h=g.memoizedProps,x=g.memoizedState,y=r.stateNode,p=y.getSnapshotBeforeUpdate(r.elementType===r.type?h:dr(r.type,h),x);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){me(r,r.return,C)}if(e=r.sibling,e!==null){e.return=r.return,W=e;break}W=r.return}return g=tu,tu=!1,g}function zo(e,r,t){var o=r.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&wa(r,t,l)}s=s.next}while(s!==o)}}function Ds(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var t=r=r.next;do{if((t.tag&e)===e){var o=t.create;t.destroy=o()}t=t.next}while(t!==r)}}function ja(e){var r=e.ref;if(r!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof r=="function"?r(e):r.current=e}}function Qf(e){var r=e.alternate;r!==null&&(e.alternate=null,Qf(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Nr],delete r[Qo],delete r[ia],delete r[v0],delete r[g0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jf(e){return e.tag===5||e.tag===3||e.tag===4}function ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Na(e,r,t){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?t.nodeType===8?t.parentNode.insertBefore(e,r):t.insertBefore(e,r):(t.nodeType===8?(r=t.parentNode,r.insertBefore(e,t)):(r=t,r.appendChild(e)),t=t._reactRootContainer,t!=null||r.onclick!==null||(r.onclick=ds));else if(o!==4&&(e=e.child,e!==null))for(Na(e,r,t),e=e.sibling;e!==null;)Na(e,r,t),e=e.sibling}function Ca(e,r,t){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?t.insertBefore(e,r):t.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ca(e,r,t),e=e.sibling;e!==null;)Ca(e,r,t),e=e.sibling}var Se=null,fr=!1;function Mr(e,r,t){for(t=t.child;t!==null;)Xf(e,r,t),t=t.sibling}function Xf(e,r,t){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Ps,t)}catch{}switch(t.tag){case 5:Le||Mt(t,r);case 6:var o=Se,s=fr;Se=null,Mr(e,r,t),Se=o,fr=s,Se!==null&&(fr?(e=Se,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):Se.removeChild(t.stateNode));break;case 18:Se!==null&&(fr?(e=Se,t=t.stateNode,e.nodeType===8?xl(e.parentNode,t):e.nodeType===1&&xl(e,t),Wo(e)):xl(Se,t.stateNode));break;case 4:o=Se,s=fr,Se=t.stateNode.containerInfo,fr=!0,Mr(e,r,t),Se=o,fr=s;break;case 0:case 11:case 14:case 15:if(!Le&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&wa(t,r,a),s=s.next}while(s!==o)}Mr(e,r,t);break;case 1:if(!Le&&(Mt(t,r),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(i){me(t,r,i)}Mr(e,r,t);break;case 21:Mr(e,r,t);break;case 22:t.mode&1?(Le=(o=Le)||t.memoizedState!==null,Mr(e,r,t),Le=o):Mr(e,r,t);break;default:Mr(e,r,t)}}function nu(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new T0),r.forEach(function(o){var s=V0.bind(null,e,o);t.has(o)||(t.add(o),o.then(s,s))})}}function ur(e,r){var t=r.deletions;if(t!==null)for(var o=0;o<t.length;o++){var s=t[o];try{var l=e,a=r,i=a;e:for(;i!==null;){switch(i.tag){case 5:Se=i.stateNode,fr=!1;break e;case 3:Se=i.stateNode.containerInfo,fr=!0;break e;case 4:Se=i.stateNode.containerInfo,fr=!0;break e}i=i.return}if(Se===null)throw Error(z(160));Xf(l,a,s),Se=null,fr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){me(s,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Yf(r,e),r=r.sibling}function Yf(e,r){var t=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(r,e),br(e),o&4){try{zo(3,e,e.return),Ds(3,e)}catch(h){me(e,e.return,h)}try{zo(5,e,e.return)}catch(h){me(e,e.return,h)}}break;case 1:ur(r,e),br(e),o&512&&t!==null&&Mt(t,t.return);break;case 5:if(ur(r,e),br(e),o&512&&t!==null&&Mt(t,t.return),e.flags&32){var s=e.stateNode;try{Fo(s,"")}catch(h){me(e,e.return,h)}}if(o&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=t!==null?t.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&yd(s,l),Kl(i,a);var d=Kl(i,l);for(a=0;a<c.length;a+=2){var u=c[a],f=c[a+1];u==="style"?Cd(s,f):u==="dangerouslySetInnerHTML"?jd(s,f):u==="children"?Fo(s,f):Ya(s,u,f,d)}switch(i){case"input":Vl(s,l);break;case"textarea":bd(s,l);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?Ut(s,!!l.multiple,j,!1):m!==!!l.multiple&&(l.defaultValue!=null?Ut(s,!!l.multiple,l.defaultValue,!0):Ut(s,!!l.multiple,l.multiple?[]:"",!1))}s[Qo]=l}catch(h){me(e,e.return,h)}}break;case 6:if(ur(r,e),br(e),o&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(h){me(e,e.return,h)}}break;case 3:if(ur(r,e),br(e),o&4&&t!==null&&t.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(h){me(e,e.return,h)}break;case 4:ur(r,e),br(e);break;case 13:ur(r,e),br(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Li=pe())),o&4&&nu(e);break;case 22:if(u=t!==null&&t.memoizedState!==null,e.mode&1?(Le=(d=Le)||u,ur(r,e),Le=d):ur(r,e),br(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(f=W=u;W!==null;){switch(m=W,j=m.child,m.tag){case 0:case 11:case 14:case 15:zo(4,m,m.return);break;case 1:Mt(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){o=m,t=m.return;try{r=o,g.props=r.memoizedProps,g.state=r.memoizedState,g.componentWillUnmount()}catch(h){me(o,t,h)}}break;case 5:Mt(m,m.return);break;case 22:if(m.memoizedState!==null){lu(f);continue}}j!==null?(j.return=m,W=j):lu(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Nd("display",a))}catch(h){me(e,e.return,h)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(h){me(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ur(r,e),br(e),o&4&&nu(e);break;case 21:break;default:ur(r,e),br(e)}}function br(e){var r=e.flags;if(r&2){try{e:{for(var t=e.return;t!==null;){if(Jf(t)){var o=t;break e}t=t.return}throw Error(z(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(Fo(s,""),o.flags&=-33);var l=ou(e);Ca(e,l,s);break;case 3:case 4:var a=o.stateNode.containerInfo,i=ou(e);Na(e,i,a);break;default:throw Error(z(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function O0(e,r,t){W=e,Zf(e)}function Zf(e,r,t){for(var o=(e.mode&1)!==0;W!==null;){var s=W,l=s.child;if(s.tag===22&&o){var a=s.memoizedState!==null||_n;if(!a){var i=s.alternate,c=i!==null&&i.memoizedState!==null||Le;i=_n;var d=Le;if(_n=a,(Le=c)&&!d)for(W=s;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?au(s):c!==null?(c.return=a,W=c):au(s);for(;l!==null;)W=l,Zf(l),l=l.sibling;W=s,_n=i,Le=d}su(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,W=l):su(e)}}function su(e){for(;W!==null;){var r=W;if(r.flags&8772){var t=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Le||Ds(5,r);break;case 1:var o=r.stateNode;if(r.flags&4&&!Le)if(t===null)o.componentDidMount();else{var s=r.elementType===r.type?t.memoizedProps:dr(r.type,t.memoizedProps);o.componentDidUpdate(s,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=r.updateQueue;l!==null&&Vc(r,l,o);break;case 3:var a=r.updateQueue;if(a!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}Vc(r,a,t)}break;case 5:var i=r.stateNode;if(t===null&&r.flags&4){t=i;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Wo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Le||r.flags&512&&ja(r)}catch(m){me(r,r.return,m)}}if(r===e){W=null;break}if(t=r.sibling,t!==null){t.return=r.return,W=t;break}W=r.return}}function lu(e){for(;W!==null;){var r=W;if(r===e){W=null;break}var t=r.sibling;if(t!==null){t.return=r.return,W=t;break}W=r.return}}function au(e){for(;W!==null;){var r=W;try{switch(r.tag){case 0:case 11:case 15:var t=r.return;try{Ds(4,r)}catch(c){me(r,t,c)}break;case 1:var o=r.stateNode;if(typeof o.componentDidMount=="function"){var s=r.return;try{o.componentDidMount()}catch(c){me(r,s,c)}}var l=r.return;try{ja(r)}catch(c){me(r,l,c)}break;case 5:var a=r.return;try{ja(r)}catch(c){me(r,a,c)}}}catch(c){me(r,r.return,c)}if(r===e){W=null;break}var i=r.sibling;if(i!==null){i.return=r.return,W=i;break}W=r.return}}var z0=Math.ceil,js=Dr.ReactCurrentDispatcher,Ri=Dr.ReactCurrentOwner,lr=Dr.ReactCurrentBatchConfig,te=0,Ce=null,ye=null,Ee=0,Ke=0,Ft=at(0),je=0,rn=null,Nt=0,Ms=0,Pi=0,Bo=null,Me=null,Li=0,Zt=1/0,Rr=null,Ns=!1,ka=null,Yr=null,Rn=!1,Hr=null,Cs=0,Do=0,Sa=null,qn=-1,Gn=0;function ze(){return te&6?pe():qn!==-1?qn:qn=pe()}function Zr(e){return e.mode&1?te&2&&Ee!==0?Ee&-Ee:y0.transition!==null?(Gn===0&&(Gn=zd()),Gn):(e=se,e!==0||(e=window.event,e=e===void 0?16:Vd(e.type)),e):1}function vr(e,r,t,o){if(50<Do)throw Do=0,Sa=null,Error(z(185));sn(e,t,o),(!(te&2)||e!==Ce)&&(e===Ce&&(!(te&2)&&(Ms|=t),je===4&&Vr(e,Ee)),Ve(e,o),t===1&&te===0&&!(r.mode&1)&&(Zt=pe()+500,Os&&it()))}function Ve(e,r){var t=e.callbackNode;yp(e,r);var o=as(e,e===Ce?Ee:0);if(o===0)t!==null&&vc(t),e.callbackNode=null,e.callbackPriority=0;else if(r=o&-o,e.callbackPriority!==r){if(t!=null&&vc(t),r===1)e.tag===0?x0(iu.bind(null,e)):cf(iu.bind(null,e)),m0(function(){!(te&6)&&it()}),t=null;else{switch(Bd(o)){case 1:t=oi;break;case 4:t=Id;break;case 16:t=ls;break;case 536870912:t=Od;break;default:t=ls}t=ah(t,eh.bind(null,e))}e.callbackPriority=r,e.callbackNode=t}}function eh(e,r){if(qn=-1,Gn=0,te&6)throw Error(z(327));var t=e.callbackNode;if(qt()&&e.callbackNode!==t)return null;var o=as(e,e===Ce?Ee:0);if(o===0)return null;if(o&30||o&e.expiredLanes||r)r=ks(e,o);else{r=o;var s=te;te|=2;var l=th();(Ce!==e||Ee!==r)&&(Rr=null,Zt=pe()+500,gt(e,r));do try{M0();break}catch(i){rh(e,i)}while(!0);vi(),js.current=l,te=s,ye!==null?r=0:(Ce=null,Ee=0,r=je)}if(r!==0){if(r===2&&(s=Zl(e),s!==0&&(o=s,r=Ea(e,s))),r===1)throw t=rn,gt(e,0),Vr(e,o),Ve(e,pe()),t;if(r===6)Vr(e,o);else{if(s=e.current.alternate,!(o&30)&&!B0(s)&&(r=ks(e,o),r===2&&(l=Zl(e),l!==0&&(o=l,r=Ea(e,l))),r===1))throw t=rn,gt(e,0),Vr(e,o),Ve(e,pe()),t;switch(e.finishedWork=s,e.finishedLanes=o,r){case 0:case 1:throw Error(z(345));case 2:ft(e,Me,Rr);break;case 3:if(Vr(e,o),(o&130023424)===o&&(r=Li+500-pe(),10<r)){if(as(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=aa(ft.bind(null,e,Me,Rr),r);break}ft(e,Me,Rr);break;case 4:if(Vr(e,o),(o&4194240)===o)break;for(r=e.eventTimes,s=-1;0<o;){var a=31-pr(o);l=1<<a,a=r[a],a>s&&(s=a),o&=~l}if(o=s,o=pe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*z0(o/1960))-o,10<o){e.timeoutHandle=aa(ft.bind(null,e,Me,Rr),o);break}ft(e,Me,Rr);break;case 5:ft(e,Me,Rr);break;default:throw Error(z(329))}}}return Ve(e,pe()),e.callbackNode===t?eh.bind(null,e):null}function Ea(e,r){var t=Bo;return e.current.memoizedState.isDehydrated&&(gt(e,r).flags|=256),e=ks(e,r),e!==2&&(r=Me,Me=t,r!==null&&_a(r)),e}function _a(e){Me===null?Me=e:Me.push.apply(Me,e)}function B0(e){for(var r=e;;){if(r.flags&16384){var t=r.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var s=t[o],l=s.getSnapshot;s=s.value;try{if(!gr(l(),s))return!1}catch{return!1}}}if(t=r.child,r.subtreeFlags&16384&&t!==null)t.return=r,r=t;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(e,r){for(r&=~Pi,r&=~Ms,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var t=31-pr(r),o=1<<t;e[t]=-1,r&=~o}}function iu(e){if(te&6)throw Error(z(327));qt();var r=as(e,0);if(!(r&1))return Ve(e,pe()),null;var t=ks(e,r);if(e.tag!==0&&t===2){var o=Zl(e);o!==0&&(r=o,t=Ea(e,o))}if(t===1)throw t=rn,gt(e,0),Vr(e,r),Ve(e,pe()),t;if(t===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,ft(e,Me,Rr),Ve(e,pe()),null}function Ai(e,r){var t=te;te|=1;try{return e(r)}finally{te=t,te===0&&(Zt=pe()+500,Os&&it())}}function Ct(e){Hr!==null&&Hr.tag===0&&!(te&6)&&qt();var r=te;te|=1;var t=lr.transition,o=se;try{if(lr.transition=null,se=1,e)return e()}finally{se=o,lr.transition=t,te=r,!(te&6)&&it()}}function Ti(){Ke=Ft.current,ce(Ft)}function gt(e,r){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,h0(t)),ye!==null)for(t=ye.return;t!==null;){var o=t;switch(hi(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&fs();break;case 3:Xt(),ce(Ue),ce(Te),ji();break;case 5:wi(o);break;case 4:Xt();break;case 13:ce(de);break;case 19:ce(de);break;case 10:gi(o.type._context);break;case 22:case 23:Ti()}t=t.return}if(Ce=e,ye=e=et(e.current,null),Ee=Ke=r,je=0,rn=null,Pi=Ms=Nt=0,Me=Bo=null,mt!==null){for(r=0;r<mt.length;r++)if(t=mt[r],o=t.interleaved,o!==null){t.interleaved=null;var s=o.next,l=t.pending;if(l!==null){var a=l.next;l.next=s,o.next=a}t.pending=o}mt=null}return e}function rh(e,r){do{var t=ye;try{if(vi(),Vn.current=ws,bs){for(var o=fe.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}bs=!1}if(jt=0,Ne=we=fe=null,Oo=!1,Yo=0,Ri.current=null,t===null||t.return===null){je=1,rn=r,ye=null;break}e:{var l=e,a=t.return,i=t,c=r;if(r=Ee,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=i,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var j=Qc(a);if(j!==null){j.flags&=-257,Jc(j,a,i,l,r),j.mode&1&&Kc(l,d,r),r=j,c=d;var g=r.updateQueue;if(g===null){var h=new Set;h.add(c),r.updateQueue=h}else g.add(c);break e}else{if(!(r&1)){Kc(l,d,r),Ii();break e}c=Error(z(426))}}else if(ue&&i.mode&1){var x=Qc(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Jc(x,a,i,l,r),mi(Yt(c,i));break e}}l=c=Yt(c,i),je!==4&&(je=2),Bo===null?Bo=[l]:Bo.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,r&=-r,l.lanes|=r;var y=Df(l,c,r);$c(l,y);break e;case 1:i=c;var p=l.type,b=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yr===null||!Yr.has(b)))){l.flags|=65536,r&=-r,l.lanes|=r;var C=Mf(l,i,r);$c(l,C);break e}}l=l.return}while(l!==null)}nh(t)}catch(N){r=N,ye===t&&t!==null&&(ye=t=t.return);continue}break}while(!0)}function th(){var e=js.current;return js.current=ws,e===null?ws:e}function Ii(){(je===0||je===3||je===2)&&(je=4),Ce===null||!(Nt&268435455)&&!(Ms&268435455)||Vr(Ce,Ee)}function ks(e,r){var t=te;te|=2;var o=th();(Ce!==e||Ee!==r)&&(Rr=null,gt(e,r));do try{D0();break}catch(s){rh(e,s)}while(!0);if(vi(),te=t,js.current=o,ye!==null)throw Error(z(261));return Ce=null,Ee=0,je}function D0(){for(;ye!==null;)oh(ye)}function M0(){for(;ye!==null&&!up();)oh(ye)}function oh(e){var r=lh(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,r===null?nh(e):ye=r,Ri.current=null}function nh(e){var r=e;do{var t=r.alternate;if(e=r.return,r.flags&32768){if(t=A0(t,r),t!==null){t.flags&=32767,ye=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ye=null;return}}else if(t=L0(t,r,Ke),t!==null){ye=t;return}if(r=r.sibling,r!==null){ye=r;return}ye=r=e}while(r!==null);je===0&&(je=5)}function ft(e,r,t){var o=se,s=lr.transition;try{lr.transition=null,se=1,F0(e,r,t,o)}finally{lr.transition=s,se=o}return null}function F0(e,r,t,o){do qt();while(Hr!==null);if(te&6)throw Error(z(327));t=e.finishedWork;var s=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var l=t.lanes|t.childLanes;if(bp(e,l),e===Ce&&(ye=Ce=null,Ee=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Rn||(Rn=!0,ah(ls,function(){return qt(),null})),l=(t.flags&15990)!==0,t.subtreeFlags&15990||l){l=lr.transition,lr.transition=null;var a=se;se=1;var i=te;te|=4,Ri.current=null,I0(e,t),Yf(t,e),l0(sa),is=!!na,sa=na=null,e.current=t,O0(t),dp(),te=i,se=a,lr.transition=l}else e.current=t;if(Rn&&(Rn=!1,Hr=e,Cs=s),l=e.pendingLanes,l===0&&(Yr=null),mp(t.stateNode),Ve(e,pe()),r!==null)for(o=e.onRecoverableError,t=0;t<r.length;t++)s=r[t],o(s.value,{componentStack:s.stack,digest:s.digest});if(Ns)throw Ns=!1,e=ka,ka=null,e;return Cs&1&&e.tag!==0&&qt(),l=e.pendingLanes,l&1?e===Sa?Do++:(Do=0,Sa=e):Do=0,it(),null}function qt(){if(Hr!==null){var e=Bd(Cs),r=lr.transition,t=se;try{if(lr.transition=null,se=16>e?16:e,Hr===null)var o=!1;else{if(e=Hr,Hr=null,Cs=0,te&6)throw Error(z(331));var s=te;for(te|=4,W=e.current;W!==null;){var l=W,a=l.child;if(W.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:zo(8,u,l)}var f=u.child;if(f!==null)f.return=u,W=f;else for(;W!==null;){u=W;var m=u.sibling,j=u.return;if(Qf(u),u===d){W=null;break}if(m!==null){m.return=j,W=m;break}W=j}}}var g=l.alternate;if(g!==null){var h=g.child;if(h!==null){g.child=null;do{var x=h.sibling;h.sibling=null,h=x}while(h!==null)}}W=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,W=a;else e:for(;W!==null;){if(l=W,l.flags&2048)switch(l.tag){case 0:case 11:case 15:zo(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,W=y;break e}W=l.return}}var p=e.current;for(W=p;W!==null;){a=W;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,W=b;else e:for(a=p;W!==null;){if(i=W,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ds(9,i)}}catch(N){me(i,i.return,N)}if(i===a){W=null;break e}var C=i.sibling;if(C!==null){C.return=i.return,W=C;break e}W=i.return}}if(te=s,it(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Ps,e)}catch{}o=!0}return o}finally{se=t,lr.transition=r}}return!1}function cu(e,r,t){r=Yt(t,r),r=Df(e,r,1),e=Xr(e,r,1),r=ze(),e!==null&&(sn(e,1,r),Ve(e,r))}function me(e,r,t){if(e.tag===3)cu(e,e,t);else for(;r!==null;){if(r.tag===3){cu(r,e,t);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Yr===null||!Yr.has(o))){e=Yt(t,e),e=Mf(r,e,1),r=Xr(r,e,1),e=ze(),r!==null&&(sn(r,1,e),Ve(r,e));break}}r=r.return}}function U0(e,r,t){var o=e.pingCache;o!==null&&o.delete(r),r=ze(),e.pingedLanes|=e.suspendedLanes&t,Ce===e&&(Ee&t)===t&&(je===4||je===3&&(Ee&130023424)===Ee&&500>pe()-Li?gt(e,0):Pi|=t),Ve(e,r)}function sh(e,r){r===0&&(e.mode&1?(r=yn,yn<<=1,!(yn&130023424)&&(yn=4194304)):r=1);var t=ze();e=zr(e,r),e!==null&&(sn(e,r,t),Ve(e,t))}function $0(e){var r=e.memoizedState,t=0;r!==null&&(t=r.retryLane),sh(e,t)}function V0(e,r){var t=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(t=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(z(314))}o!==null&&o.delete(r),sh(e,t)}var lh;lh=function(e,r,t){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ue.current)Fe=!0;else{if(!(e.lanes&t)&&!(r.flags&128))return Fe=!1,P0(e,r,t);Fe=!!(e.flags&131072)}else Fe=!1,ue&&r.flags&1048576&&uf(r,ps,r.index);switch(r.lanes=0,r.tag){case 2:var o=r.type;Hn(e,r),e=r.pendingProps;var s=Kt(r,Te.current);Ht(r,t),s=Ci(null,r,o,e,s,t);var l=ki();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$e(o)?(l=!0,hs(r)):l=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yi(r),s.updater=Bs,r.stateNode=s,s._reactInternals=r,ma(r,o,e,t),r=ga(null,r,o,!0,l,t)):(r.tag=0,ue&&l&&fi(r),Oe(null,r,s,t),r=r.child),r;case 16:o=r.elementType;e:{switch(Hn(e,r),e=r.pendingProps,s=o._init,o=s(o._payload),r.type=o,s=r.tag=H0(o),e=dr(o,e),s){case 0:r=va(null,r,o,e,t);break e;case 1:r=Zc(null,r,o,e,t);break e;case 11:r=Xc(null,r,o,e,t);break e;case 14:r=Yc(null,r,o,dr(o.type,e),t);break e}throw Error(z(306,o,""))}return r;case 0:return o=r.type,s=r.pendingProps,s=r.elementType===o?s:dr(o,s),va(e,r,o,s,t);case 1:return o=r.type,s=r.pendingProps,s=r.elementType===o?s:dr(o,s),Zc(e,r,o,s,t);case 3:e:{if(Vf(r),e===null)throw Error(z(387));o=r.pendingProps,l=r.memoizedState,s=l.element,vf(e,r),xs(r,o,null,t);var a=r.memoizedState;if(o=a.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},r.updateQueue.baseState=l,r.memoizedState=l,r.flags&256){s=Yt(Error(z(423)),r),r=eu(e,r,o,t,s);break e}else if(o!==s){s=Yt(Error(z(424)),r),r=eu(e,r,o,t,s);break e}else for(Qe=Jr(r.stateNode.containerInfo.firstChild),Je=r,ue=!0,mr=null,t=mf(r,null,o,t),r.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Qt(),o===s){r=Br(e,r,t);break e}Oe(e,r,o,t)}r=r.child}return r;case 5:return gf(r),e===null&&da(r),o=r.type,s=r.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,la(o,s)?a=null:l!==null&&la(o,l)&&(r.flags|=32),$f(e,r),Oe(e,r,a,t),r.child;case 6:return e===null&&da(r),null;case 13:return Wf(e,r,t);case 4:return bi(r,r.stateNode.containerInfo),o=r.pendingProps,e===null?r.child=Jt(r,null,o,t):Oe(e,r,o,t),r.child;case 11:return o=r.type,s=r.pendingProps,s=r.elementType===o?s:dr(o,s),Xc(e,r,o,s,t);case 7:return Oe(e,r,r.pendingProps,t),r.child;case 8:return Oe(e,r,r.pendingProps.children,t),r.child;case 12:return Oe(e,r,r.pendingProps.children,t),r.child;case 10:e:{if(o=r.type._context,s=r.pendingProps,l=r.memoizedProps,a=s.value,ae(vs,o._currentValue),o._currentValue=a,l!==null)if(gr(l.value,a)){if(l.children===s.children&&!Ue.current){r=Br(e,r,t);break e}}else for(l=r.child,l!==null&&(l.return=r);l!==null;){var i=l.dependencies;if(i!==null){a=l.child;for(var c=i.firstContext;c!==null;){if(c.context===o){if(l.tag===1){c=Tr(-1,t&-t),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=t,c=l.alternate,c!==null&&(c.lanes|=t),fa(l.return,t,r),i.lanes|=t;break}c=c.next}}else if(l.tag===10)a=l.type===r.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(z(341));a.lanes|=t,i=a.alternate,i!==null&&(i.lanes|=t),fa(a,t,r),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===r){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Oe(e,r,s.children,t),r=r.child}return r;case 9:return s=r.type,o=r.pendingProps.children,Ht(r,t),s=ar(s),o=o(s),r.flags|=1,Oe(e,r,o,t),r.child;case 14:return o=r.type,s=dr(o,r.pendingProps),s=dr(o.type,s),Yc(e,r,o,s,t);case 15:return Ff(e,r,r.type,r.pendingProps,t);case 17:return o=r.type,s=r.pendingProps,s=r.elementType===o?s:dr(o,s),Hn(e,r),r.tag=1,$e(o)?(e=!0,hs(r)):e=!1,Ht(r,t),Bf(r,o,s),ma(r,o,s,t),ga(null,r,o,!0,e,t);case 19:return Hf(e,r,t);case 22:return Uf(e,r,t)}throw Error(z(156,r.tag))};function ah(e,r){return Td(e,r)}function W0(e,r,t,o){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,r,t,o){return new W0(e,r,t,o)}function Oi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function H0(e){if(typeof e=="function")return Oi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ei)return 11;if(e===ri)return 14}return 2}function et(e,r){var t=e.alternate;return t===null?(t=sr(e.tag,r,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=r,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,r=e.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Kn(e,r,t,o,s,l){var a=2;if(o=e,typeof e=="function")Oi(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pt:return xt(t.children,s,l,r);case Za:a=8,s|=8;break;case Dl:return e=sr(12,t,r,s|2),e.elementType=Dl,e.lanes=l,e;case Ml:return e=sr(13,t,r,s),e.elementType=Ml,e.lanes=l,e;case Fl:return e=sr(19,t,r,s),e.elementType=Fl,e.lanes=l,e;case vd:return Fs(t,s,l,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case md:a=10;break e;case pd:a=9;break e;case ei:a=11;break e;case ri:a=14;break e;case Fr:a=16,o=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return r=sr(a,t,r,s),r.elementType=e,r.type=o,r.lanes=l,r}function xt(e,r,t,o){return e=sr(7,e,o,r),e.lanes=t,e}function Fs(e,r,t,o){return e=sr(22,e,o,r),e.elementType=vd,e.lanes=t,e.stateNode={isHidden:!1},e}function Sl(e,r,t){return e=sr(6,e,null,r),e.lanes=t,e}function El(e,r,t){return r=sr(4,e.children!==null?e.children:[],e.key,r),r.lanes=t,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function q0(e,r,t,o,s){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zi(e,r,t,o,s,l,a,i,c){return e=new q0(e,r,t,i,c),r===1?(r=1,l===!0&&(r|=8)):r=0,l=sr(3,null,null,r),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},yi(l),e}function G0(e,r,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rt,key:o==null?null:""+o,children:e,containerInfo:r,implementation:t}}function ih(e){if(!e)return st;e=e._reactInternals;e:{if(Et(e)!==e||e.tag!==1)throw Error(z(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($e(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(z(171))}if(e.tag===1){var t=e.type;if($e(t))return af(e,t,r)}return r}function ch(e,r,t,o,s,l,a,i,c){return e=zi(t,o,!0,e,s,l,a,i,c),e.context=ih(null),t=e.current,o=ze(),s=Zr(t),l=Tr(o,s),l.callback=r??null,Xr(t,l,s),e.current.lanes=s,sn(e,s,o),Ve(e,o),e}function Us(e,r,t,o){var s=r.current,l=ze(),a=Zr(s);return t=ih(t),r.context===null?r.context=t:r.pendingContext=t,r=Tr(l,a),r.payload={element:e},o=o===void 0?null:o,o!==null&&(r.callback=o),e=Xr(s,r,a),e!==null&&(vr(e,s,a,l),$n(e,s,a)),a}function Ss(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<r?t:r}}function Bi(e,r){uu(e,r),(e=e.alternate)&&uu(e,r)}function K0(){return null}var uh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Di(e){this._internalRoot=e}$s.prototype.render=Di.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(z(409));Us(e,r,null,null)};$s.prototype.unmount=Di.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Ct(function(){Us(null,e,null,null)}),r[Or]=null}};function $s(e){this._internalRoot=e}$s.prototype.unstable_scheduleHydration=function(e){if(e){var r=Fd();e={blockedOn:null,target:e,priority:r};for(var t=0;t<$r.length&&r!==0&&r<$r[t].priority;t++);$r.splice(t,0,e),t===0&&$d(e)}};function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function Q0(e,r,t,o,s){if(s){if(typeof o=="function"){var l=o;o=function(){var d=Ss(a);l.call(d)}}var a=ch(r,o,e,0,null,!1,!1,"",du);return e._reactRootContainer=a,e[Or]=a.current,Go(e.nodeType===8?e.parentNode:e),Ct(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var i=o;o=function(){var d=Ss(c);i.call(d)}}var c=zi(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=c,e[Or]=c.current,Go(e.nodeType===8?e.parentNode:e),Ct(function(){Us(r,c,t,o)}),c}function Ws(e,r,t,o,s){var l=t._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var i=s;s=function(){var c=Ss(a);i.call(c)}}Us(r,a,e,s)}else a=Q0(t,r,e,s,o);return Ss(a)}Dd=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var t=Eo(r.pendingLanes);t!==0&&(ni(r,t|1),Ve(r,pe()),!(te&6)&&(Zt=pe()+500,it()))}break;case 13:Ct(function(){var o=zr(e,1);if(o!==null){var s=ze();vr(o,e,1,s)}}),Bi(e,1)}};si=function(e){if(e.tag===13){var r=zr(e,134217728);if(r!==null){var t=ze();vr(r,e,134217728,t)}Bi(e,134217728)}};Md=function(e){if(e.tag===13){var r=Zr(e),t=zr(e,r);if(t!==null){var o=ze();vr(t,e,r,o)}Bi(e,r)}};Fd=function(){return se};Ud=function(e,r){var t=se;try{return se=e,r()}finally{se=t}};Jl=function(e,r,t){switch(r){case"input":if(Vl(e,t),r=t.name,t.type==="radio"&&r!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<t.length;r++){var o=t[r];if(o!==e&&o.form===e.form){var s=Is(o);if(!s)throw Error(z(90));xd(o),Vl(o,s)}}}break;case"textarea":bd(e,t);break;case"select":r=t.value,r!=null&&Ut(e,!!t.multiple,r,!1)}};Ed=Ai;_d=Ct;var J0={usingClientEntryPoint:!1,Events:[an,It,Is,kd,Sd,Ai]},bo={findFiberByHostInstance:ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X0={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ld(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||K0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pn.isDisabled&&Pn.supportsFiber)try{Ps=Pn.inject(X0),Cr=Pn}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;Ye.createPortal=function(e,r){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mi(r))throw Error(z(200));return G0(e,r,null,t)};Ye.createRoot=function(e,r){if(!Mi(e))throw Error(z(299));var t=!1,o="",s=uh;return r!=null&&(r.unstable_strictMode===!0&&(t=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=zi(e,1,!1,null,null,t,!1,o,s),e[Or]=r.current,Go(e.nodeType===8?e.parentNode:e),new Di(r)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Ld(r),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return Ct(e)};Ye.hydrate=function(e,r,t){if(!Vs(r))throw Error(z(200));return Ws(null,e,r,!0,t)};Ye.hydrateRoot=function(e,r,t){if(!Mi(e))throw Error(z(405));var o=t!=null&&t.hydratedSources||null,s=!1,l="",a=uh;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),r=ch(r,null,e,1,t??null,s,!1,l,a),e[Or]=r.current,Go(e),o)for(e=0;e<o.length;e++)t=o[e],s=t._getVersion,s=s(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,s]:r.mutableSourceEagerHydrationData.push(t,s);return new $s(r)};Ye.render=function(e,r,t){if(!Vs(r))throw Error(z(200));return Ws(null,e,r,!1,t)};Ye.unmountComponentAtNode=function(e){if(!Vs(e))throw Error(z(40));return e._reactRootContainer?(Ct(function(){Ws(null,null,e,!1,function(){e._reactRootContainer=null,e[Or]=null})}),!0):!1};Ye.unstable_batchedUpdates=Ai;Ye.unstable_renderSubtreeIntoContainer=function(e,r,t,o){if(!Vs(t))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Ws(e,r,t,!1,o)};Ye.version="18.3.1-next-f1338f8080-20240426";function dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dh)}catch(e){console.error(e)}}dh(),ud.exports=Ye;var Y0=ud.exports,fu=Y0;zl.createRoot=fu.createRoot,zl.hydrateRoot=fu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},tn.apply(this,arguments)}var qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qr||(qr={}));const hu="popstate";function Z0(e){e===void 0&&(e={});function r(o,s){let{pathname:l,search:a,hash:i}=o.location;return Ra("",{pathname:l,search:a,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(o,s){return typeof s=="string"?s:Es(s)}return rv(r,t,null,e)}function ve(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Fi(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function ev(){return Math.random().toString(36).substr(2,8)}function mu(e,r){return{usr:e.state,key:e.key,idx:r}}function Ra(e,r,t,o){return t===void 0&&(t=null),tn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?lo(r):r,{state:t,key:r&&r.key||o||ev()})}function Es(e){let{pathname:r="/",search:t="",hash:o=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function lo(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let o=e.indexOf("?");o>=0&&(r.search=e.substr(o),e=e.substr(0,o)),e&&(r.pathname=e)}return r}function rv(e,r,t,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:l=!1}=o,a=s.history,i=qr.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(tn({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function f(){i=qr.Pop;let x=u(),y=x==null?null:x-d;d=x,c&&c({action:i,location:h.location,delta:y})}function m(x,y){i=qr.Push;let p=Ra(h.location,x,y);d=u()+1;let b=mu(p,d),C=h.createHref(p);try{a.pushState(b,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(C)}l&&c&&c({action:i,location:h.location,delta:1})}function j(x,y){i=qr.Replace;let p=Ra(h.location,x,y);d=u();let b=mu(p,d),C=h.createHref(p);a.replaceState(b,"",C),l&&c&&c({action:i,location:h.location,delta:0})}function g(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:Es(x);return p=p.replace(/ $/,"%20"),ve(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let h={get action(){return i},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hu,f),c=x,()=>{s.removeEventListener(hu,f),c=null}},createHref(x){return r(s,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:j,go(x){return a.go(x)}};return h}var pu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pu||(pu={}));function tv(e,r,t){return t===void 0&&(t="/"),ov(e,r,t)}function ov(e,r,t,o){let s=typeof r=="string"?lo(r):r,l=Ui(s.pathname||"/",t);if(l==null)return null;let a=fh(e);nv(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let d=vv(l);i=hv(a[c],d)}return i}function fh(e,r,t,o){r===void 0&&(r=[]),t===void 0&&(t=[]),o===void 0&&(o="");let s=(l,a,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(o),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(o.length));let d=rt([o,c.relativePath]),u=t.concat(c);l.children&&l.children.length>0&&(ve(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),fh(l.children,r,u,d)),!(l.path==null&&!l.index)&&r.push({path:d,score:dv(d,l.index),routesMeta:u})};return e.forEach((l,a)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))s(l,a);else for(let c of hh(l.path))s(l,a,c)}),r}function hh(e){let r=e.split("/");if(r.length===0)return[];let[t,...o]=r,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let a=hh(o.join("/")),i=[];return i.push(...a.map(c=>c===""?l:[l,c].join("/"))),s&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function nv(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:fv(r.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}const sv=/^:[\w-]+$/,lv=3,av=2,iv=1,cv=10,uv=-2,vu=e=>e==="*";function dv(e,r){let t=e.split("/"),o=t.length;return t.some(vu)&&(o+=uv),r&&(o+=av),t.filter(s=>!vu(s)).reduce((s,l)=>s+(sv.test(l)?lv:l===""?iv:cv),o)}function fv(e,r){return e.length===r.length&&e.slice(0,-1).every((o,s)=>o===r[s])?e[e.length-1]-r[r.length-1]:0}function hv(e,r,t){let{routesMeta:o}=e,s={},l="/",a=[];for(let i=0;i<o.length;++i){let c=o[i],d=i===o.length-1,u=l==="/"?r:r.slice(l.length)||"/",f=mv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:rt([l,f.pathname]),pathnameBase:wv(rt([l,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(l=rt([l,f.pathnameBase]))}return a}function mv(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,o]=pv(e.path,e.caseSensitive,e.end),s=r.match(t);if(!s)return null;let l=s[0],a=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:o.reduce((d,u,f)=>{let{paramName:m,isOptional:j}=u;if(m==="*"){let h=i[f]||"";a=l.slice(0,l.length-h.length).replace(/(.)\/+$/,"$1")}const g=i[f];return j&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:a,pattern:e}}function pv(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(o.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),o]}function vv(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Fi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Ui(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,o=e.charAt(t);return o&&o!=="/"?null:e.slice(t)||"/"}const gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xv=e=>gv.test(e);function yv(e,r){r===void 0&&(r="/");let{pathname:t,search:o="",hash:s=""}=typeof e=="string"?lo(e):e,l;if(t)if(xv(t))l=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Fi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?l=gu(t.substring(1),"/"):l=gu(t,r)}else l=r;return{pathname:l,search:jv(o),hash:Nv(s)}}function gu(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function _l(e,r,t,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bv(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function $i(e,r){let t=bv(e);return r?t.map((o,s)=>s===t.length-1?o.pathname:o.pathnameBase):t.map(o=>o.pathnameBase)}function Vi(e,r,t,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=lo(e):(s=tn({},e),ve(!s.pathname||!s.pathname.includes("?"),_l("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),_l("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),_l("#","search","hash",s)));let l=e===""||s.pathname==="",a=l?"/":s.pathname,i;if(a==null)i=t;else{let f=r.length-1;if(!o&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}i=f>=0?r[f]:"/"}let c=yv(s,i),d=a&&a!=="/"&&a.endsWith("/"),u=(l||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const rt=e=>e.join("/").replace(/\/\/+/g,"/"),wv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Nv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mh=["post","put","patch","delete"];new Set(mh);const kv=["get",...mh];new Set(kv);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function on(){return on=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},on.apply(this,arguments)}const Wi=w.createContext(null),Sv=w.createContext(null),ct=w.createContext(null),Hs=w.createContext(null),_r=w.createContext({outlet:null,matches:[],isDataRoute:!1}),ph=w.createContext(null);function Ev(e,r){let{relative:t}=r===void 0?{}:r;ao()||ve(!1);let{basename:o,navigator:s}=w.useContext(ct),{hash:l,pathname:a,search:i}=gh(e,{relative:t}),c=a;return o!=="/"&&(c=a==="/"?o:rt([o,a])),s.createHref({pathname:c,search:i,hash:l})}function ao(){return w.useContext(Hs)!=null}function ut(){return ao()||ve(!1),w.useContext(Hs).location}function vh(e){w.useContext(ct).static||w.useLayoutEffect(e)}function xe(){let{isDataRoute:e}=w.useContext(_r);return e?$v():_v()}function _v(){ao()||ve(!1);let e=w.useContext(Wi),{basename:r,future:t,navigator:o}=w.useContext(ct),{matches:s}=w.useContext(_r),{pathname:l}=ut(),a=JSON.stringify($i(s,t.v7_relativeSplatPath)),i=w.useRef(!1);return vh(()=>{i.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!i.current)return;if(typeof d=="number"){o.go(d);return}let f=Vi(d,JSON.parse(a),l,u.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:rt([r,f.pathname])),(u.replace?o.replace:o.push)(f,u.state,u)},[r,o,a,l,e])}const Rv=w.createContext(null);function Pv(e){let r=w.useContext(_r).outlet;return r&&w.createElement(Rv.Provider,{value:e},r)}function Hi(){let{matches:e}=w.useContext(_r),r=e[e.length-1];return r?r.params:{}}function gh(e,r){let{relative:t}=r===void 0?{}:r,{future:o}=w.useContext(ct),{matches:s}=w.useContext(_r),{pathname:l}=ut(),a=JSON.stringify($i(s,o.v7_relativeSplatPath));return w.useMemo(()=>Vi(e,JSON.parse(a),l,t==="path"),[e,a,l,t])}function Lv(e,r){return Av(e,r)}function Av(e,r,t,o){ao()||ve(!1);let{navigator:s}=w.useContext(ct),{matches:l}=w.useContext(_r),a=l[l.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=ut(),u;if(r){var f;let x=typeof r=="string"?lo(r):r;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||ve(!1),u=x}else u=d;let m=u.pathname||"/",j=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");j="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=tv(e,{pathname:j}),h=Bv(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:rt([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:rt([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,t,o);return r&&h?w.createElement(Hs.Provider,{value:{location:on({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:qr.Pop}},h):h}function Tv(){let e=Uv(),r=Cv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),t?w.createElement("pre",{style:s},t):null,null)}const Iv=w.createElement(Tv,null);class Ov extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?w.createElement(_r.Provider,{value:this.props.routeContext},w.createElement(ph.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zv(e){let{routeContext:r,match:t,children:o}=e,s=w.useContext(Wi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(_r.Provider,{value:r},o)}function Bv(e,r,t,o){var s;if(r===void 0&&(r=[]),t===void 0&&(t=null),o===void 0&&(o=null),e==null){var l;if(!t)return null;if(t.errors)e=t.matches;else if((l=o)!=null&&l.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let a=e,i=(s=t)==null?void 0:s.errors;if(i!=null){let u=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);u>=0||ve(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(t&&o&&o.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:j}=t,g=f.route.loader&&m[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,f,m)=>{let j,g=!1,h=null,x=null;t&&(j=i&&f.route.id?i[f.route.id]:void 0,h=f.route.errorElement||Iv,c&&(d<0&&m===0?(Vv("route-fallback"),g=!0,x=null):d===m&&(g=!0,x=f.route.hydrateFallbackElement||null)));let y=r.concat(a.slice(0,m+1)),p=()=>{let b;return j?b=h:g?b=x:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,w.createElement(zv,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(Ov,{location:t.location,revalidation:t.revalidation,component:h,error:j,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var xh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xh||{}),yh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yh||{});function Dv(e){let r=w.useContext(Wi);return r||ve(!1),r}function Mv(e){let r=w.useContext(Sv);return r||ve(!1),r}function Fv(e){let r=w.useContext(_r);return r||ve(!1),r}function bh(e){let r=Fv(),t=r.matches[r.matches.length-1];return t.route.id||ve(!1),t.route.id}function Uv(){var e;let r=w.useContext(ph),t=Mv(),o=bh();return r!==void 0?r:(e=t.errors)==null?void 0:e[o]}function $v(){let{router:e}=Dv(xh.UseNavigateStable),r=bh(yh.UseNavigateStable),t=w.useRef(!1);return vh(()=>{t.current=!0}),w.useCallback(function(s,l){l===void 0&&(l={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,on({fromRouteId:r},l)))},[e,r])}const xu={};function Vv(e,r,t){xu[e]||(xu[e]=!0)}function Wv(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tt(e){let{to:r,replace:t,state:o,relative:s}=e;ao()||ve(!1);let{future:l,static:a}=w.useContext(ct),{matches:i}=w.useContext(_r),{pathname:c}=ut(),d=xe(),u=Vi(r,$i(i,l.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(f),{replace:t,state:o,relative:s}),[d,f,s,t,o]),null}function Hv(e){return Pv(e.context)}function oe(e){ve(!1)}function qv(e){let{basename:r="/",children:t=null,location:o,navigationType:s=qr.Pop,navigator:l,static:a=!1,future:i}=e;ao()&&ve(!1);let c=r.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:l,static:a,future:on({v7_relativeSplatPath:!1},i)}),[c,i,l,a]);typeof o=="string"&&(o=lo(o));let{pathname:u="/",search:f="",hash:m="",state:j=null,key:g="default"}=o,h=w.useMemo(()=>{let x=Ui(u,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:j,key:g},navigationType:s}},[c,u,f,m,j,g,s]);return h==null?null:w.createElement(ct.Provider,{value:d},w.createElement(Hs.Provider,{children:t,value:h}))}function Gv(e){let{children:r,location:t}=e;return Lv(Pa(r),t)}new Promise(()=>{});function Pa(e,r){r===void 0&&(r=[]);let t=[];return w.Children.forEach(e,(o,s)=>{if(!w.isValidElement(o))return;let l=[...r,s];if(o.type===w.Fragment){t.push.apply(t,Pa(o.props.children,l));return}o.type!==oe&&ve(!1),!o.props.index||!o.props.children||ve(!1);let a={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(a.children=Pa(o.props.children,l)),t.push(a)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},La.apply(this,arguments)}function Kv(e,r){if(e==null)return{};var t={},o=Object.keys(e),s,l;for(l=0;l<o.length;l++)s=o[l],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function Qv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jv(e,r){return e.button===0&&(!r||r==="_self")&&!Qv(e)}function Aa(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let o=e[t];return r.concat(Array.isArray(o)?o.map(s=>[t,s]):[[t,o]])},[]))}function Xv(e,r){let t=Aa(e);return r&&r.forEach((o,s)=>{t.has(s)||r.getAll(s).forEach(l=>{t.append(s,l)})}),t}const Yv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zv="6";try{window.__reactRouterVersion=Zv}catch{}const eg="startTransition",yu=Um[eg];function rg(e){let{basename:r,children:t,future:o,window:s}=e,l=w.useRef();l.current==null&&(l.current=Z0({window:s,v5Compat:!0}));let a=l.current,[i,c]=w.useState({action:a.action,location:a.location}),{v7_startTransition:d}=o||{},u=w.useCallback(f=>{d&&yu?yu(()=>c(f)):c(f)},[c,d]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.useEffect(()=>Wv(o),[o]),w.createElement(qv,{basename:r,children:t,location:i.location,navigationType:i.action,navigator:a,future:o})}const tg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",og=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H=w.forwardRef(function(r,t){let{onClick:o,relative:s,reloadDocument:l,replace:a,state:i,target:c,to:d,preventScrollReset:u,viewTransition:f}=r,m=Kv(r,Yv),{basename:j}=w.useContext(ct),g,h=!1;if(typeof d=="string"&&og.test(d)&&(g=d,tg))try{let b=new URL(window.location.href),C=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=Ui(C.pathname,j);C.origin===b.origin&&N!=null?d=N+C.search+C.hash:h=!0}catch{}let x=Ev(d,{relative:s}),y=ng(d,{replace:a,state:i,target:c,preventScrollReset:u,relative:s,viewTransition:f});function p(b){o&&o(b),b.defaultPrevented||y(b)}return w.createElement("a",La({},m,{href:g||x,onClick:h||l?o:p,ref:t,target:c}))});var bu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bu||(bu={}));var wu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wu||(wu={}));function ng(e,r){let{target:t,replace:o,state:s,preventScrollReset:l,relative:a,viewTransition:i}=r===void 0?{}:r,c=xe(),d=ut(),u=gh(e,{relative:a});return w.useCallback(f=>{if(Jv(f,t)){f.preventDefault();let m=o!==void 0?o:Es(d)===Es(u);c(e,{replace:m,state:s,preventScrollReset:l,relative:a,viewTransition:i})}},[d,c,u,o,s,t,e,l,a,i])}function qi(e){let r=w.useRef(Aa(e)),t=w.useRef(!1),o=ut(),s=w.useMemo(()=>Xv(o.search,t.current?null:r.current),[o.search]),l=xe(),a=w.useCallback((i,c)=>{const d=Aa(typeof i=="function"?i(s):i);t.current=!0,l("?"+d,c)},[l,s]);return[s,a]}function wh(e,r){return function(){return e.apply(r,arguments)}}const{toString:sg}=Object.prototype,{getPrototypeOf:Gi}=Object,{iterator:qs,toStringTag:jh}=Symbol,Gs=(e=>r=>{const t=sg.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),xr=e=>(e=e.toLowerCase(),r=>Gs(r)===e),Ks=e=>r=>typeof r===e,{isArray:io}=Array,eo=Ks("undefined");function un(e){return e!==null&&!eo(e)&&e.constructor!==null&&!eo(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nh=xr("ArrayBuffer");function lg(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&Nh(e.buffer),r}const ag=Ks("string"),We=Ks("function"),Ch=Ks("number"),dn=e=>e!==null&&typeof e=="object",ig=e=>e===!0||e===!1,Qn=e=>{if(Gs(e)!=="object")return!1;const r=Gi(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(jh in e)&&!(qs in e)},cg=e=>{if(!dn(e)||un(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ug=xr("Date"),dg=xr("File"),fg=xr("Blob"),hg=xr("FileList"),mg=e=>dn(e)&&We(e.pipe),pg=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||We(e.append)&&((r=Gs(e))==="formdata"||r==="object"&&We(e.toString)&&e.toString()==="[object FormData]"))},vg=xr("URLSearchParams"),[gg,xg,yg,bg]=["ReadableStream","Request","Response","Headers"].map(xr),wg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fn(e,r,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let o,s;if(typeof e!="object"&&(e=[e]),io(e))for(o=0,s=e.length;o<s;o++)r.call(null,e[o],o,e);else{if(un(e))return;const l=t?Object.getOwnPropertyNames(e):Object.keys(e),a=l.length;let i;for(o=0;o<a;o++)i=l[o],r.call(null,e[i],i,e)}}function kh(e,r){if(un(e))return null;r=r.toLowerCase();const t=Object.keys(e);let o=t.length,s;for(;o-- >0;)if(s=t[o],r===s.toLowerCase())return s;return null}const vt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sh=e=>!eo(e)&&e!==vt;function Ta(){const{caseless:e,skipUndefined:r}=Sh(this)&&this||{},t={},o=(s,l)=>{const a=e&&kh(t,l)||l;Qn(t[a])&&Qn(s)?t[a]=Ta(t[a],s):Qn(s)?t[a]=Ta({},s):io(s)?t[a]=s.slice():(!r||!eo(s))&&(t[a]=s)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&fn(arguments[s],o);return t}const jg=(e,r,t,{allOwnKeys:o}={})=>(fn(r,(s,l)=>{t&&We(s)?e[l]=wh(s,t):e[l]=s},{allOwnKeys:o}),e),Ng=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Cg=(e,r,t,o)=>{e.prototype=Object.create(r.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},kg=(e,r,t,o)=>{let s,l,a;const i={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)a=s[l],(!o||o(a,e,r))&&!i[a]&&(r[a]=e[a],i[a]=!0);e=t!==!1&&Gi(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},Sg=(e,r,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;const o=e.indexOf(r,t);return o!==-1&&o===t},Eg=e=>{if(!e)return null;if(io(e))return e;let r=e.length;if(!Ch(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},_g=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&Gi(Uint8Array)),Rg=(e,r)=>{const o=(e&&e[qs]).call(e);let s;for(;(s=o.next())&&!s.done;){const l=s.value;r.call(e,l[0],l[1])}},Pg=(e,r)=>{let t;const o=[];for(;(t=e.exec(r))!==null;)o.push(t);return o},Lg=xr("HTMLFormElement"),Ag=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,s){return o.toUpperCase()+s}),ju=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),Tg=xr("RegExp"),Eh=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),o={};fn(t,(s,l)=>{let a;(a=r(s,l,e))!==!1&&(o[l]=a||s)}),Object.defineProperties(e,o)},Ig=e=>{Eh(e,(r,t)=>{if(We(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=e[t];if(We(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Og=(e,r)=>{const t={},o=s=>{s.forEach(l=>{t[l]=!0})};return io(e)?o(e):o(String(e).split(r)),t},zg=()=>{},Bg=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Dg(e){return!!(e&&We(e.append)&&e[jh]==="FormData"&&e[qs])}const Mg=e=>{const r=new Array(10),t=(o,s)=>{if(dn(o)){if(r.indexOf(o)>=0)return;if(un(o))return o;if(!("toJSON"in o)){r[s]=o;const l=io(o)?[]:{};return fn(o,(a,i)=>{const c=t(a,s+1);!eo(c)&&(l[i]=c)}),r[s]=void 0,l}}return o};return t(e,0)},Fg=xr("AsyncFunction"),Ug=e=>e&&(dn(e)||We(e))&&We(e.then)&&We(e.catch),_h=((e,r)=>e?setImmediate:r?((t,o)=>(vt.addEventListener("message",({source:s,data:l})=>{s===vt&&l===t&&o.length&&o.shift()()},!1),s=>{o.push(s),vt.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",We(vt.postMessage)),$g=typeof queueMicrotask<"u"?queueMicrotask.bind(vt):typeof process<"u"&&process.nextTick||_h,Vg=e=>e!=null&&We(e[qs]),R={isArray:io,isArrayBuffer:Nh,isBuffer:un,isFormData:pg,isArrayBufferView:lg,isString:ag,isNumber:Ch,isBoolean:ig,isObject:dn,isPlainObject:Qn,isEmptyObject:cg,isReadableStream:gg,isRequest:xg,isResponse:yg,isHeaders:bg,isUndefined:eo,isDate:ug,isFile:dg,isBlob:fg,isRegExp:Tg,isFunction:We,isStream:mg,isURLSearchParams:vg,isTypedArray:_g,isFileList:hg,forEach:fn,merge:Ta,extend:jg,trim:wg,stripBOM:Ng,inherits:Cg,toFlatObject:kg,kindOf:Gs,kindOfTest:xr,endsWith:Sg,toArray:Eg,forEachEntry:Rg,matchAll:Pg,isHTMLForm:Lg,hasOwnProperty:ju,hasOwnProp:ju,reduceDescriptors:Eh,freezeMethods:Ig,toObjectSet:Og,toCamelCase:Ag,noop:zg,toFiniteNumber:Bg,findKey:kh,global:vt,isContextDefined:Sh,isSpecCompliantForm:Dg,toJSONObject:Mg,isAsyncFn:Fg,isThenable:Ug,setImmediate:_h,asap:$g,isIterable:Vg};function X(e,r,t,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}R.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const Rh=X.prototype,Ph={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ph[e]={value:e}});Object.defineProperties(X,Ph);Object.defineProperty(Rh,"isAxiosError",{value:!0});X.from=(e,r,t,o,s,l)=>{const a=Object.create(Rh);R.toFlatObject(e,a,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const i=e&&e.message?e.message:"Error",c=r==null&&e?e.code:r;return X.call(a,i,c,t,o,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",l&&Object.assign(a,l),a};const Wg=null;function Ia(e){return R.isPlainObject(e)||R.isArray(e)}function Lh(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function Nu(e,r,t){return e?e.concat(r).map(function(s,l){return s=Lh(s),!t&&l?"["+s+"]":s}).join(t?".":""):r}function Hg(e){return R.isArray(e)&&!e.some(Ia)}const qg=R.toFlatObject(R,{},null,function(r){return/^is[A-Z]/.test(r)});function Qs(e,r,t){if(!R.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,t=R.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,x){return!R.isUndefined(x[h])});const o=t.metaTokens,s=t.visitor||u,l=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(r);if(!R.isFunction(s))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(R.isDate(g))return g.toISOString();if(R.isBoolean(g))return g.toString();if(!c&&R.isBlob(g))throw new X("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(g)||R.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,h,x){let y=g;if(g&&!x&&typeof g=="object"){if(R.endsWith(h,"{}"))h=o?h:h.slice(0,-2),g=JSON.stringify(g);else if(R.isArray(g)&&Hg(g)||(R.isFileList(g)||R.endsWith(h,"[]"))&&(y=R.toArray(g)))return h=Lh(h),y.forEach(function(b,C){!(R.isUndefined(b)||b===null)&&r.append(a===!0?Nu([h],C,l):a===null?h:h+"[]",d(b))}),!1}return Ia(g)?!0:(r.append(Nu(x,h,l),d(g)),!1)}const f=[],m=Object.assign(qg,{defaultVisitor:u,convertValue:d,isVisitable:Ia});function j(g,h){if(!R.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(g),R.forEach(g,function(y,p){(!(R.isUndefined(y)||y===null)&&s.call(r,y,R.isString(p)?p.trim():p,h,m))===!0&&j(y,h?h.concat(p):[p])}),f.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return j(e),r}function Cu(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function Ki(e,r){this._pairs=[],e&&Qs(e,this,r)}const Ah=Ki.prototype;Ah.append=function(r,t){this._pairs.push([r,t])};Ah.toString=function(r){const t=r?function(o){return r.call(this,o,Cu)}:Cu;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Gg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Th(e,r,t){if(!r)return e;const o=t&&t.encode||Gg;R.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let l;if(s?l=s(r,t):l=R.isURLSearchParams(r)?r.toString():new Ki(r,t).toString(o),l){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class ku{constructor(){this.handlers=[]}use(r,t,o){return this.handlers.push({fulfilled:r,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){R.forEach(this.handlers,function(o){o!==null&&r(o)})}}const Ih={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kg=typeof URLSearchParams<"u"?URLSearchParams:Ki,Qg=typeof FormData<"u"?FormData:null,Jg=typeof Blob<"u"?Blob:null,Xg={isBrowser:!0,classes:{URLSearchParams:Kg,FormData:Qg,Blob:Jg},protocols:["http","https","file","blob","url","data"]},Qi=typeof window<"u"&&typeof document<"u",Oa=typeof navigator=="object"&&navigator||void 0,Yg=Qi&&(!Oa||["ReactNative","NativeScript","NS"].indexOf(Oa.product)<0),Zg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ex=Qi&&window.location.href||"http://localhost",rx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qi,hasStandardBrowserEnv:Yg,hasStandardBrowserWebWorkerEnv:Zg,navigator:Oa,origin:ex},Symbol.toStringTag,{value:"Module"})),Ae={...rx,...Xg};function tx(e,r){return Qs(e,new Ae.classes.URLSearchParams,{visitor:function(t,o,s,l){return Ae.isNode&&R.isBuffer(t)?(this.append(o,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...r})}function ox(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function nx(e){const r={},t=Object.keys(e);let o;const s=t.length;let l;for(o=0;o<s;o++)l=t[o],r[l]=e[l];return r}function Oh(e){function r(t,o,s,l){let a=t[l++];if(a==="__proto__")return!0;const i=Number.isFinite(+a),c=l>=t.length;return a=!a&&R.isArray(s)?s.length:a,c?(R.hasOwnProp(s,a)?s[a]=[s[a],o]:s[a]=o,!i):((!s[a]||!R.isObject(s[a]))&&(s[a]=[]),r(t,o,s[a],l)&&R.isArray(s[a])&&(s[a]=nx(s[a])),!i)}if(R.isFormData(e)&&R.isFunction(e.entries)){const t={};return R.forEachEntry(e,(o,s)=>{r(ox(o),s,t,0)}),t}return null}function sx(e,r,t){if(R.isString(e))try{return(r||JSON.parse)(e),R.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(e)}const hn={transitional:Ih,adapter:["xhr","http","fetch"],transformRequest:[function(r,t){const o=t.getContentType()||"",s=o.indexOf("application/json")>-1,l=R.isObject(r);if(l&&R.isHTMLForm(r)&&(r=new FormData(r)),R.isFormData(r))return s?JSON.stringify(Oh(r)):r;if(R.isArrayBuffer(r)||R.isBuffer(r)||R.isStream(r)||R.isFile(r)||R.isBlob(r)||R.isReadableStream(r))return r;if(R.isArrayBufferView(r))return r.buffer;if(R.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let i;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return tx(r,this.formSerializer).toString();if((i=R.isFileList(r))||o.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qs(i?{"files[]":r}:r,c&&new c,this.formSerializer)}}return l||s?(t.setContentType("application/json",!1),sx(r)):r}],transformResponse:[function(r){const t=this.transitional||hn.transitional,o=t&&t.forcedJSONParsing,s=this.responseType==="json";if(R.isResponse(r)||R.isReadableStream(r))return r;if(r&&R.isString(r)&&(o&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(i){if(a)throw i.name==="SyntaxError"?X.from(i,X.ERR_BAD_RESPONSE,this,null,this.response):i}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ae.classes.FormData,Blob:Ae.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{hn.headers[e]={}});const lx=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ax=e=>{const r={};let t,o,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),o=a.substring(s+1).trim(),!(!t||r[t]&&lx[t])&&(t==="set-cookie"?r[t]?r[t].push(o):r[t]=[o]:r[t]=r[t]?r[t]+", "+o:o)}),r},Su=Symbol("internals");function wo(e){return e&&String(e).trim().toLowerCase()}function Jn(e){return e===!1||e==null?e:R.isArray(e)?e.map(Jn):String(e)}function ix(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(e);)r[o[1]]=o[2];return r}const cx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rl(e,r,t,o,s){if(R.isFunction(o))return o.call(this,r,t);if(s&&(r=t),!!R.isString(r)){if(R.isString(o))return r.indexOf(o)!==-1;if(R.isRegExp(o))return o.test(r)}}function ux(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,o)=>t.toUpperCase()+o)}function dx(e,r){const t=R.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+t,{value:function(s,l,a){return this[o].call(this,r,s,l,a)},configurable:!0})})}let He=class{constructor(r){r&&this.set(r)}set(r,t,o){const s=this;function l(i,c,d){const u=wo(c);if(!u)throw new Error("header name must be a non-empty string");const f=R.findKey(s,u);(!f||s[f]===void 0||d===!0||d===void 0&&s[f]!==!1)&&(s[f||c]=Jn(i))}const a=(i,c)=>R.forEach(i,(d,u)=>l(d,u,c));if(R.isPlainObject(r)||r instanceof this.constructor)a(r,t);else if(R.isString(r)&&(r=r.trim())&&!cx(r))a(ax(r),t);else if(R.isObject(r)&&R.isIterable(r)){let i={},c,d;for(const u of r){if(!R.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[d=u[0]]=(c=i[d])?R.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(i,t)}else r!=null&&l(t,r,o);return this}get(r,t){if(r=wo(r),r){const o=R.findKey(this,r);if(o){const s=this[o];if(!t)return s;if(t===!0)return ix(s);if(R.isFunction(t))return t.call(this,s,o);if(R.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=wo(r),r){const o=R.findKey(this,r);return!!(o&&this[o]!==void 0&&(!t||Rl(this,this[o],o,t)))}return!1}delete(r,t){const o=this;let s=!1;function l(a){if(a=wo(a),a){const i=R.findKey(o,a);i&&(!t||Rl(o,o[i],i,t))&&(delete o[i],s=!0)}}return R.isArray(r)?r.forEach(l):l(r),s}clear(r){const t=Object.keys(this);let o=t.length,s=!1;for(;o--;){const l=t[o];(!r||Rl(this,this[l],l,r,!0))&&(delete this[l],s=!0)}return s}normalize(r){const t=this,o={};return R.forEach(this,(s,l)=>{const a=R.findKey(o,l);if(a){t[a]=Jn(s),delete t[l];return}const i=r?ux(l):String(l).trim();i!==l&&delete t[l],t[i]=Jn(s),o[i]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return R.forEach(this,(o,s)=>{o!=null&&o!==!1&&(t[s]=r&&R.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const o=new this(r);return t.forEach(s=>o.set(s)),o}static accessor(r){const o=(this[Su]=this[Su]={accessors:{}}).accessors,s=this.prototype;function l(a){const i=wo(a);o[i]||(dx(s,a),o[i]=!0)}return R.isArray(r)?r.forEach(l):l(r),this}};He.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(He.prototype,({value:e},r)=>{let t=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(o){this[t]=o}}});R.freezeMethods(He);function Pl(e,r){const t=this||hn,o=r||t,s=He.from(o.headers);let l=o.data;return R.forEach(e,function(i){l=i.call(t,l,s.normalize(),r?r.status:void 0)}),s.normalize(),l}function zh(e){return!!(e&&e.__CANCEL__)}function co(e,r,t){X.call(this,e??"canceled",X.ERR_CANCELED,r,t),this.name="CanceledError"}R.inherits(co,X,{__CANCEL__:!0});function Bh(e,r,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?e(t):r(new X("Request failed with status code "+t.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fx(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function hx(e,r){e=e||10;const t=new Array(e),o=new Array(e);let s=0,l=0,a;return r=r!==void 0?r:1e3,function(c){const d=Date.now(),u=o[l];a||(a=d),t[s]=c,o[s]=d;let f=l,m=0;for(;f!==s;)m+=t[f++],f=f%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),d-a<r)return;const j=u&&d-u;return j?Math.round(m*1e3/j):void 0}}function mx(e,r){let t=0,o=1e3/r,s,l;const a=(d,u=Date.now())=>{t=u,s=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-t;f>=o?a(d,u):(s=d,l||(l=setTimeout(()=>{l=null,a(s)},o-f)))},()=>s&&a(s)]}const _s=(e,r,t=3)=>{let o=0;const s=hx(50,250);return mx(l=>{const a=l.loaded,i=l.lengthComputable?l.total:void 0,c=a-o,d=s(c),u=a<=i;o=a;const f={loaded:a,total:i,progress:i?a/i:void 0,bytes:c,rate:d||void 0,estimated:d&&i&&u?(i-a)/d:void 0,event:l,lengthComputable:i!=null,[r?"download":"upload"]:!0};e(f)},t)},Eu=(e,r)=>{const t=e!=null;return[o=>r[0]({lengthComputable:t,total:e,loaded:o}),r[1]]},_u=e=>(...r)=>R.asap(()=>e(...r)),px=Ae.hasStandardBrowserEnv?((e,r)=>t=>(t=new URL(t,Ae.origin),e.protocol===t.protocol&&e.host===t.host&&(r||e.port===t.port)))(new URL(Ae.origin),Ae.navigator&&/(msie|trident)/i.test(Ae.navigator.userAgent)):()=>!0,vx=Ae.hasStandardBrowserEnv?{write(e,r,t,o,s,l,a){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(r)}`];R.isNumber(t)&&i.push(`expires=${new Date(t).toUTCString()}`),R.isString(o)&&i.push(`path=${o}`),R.isString(s)&&i.push(`domain=${s}`),l===!0&&i.push("secure"),R.isString(a)&&i.push(`SameSite=${a}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xx(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function Dh(e,r,t){let o=!gx(r);return e&&(o||t==!1)?xx(e,r):r}const Ru=e=>e instanceof He?{...e}:e;function kt(e,r){r=r||{};const t={};function o(d,u,f,m){return R.isPlainObject(d)&&R.isPlainObject(u)?R.merge.call({caseless:m},d,u):R.isPlainObject(u)?R.merge({},u):R.isArray(u)?u.slice():u}function s(d,u,f,m){if(R.isUndefined(u)){if(!R.isUndefined(d))return o(void 0,d,f,m)}else return o(d,u,f,m)}function l(d,u){if(!R.isUndefined(u))return o(void 0,u)}function a(d,u){if(R.isUndefined(u)){if(!R.isUndefined(d))return o(void 0,d)}else return o(void 0,u)}function i(d,u,f){if(f in r)return o(d,u);if(f in e)return o(void 0,d)}const c={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(d,u,f)=>s(Ru(d),Ru(u),f,!0)};return R.forEach(Object.keys({...e,...r}),function(u){const f=c[u]||s,m=f(e[u],r[u],u);R.isUndefined(m)&&f!==i||(t[u]=m)}),t}const Mh=e=>{const r=kt({},e);let{data:t,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:l,headers:a,auth:i}=r;if(r.headers=a=He.from(a),r.url=Th(Dh(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&a.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),R.isFormData(t)){if(Ae.hasStandardBrowserEnv||Ae.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(R.isFunction(t.getHeaders)){const c=t.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&a.set(u,f)})}}if(Ae.hasStandardBrowserEnv&&(o&&R.isFunction(o)&&(o=o(r)),o||o!==!1&&px(r.url))){const c=s&&l&&vx.read(l);c&&a.set(s,c)}return r},yx=typeof XMLHttpRequest<"u",bx=yx&&function(e){return new Promise(function(t,o){const s=Mh(e);let l=s.data;const a=He.from(s.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:d}=s,u,f,m,j,g;function h(){j&&j(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function y(){if(!x)return;const b=He.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!i||i==="text"||i==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};Bh(function(_){t(_),h()},function(_){o(_),h()},N),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(o(new X("Request aborted",X.ECONNABORTED,e,x)),x=null)},x.onerror=function(C){const N=C&&C.message?C.message:"Network Error",E=new X(N,X.ERR_NETWORK,e,x);E.event=C||null,o(E),x=null},x.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||Ih;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),o(new X(C,N.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,x)),x=null},l===void 0&&a.setContentType(null),"setRequestHeader"in x&&R.forEach(a.toJSON(),function(C,N){x.setRequestHeader(N,C)}),R.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),i&&i!=="json"&&(x.responseType=s.responseType),d&&([m,g]=_s(d,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,j]=_s(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(u=b=>{x&&(o(!b||b.type?new co(null,e,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const p=fx(s.url);if(p&&Ae.protocols.indexOf(p)===-1){o(new X("Unsupported protocol "+p+":",X.ERR_BAD_REQUEST,e));return}x.send(l||null)})},wx=(e,r)=>{const{length:t}=e=e?e.filter(Boolean):[];if(r||t){let o=new AbortController,s;const l=function(d){if(!s){s=!0,i();const u=d instanceof Error?d:this.reason;o.abort(u instanceof X?u:new co(u instanceof Error?u.message:u))}};let a=r&&setTimeout(()=>{a=null,l(new X(`timeout ${r} of ms exceeded`,X.ETIMEDOUT))},r);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=o;return c.unsubscribe=()=>R.asap(i),c}},jx=function*(e,r){let t=e.byteLength;if(t<r){yield e;return}let o=0,s;for(;o<t;)s=o+r,yield e.slice(o,s),o=s},Nx=async function*(e,r){for await(const t of Cx(e))yield*jx(t,r)},Cx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:t,value:o}=await r.read();if(t)break;yield o}}finally{await r.cancel()}},Pu=(e,r,t,o)=>{const s=Nx(e,r);let l=0,a,i=c=>{a||(a=!0,o&&o(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){i(),c.close();return}let f=u.byteLength;if(t){let m=l+=f;t(m)}c.enqueue(new Uint8Array(u))}catch(d){throw i(d),d}},cancel(c){return i(c),s.return()}},{highWaterMark:2})},Lu=64*1024,{isFunction:Ln}=R,kx=(({Request:e,Response:r})=>({Request:e,Response:r}))(R.global),{ReadableStream:Au,TextEncoder:Tu}=R.global,Iu=(e,...r)=>{try{return!!e(...r)}catch{return!1}},Sx=e=>{e=R.merge.call({skipUndefined:!0},kx,e);const{fetch:r,Request:t,Response:o}=e,s=r?Ln(r):typeof fetch=="function",l=Ln(t),a=Ln(o);if(!s)return!1;const i=s&&Ln(Au),c=s&&(typeof Tu=="function"?(g=>h=>g.encode(h))(new Tu):async g=>new Uint8Array(await new t(g).arrayBuffer())),d=l&&i&&Iu(()=>{let g=!1;const h=new t(Ae.origin,{body:new Au,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!h}),u=a&&i&&Iu(()=>R.isReadableStream(new o("").body)),f={stream:u&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(h,x)=>{let y=h&&h[g];if(y)return y.call(h);throw new X(`Response type '${g}' is not supported`,X.ERR_NOT_SUPPORT,x)})});const m=async g=>{if(g==null)return 0;if(R.isBlob(g))return g.size;if(R.isSpecCompliantForm(g))return(await new t(Ae.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(R.isArrayBufferView(g)||R.isArrayBuffer(g))return g.byteLength;if(R.isURLSearchParams(g)&&(g=g+""),R.isString(g))return(await c(g)).byteLength},j=async(g,h)=>{const x=R.toFiniteNumber(g.getContentLength());return x??m(h)};return async g=>{let{url:h,method:x,data:y,signal:p,cancelToken:b,timeout:C,onDownloadProgress:N,onUploadProgress:E,responseType:_,headers:P,withCredentials:M="same-origin",fetchOptions:B}=Mh(g),K=r||fetch;_=_?(_+"").toLowerCase():"text";let Q=wx([p,b&&b.toAbortSignal()],C),A=null;const q=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let T;try{if(E&&d&&x!=="get"&&x!=="head"&&(T=await j(P,y))!==0){let v=new t(h,{method:"POST",body:y,duplex:"half"}),L;if(R.isFormData(y)&&(L=v.headers.get("content-type"))&&P.setContentType(L),v.body){const[$,F]=Eu(T,_s(_u(E)));y=Pu(v.body,Lu,$,F)}}R.isString(M)||(M=M?"include":"omit");const V=l&&"credentials"in t.prototype,O={...B,signal:Q,method:x.toUpperCase(),headers:P.normalize().toJSON(),body:y,duplex:"half",credentials:V?M:void 0};A=l&&new t(h,O);let k=await(l?K(A,B):K(h,O));const S=u&&(_==="stream"||_==="response");if(u&&(N||S&&q)){const v={};["status","statusText","headers"].forEach(G=>{v[G]=k[G]});const L=R.toFiniteNumber(k.headers.get("content-length")),[$,F]=N&&Eu(L,_s(_u(N),!0))||[];k=new o(Pu(k.body,Lu,$,()=>{F&&F(),q&&q()}),v)}_=_||"text";let I=await f[R.findKey(f,_)||"text"](k,g);return!S&&q&&q(),await new Promise((v,L)=>{Bh(v,L,{data:I,headers:He.from(k.headers),status:k.status,statusText:k.statusText,config:g,request:A})})}catch(V){throw q&&q(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,g,A),{cause:V.cause||V}):X.from(V,V&&V.code,g,A)}}},Ex=new Map,Fh=e=>{let r=e&&e.env||{};const{fetch:t,Request:o,Response:s}=r,l=[o,s,t];let a=l.length,i=a,c,d,u=Ex;for(;i--;)c=l[i],d=u.get(c),d===void 0&&u.set(c,d=i?new Map:Sx(r)),u=d;return d};Fh();const Ji={http:Wg,xhr:bx,fetch:{get:Fh}};R.forEach(Ji,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const Ou=e=>`- ${e}`,_x=e=>R.isFunction(e)||e===null||e===!1;function Rx(e,r){e=R.isArray(e)?e:[e];const{length:t}=e;let o,s;const l={};for(let a=0;a<t;a++){o=e[a];let i;if(s=o,!_x(o)&&(s=Ji[(i=String(o)).toLowerCase()],s===void 0))throw new X(`Unknown adapter '${i}'`);if(s&&(R.isFunction(s)||(s=s.get(r))))break;l[i||"#"+a]=s}if(!s){const a=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(Ou).join(`
`):" "+Ou(a[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s}const Uh={getAdapter:Rx,adapters:Ji};function Ll(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new co(null,e)}function zu(e){return Ll(e),e.headers=He.from(e.headers),e.data=Pl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Uh.getAdapter(e.adapter||hn.adapter,e)(e).then(function(o){return Ll(e),o.data=Pl.call(e,e.transformResponse,o),o.headers=He.from(o.headers),o},function(o){return zh(o)||(Ll(e),o&&o.response&&(o.response.data=Pl.call(e,e.transformResponse,o.response),o.response.headers=He.from(o.response.headers))),Promise.reject(o)})}const $h="1.13.2",Js={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Js[e]=function(o){return typeof o===e||"a"+(r<1?"n ":" ")+e}});const Bu={};Js.transitional=function(r,t,o){function s(l,a){return"[Axios v"+$h+"] Transitional option '"+l+"'"+a+(o?". "+o:"")}return(l,a,i)=>{if(r===!1)throw new X(s(a," has been removed"+(t?" in "+t:"")),X.ERR_DEPRECATED);return t&&!Bu[a]&&(Bu[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(l,a,i):!0}};Js.spelling=function(r){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function Px(e,r,t){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let s=o.length;for(;s-- >0;){const l=o[s],a=r[l];if(a){const i=e[l],c=i===void 0||a(i,l,e);if(c!==!0)throw new X("option "+l+" must be "+c,X.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new X("Unknown option "+l,X.ERR_BAD_OPTION)}}const Xn={assertOptions:Px,validators:Js},wr=Xn.validators;let yt=class{constructor(r){this.defaults=r||{},this.interceptors={request:new ku,response:new ku}}async request(r,t){try{return await this._request(r,t)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=kt(this.defaults,t);const{transitional:o,paramsSerializer:s,headers:l}=t;o!==void 0&&Xn.assertOptions(o,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),s!=null&&(R.isFunction(s)?t.paramsSerializer={serialize:s}:Xn.assertOptions(s,{encode:wr.function,serialize:wr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Xn.assertOptions(t,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=l&&R.merge(l.common,l[t.method]);l&&R.forEach(["delete","get","head","post","put","patch","common"],g=>{delete l[g]}),t.headers=He.concat(a,l);const i=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(c=c&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});const d=[];this.interceptors.response.forEach(function(h){d.push(h.fulfilled,h.rejected)});let u,f=0,m;if(!c){const g=[zu.bind(this),void 0];for(g.unshift(...i),g.push(...d),m=g.length,u=Promise.resolve(t);f<m;)u=u.then(g[f++],g[f++]);return u}m=i.length;let j=t;for(;f<m;){const g=i[f++],h=i[f++];try{j=g(j)}catch(x){h.call(this,x);break}}try{u=zu.call(this,j)}catch(g){return Promise.reject(g)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(r){r=kt(this.defaults,r);const t=Dh(r.baseURL,r.url,r.allowAbsoluteUrls);return Th(t,r.params,r.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(r){yt.prototype[r]=function(t,o){return this.request(kt(o||{},{method:r,url:t,data:(o||{}).data}))}});R.forEach(["post","put","patch"],function(r){function t(o){return function(l,a,i){return this.request(kt(i||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}yt.prototype[r]=t(),yt.prototype[r+"Form"]=t(!0)});let Lx=class Vh{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const o=this;this.promise.then(s=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](s);o._listeners=null}),this.promise.then=s=>{let l;const a=new Promise(i=>{o.subscribe(i),l=i}).then(s);return a.cancel=function(){o.unsubscribe(l)},a},r(function(l,a,i){o.reason||(o.reason=new co(l,a,i),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const r=new AbortController,t=o=>{r.abort(o)};return this.subscribe(t),r.signal.unsubscribe=()=>this.unsubscribe(t),r.signal}static source(){let r;return{token:new Vh(function(s){r=s}),cancel:r}}};function Ax(e){return function(t){return e.apply(null,t)}}function Tx(e){return R.isObject(e)&&e.isAxiosError===!0}const za={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(za).forEach(([e,r])=>{za[r]=e});function Wh(e){const r=new yt(e),t=wh(yt.prototype.request,r);return R.extend(t,yt.prototype,r,{allOwnKeys:!0}),R.extend(t,r,null,{allOwnKeys:!0}),t.create=function(s){return Wh(kt(e,s))},t}const ge=Wh(hn);ge.Axios=yt;ge.CanceledError=co;ge.CancelToken=Lx;ge.isCancel=zh;ge.VERSION=$h;ge.toFormData=Qs;ge.AxiosError=X;ge.Cancel=ge.CanceledError;ge.all=function(r){return Promise.all(r)};ge.spread=Ax;ge.isAxiosError=Tx;ge.mergeConfig=kt;ge.AxiosHeaders=He;ge.formToJSON=e=>Oh(R.isHTMLForm(e)?new FormData(e):e);ge.getAdapter=Uh.getAdapter;ge.HttpStatusCode=za;ge.default=ge;const{Axios:x2,AxiosError:y2,CanceledError:b2,isCancel:w2,CancelToken:j2,VERSION:N2,all:C2,Cancel:k2,isAxiosError:S2,spread:E2,toFormData:_2,AxiosHeaders:R2,HttpStatusCode:P2,formToJSON:L2,getAdapter:A2,mergeConfig:T2}=ge,Ix={},Du=e=>{let r;const t=new Set,o=(u,f)=>{const m=typeof u=="function"?u(r):u;if(!Object.is(m,r)){const j=r;r=f??(typeof m!="object"||m===null)?m:Object.assign({},r,m),t.forEach(g=>g(r,j))}},s=()=>r,c={setState:o,getState:s,getInitialState:()=>d,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{(Ix?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},d=r=e(o,s,c);return c},Ox=e=>e?Du(e):Du;var Hh={exports:{}},qh={},Gh={exports:{}},Kh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=w;function zx(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Bx=typeof Object.is=="function"?Object.is:zx,Dx=ro.useState,Mx=ro.useEffect,Fx=ro.useLayoutEffect,Ux=ro.useDebugValue;function $x(e,r){var t=r(),o=Dx({inst:{value:t,getSnapshot:r}}),s=o[0].inst,l=o[1];return Fx(function(){s.value=t,s.getSnapshot=r,Al(s)&&l({inst:s})},[e,t,r]),Mx(function(){return Al(s)&&l({inst:s}),e(function(){Al(s)&&l({inst:s})})},[e]),Ux(t),t}function Al(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!Bx(e,t)}catch{return!0}}function Vx(e,r){return r()}var Wx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vx:$x;Kh.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:Wx;Gh.exports=Kh;var Hx=Gh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=w,qx=Hx;function Gx(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Kx=typeof Object.is=="function"?Object.is:Gx,Qx=qx.useSyncExternalStore,Jx=Xs.useRef,Xx=Xs.useEffect,Yx=Xs.useMemo,Zx=Xs.useDebugValue;qh.useSyncExternalStoreWithSelector=function(e,r,t,o,s){var l=Jx(null);if(l.current===null){var a={hasValue:!1,value:null};l.current=a}else a=l.current;l=Yx(function(){function c(j){if(!d){if(d=!0,u=j,j=o(j),s!==void 0&&a.hasValue){var g=a.value;if(s(g,j))return f=g}return f=j}if(g=f,Kx(u,j))return g;var h=o(j);return s!==void 0&&s(g,h)?(u=j,g):(u=j,f=h)}var d=!1,u,f,m=t===void 0?null:t;return[function(){return c(r())},m===null?void 0:function(){return c(m())}]},[r,t,o,s]);var i=Qx(e,l[0],l[1]);return Xx(function(){a.hasValue=!0,a.value=i},[i]),Zx(i),i};Hh.exports=qh;var ey=Hh.exports;const ry=Ha(ey),Qh={},{useDebugValue:ty}=ne,{useSyncExternalStoreWithSelector:oy}=ry;let Mu=!1;const ny=e=>e;function sy(e,r=ny,t){(Qh?"production":void 0)!=="production"&&t&&!Mu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Mu=!0);const o=oy(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,t);return ty(o),o}const Fu=e=>{(Qh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof e=="function"?Ox(e):e,t=(o,s)=>sy(r,o,s);return Object.assign(t,r),t},ly=e=>e?Fu(e):Fu,Y=ly(e=>({token:localStorage.getItem("token"),user:null,setToken:r=>{r?localStorage.setItem("token",r):localStorage.removeItem("token"),e({token:r})},setUser:r=>e({user:r}),logout:()=>{localStorage.removeItem("token"),e({token:null,user:null})}})),D=ge.create({baseURL:"http://localhost:5000/api"});D.interceptors.request.use(e=>{const r=Y.getState().token;return r&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${r}`),e});function ay(){const[e,r]=w.useState(""),[t,o]=w.useState(""),[s,l]=w.useState(!1),[a,i]=w.useState(null),c=Y(m=>m.setToken),d=Y(m=>m.setUser),u=xe(),f=async m=>{var j,g,h;m.preventDefault(),l(!0),i(null);try{const x=await D.post("/auth/login",{email:e,password:t});c(x.data.token),d(x.data.user);const y=((j=x.data.user)==null?void 0:j.role)||"client";y==="admin"?u("/admin",{replace:!0}):y==="garagiste"?u("/garage",{replace:!0}):u("/app",{replace:!0})}catch(x){i(((h=(g=x.response)==null?void 0:g.data)==null?void 0:h.message)||"Erreur de connexion")}finally{l(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl p-6 sm:p-8 border animate-slideIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",style:{background:"linear-gradient(to right, var(--color-rouge-600), var(--color-rose-600))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Promoto"}),n.jsx("p",{className:"text-sm sm:text-base",style:{color:"var(--color-noir-600)"},children:"Connectez-vous  votre compte"})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4 sm:space-y-5",children:[n.jsx("div",{children:n.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:m=>r(m.target.value),required:!0,className:"w-full px-4 py-2.5 sm:py-3 rounded-lg border-2 outline-none transition-all duration-300 text-sm sm:text-base focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:m=>{m.target.style.borderColor="var(--color-rouge-500)",m.target.style.boxShadow="0 0 0 3px rgba(220, 38, 38, 0.1)"},onBlur:m=>{m.target.style.borderColor="var(--color-racine-200)",m.target.style.boxShadow="none"}})}),n.jsx("div",{children:n.jsx("input",{type:"password",placeholder:"Mot de passe",value:t,onChange:m=>o(m.target.value),required:!0,className:"w-full px-4 py-2.5 sm:py-3 rounded-lg border-2 outline-none transition-all duration-300 text-sm sm:text-base focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:m=>{m.target.style.borderColor="var(--color-rouge-500)",m.target.style.boxShadow="0 0 0 3px rgba(220, 38, 38, 0.1)"},onBlur:m=>{m.target.style.borderColor="var(--color-racine-200)",m.target.style.boxShadow="none"}})}),a&&n.jsx("div",{className:"px-4 py-3 rounded-lg border text-sm sm:text-base",style:{backgroundColor:"var(--color-rouge-50)",borderColor:"var(--color-rouge-200)",color:"var(--color-rouge-700)"},children:a}),n.jsx("button",{disabled:s,type:"submit",className:"w-full text-white font-semibold py-2.5 sm:py-3 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden",style:{background:s?"var(--color-rouge-400)":"linear-gradient(to right, var(--color-rouge-600), var(--color-rose-600))"},children:n.jsx("span",{className:"relative z-10",children:s?"Connexion...":"Se connecter"})}),n.jsxs("div",{className:"text-center text-xs sm:text-sm",style:{color:"var(--color-noir-600)"},children:["Pas de compte ?"," ",n.jsx(H,{to:"/register",className:"font-semibold underline",style:{color:"var(--color-rouge-600)"},children:"Crer un compte"})]})]})]})})}function iy(){const[e,r]=w.useState(""),[t,o]=w.useState(""),[s,l]=w.useState(""),[a,i]=w.useState(""),[c,d]=w.useState(!1),[u,f]=w.useState(null),m=Y(x=>x.setToken),j=Y(x=>x.setUser),g=xe(),h=async x=>{var y,p,b;x.preventDefault(),d(!0),f(null);try{const C=await D.post("/auth/register",{name:e,email:t,password:s,phone:a||void 0});m(C.data.token),j(C.data.user);const N=((y=C.data.user)==null?void 0:y.role)||"client";N==="admin"?g("/admin",{replace:!0}):N==="garagiste"?g("/garage",{replace:!0}):g("/app",{replace:!0})}catch(C){f(((b=(p=C.response)==null?void 0:p.data)==null?void 0:b.message)||"Erreur d'inscription")}finally{d(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 sm:py-12 animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl p-6 sm:p-8 border animate-slideIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",style:{background:"linear-gradient(to right, var(--color-rose-600), var(--color-rouge-600))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Crer un compte"}),n.jsx("p",{className:"text-sm sm:text-base",style:{color:"var(--color-noir-600)"},children:"Rejoignez Promoto"})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nom complet",value:e,onChange:x=>r(x.target.value),required:!0,className:"w-full px-4 py-2.5 sm:py-3 rounded-lg border-2 outline-none transition-all duration-300 text-sm sm:text-base focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:x=>{x.target.style.borderColor="var(--color-rose-500)",x.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:x=>{x.target.style.borderColor="var(--color-racine-200)",x.target.style.boxShadow="none"}})}),n.jsx("div",{children:n.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:x=>o(x.target.value),required:!0,className:"w-full px-4 py-2.5 sm:py-3 rounded-lg border-2 outline-none transition-all duration-300 text-sm sm:text-base focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:x=>{x.target.style.borderColor="var(--color-rose-500)",x.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:x=>{x.target.style.borderColor="var(--color-racine-200)",x.target.style.boxShadow="none"}})}),n.jsx("div",{children:n.jsx("input",{type:"password",placeholder:"Mot de passe",value:s,onChange:x=>l(x.target.value),required:!0,className:"w-full px-4 py-2.5 sm:py-3 rounded-lg border-2 outline-none transition-all duration-300 text-sm sm:text-base focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:x=>{x.target.style.borderColor="var(--color-rose-500)",x.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:x=>{x.target.style.borderColor="var(--color-racine-200)",x.target.style.boxShadow="none"}})}),n.jsx("div",{children:n.jsx("input",{type:"tel",placeholder:"Tlphone (optionnel)",value:a,onChange:x=>i(x.target.value),className:"w-full px-4 py-2.5 sm:py-3 rounded-lg border-2 outline-none transition-all duration-300 text-sm sm:text-base focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:x=>{x.target.style.borderColor="var(--color-rose-500)",x.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:x=>{x.target.style.borderColor="var(--color-racine-200)",x.target.style.boxShadow="none"}})}),u&&n.jsx("div",{className:"px-4 py-3 rounded-lg border text-sm sm:text-base",style:{backgroundColor:"var(--color-rouge-50)",borderColor:"var(--color-rouge-200)",color:"var(--color-rouge-700)"},children:u}),n.jsx("button",{disabled:c,type:"submit",className:"w-full text-white font-semibold py-2.5 sm:py-3 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden",style:{background:c?"var(--color-rose-400)":"linear-gradient(to right, var(--color-rose-600), var(--color-rouge-600))"},children:n.jsx("span",{className:"relative z-10",children:c?"Cration...":"S'inscrire"})}),n.jsxs("div",{className:"text-center text-xs sm:text-sm",style:{color:"var(--color-noir-600)"},children:["Dj un compte ?"," ",n.jsx(H,{to:"/login",className:"font-semibold underline",style:{color:"var(--color-rouge-600)"},children:"Se connecter"})]})]})]})})}function cy(){const[e,r]=w.useState(null),[t,o]=w.useState(null),[s,l]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{var u,f;try{const m=await D.get("/admin/dashboard");r(m.data.stats)}catch(m){o(((f=(u=m.response)==null?void 0:u.data)==null?void 0:f.message)||"Erreur")}finally{l(!1)}},i=async u=>{var f,m;try{await D.put(`/admin/garages/${u}/verify`),a()}catch(j){alert(((m=(f=j.response)==null?void 0:f.data)==null?void 0:m.message)||"Erreur")}};if(s)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})});if(t)return n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Erreur: ",t]});if(!e)return null;const c=[{title:"Total Utilisateurs",value:e.users.total,icon:"",color:"rouge",subtitle:`${e.users.clients} clients, ${e.users.garagistes} garagistes`,growth:e.users.growth},{title:"Garages",value:e.garages.total,icon:"",color:"rose",subtitle:`${e.garages.active} actifs, ${e.garages.verified} vrifis`,growth:e.garages.growth},{title:"Rendez-vous",value:e.appointments.total,icon:"",color:"racine",subtitle:`${e.appointments.byStatus.pending} en attente`,growth:e.appointments.growth},{title:"Avis",value:e.reviews.total,icon:"",color:"rouge",subtitle:`Note moyenne: ${e.reviews.averageRating.toFixed(1)}/5`,growth:e.reviews.growth}],d=u=>u?n.jsxs("div",{className:"flex items-center gap-2 text-xs mt-1",children:[n.jsxs("span",{className:"text-green-600",children:["+",u.today," aujourd'hui"]}),n.jsx("span",{style:{color:"var(--color-noir-400)"},children:""}),n.jsxs("span",{style:{color:"var(--color-noir-500)"},children:["+",u.last7Days," cette semaine"]})]}):null;return n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Dashboard"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:c.map((u,f)=>n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-5 sm:p-6 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:`var(--color-${u.color}-200)`},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"text-3xl",children:u.icon}),n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl font-bold",style:{backgroundColor:`var(--color-${u.color}-100)`,color:`var(--color-${u.color}-600)`},children:u.value})]}),n.jsx("h3",{className:"text-sm font-semibold mb-1",style:{color:"var(--color-noir-700)"},children:u.title}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:u.subtitle}),d(u.growth)]},f))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[n.jsxs(H,{to:"/admin/appointments",className:"bg-white/90 backdrop-blur-md rounded-xl p-5 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn cursor-pointer",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--color-rouge-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-rouge-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--color-noir)"},children:"Rendez-vous"})]}),n.jsxs("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:[e.appointments.byStatus.pending," en attente"]})]}),n.jsxs(H,{to:"/admin/reviews",className:"bg-white/90 backdrop-blur-md rounded-xl p-5 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn cursor-pointer",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--color-rose-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-rose-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),n.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--color-noir)"},children:"Avis"})]}),n.jsxs("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:[e.reviews.total," avis au total"]})]}),n.jsxs(H,{to:"/admin/services",className:"bg-white/90 backdrop-blur-md rounded-xl p-5 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn cursor-pointer",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--color-racine-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-racine-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--color-noir)"},children:"Services"})]}),n.jsxs("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:[e.services.active," actifs"]})]}),n.jsxs(H,{to:"/admin/analytics",className:"bg-white/90 backdrop-blur-md rounded-xl p-5 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn cursor-pointer",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--color-rose-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-rose-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--color-noir)"},children:"Analytics"})]}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Rapports dtaills"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Rpartition Utilisateurs"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Clients"}),n.jsx("span",{className:"font-semibold",style:{color:"var(--color-rouge-600)"},children:e.users.clients})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Garagistes"}),n.jsx("span",{className:"font-semibold",style:{color:"var(--color-rose-600)"},children:e.users.garagistes})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Admins"}),n.jsx("span",{className:"font-semibold",style:{color:"var(--color-racine-600)"},children:e.users.admins})]})]})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Statistiques Garages"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Total"}),n.jsx("span",{className:"font-semibold",style:{color:"var(--color-noir)"},children:e.garages.total})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Actifs"}),n.jsx("span",{className:"font-semibold",style:{color:"var(--color-rouge-600)"},children:e.garages.active})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Vrifis"}),n.jsx("span",{className:"font-semibold",style:{color:"var(--color-rose-600)"},children:e.garages.verified})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Non vrifis"}),n.jsx("span",{className:"font-semibold",style:{color:"var(--color-noir-400)"},children:e.garages.unverified})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-noir)"},children:"Rendez-vous rcents"}),n.jsx(H,{to:"/admin/appointments",className:"text-xs font-semibold hover:underline",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]}),n.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.recent.appointments&&e.recent.appointments.length>0?e.recent.appointments.slice(0,5).map(u=>{var g,h;const f=new Date(u.date),m={pending:{bg:"var(--color-racine-100)",text:"var(--color-racine-700)"},confirmed:{bg:"var(--color-rouge-100)",text:"var(--color-rouge-700)"},completed:{bg:"var(--color-racine-200)",text:"var(--color-racine-800)"},cancelled:{bg:"var(--color-noir-200)",text:"var(--color-noir-600)"}},j=m[u.status]||m.pending;return n.jsxs("div",{className:"flex items-center justify-between text-sm p-2 rounded",style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium",style:{color:"var(--color-noir-700)"},children:[((g=u.clientId)==null?void 0:g.name)||"Client","  ",((h=u.garageId)==null?void 0:h.name)||"Garage"]}),n.jsxs("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:[f.toLocaleDateString("fr-FR"),"  ",u.time]})]}),n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold",style:{backgroundColor:j.bg,color:j.text},children:u.status})]},u._id)}):n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-500)"},children:"Aucun rendez-vous rcent"})})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-noir)"},children:"Avis rcents"}),n.jsx(H,{to:"/admin/reviews",className:"text-xs font-semibold hover:underline",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]}),n.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.recent.reviews&&e.recent.reviews.length>0?e.recent.reviews.slice(0,5).map(u=>{var f,m,j,g;return n.jsxs("div",{className:"flex items-start gap-3 p-2 rounded",style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] flex items-center justify-center text-white font-semibold text-xs flex-shrink-0",children:((m=(f=u.clientId)==null?void 0:f.name)==null?void 0:m.charAt(0).toUpperCase())||"C"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--color-noir-700)"},children:[((j=u.clientId)==null?void 0:j.name)||"Client","  ",((g=u.garageId)==null?void 0:g.name)||"Garage"]}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:[...Array(5)].map((h,x)=>n.jsx("svg",{className:`w-3 h-3 ${x<u.rating?"":"opacity-30"}`,style:{color:x<u.rating?"var(--color-rose-500)":"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},x))}),u.comment&&n.jsx("p",{className:"text-xs mt-1 line-clamp-2",style:{color:"var(--color-noir-600)"},children:u.comment})]})]},u._id)}):n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-500)"},children:"Aucun avis rcent"})})]})]}),e.topGarages&&e.topGarages.length>0&&n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:" Top Garages"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:e.topGarages.slice(0,5).map(u=>{var f,m,j;return n.jsxs("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--color-racine-200)",backgroundColor:"var(--color-racine-50)"},children:[n.jsx("p",{className:"font-semibold text-sm mb-1",style:{color:"var(--color-noir)"},children:u.name}),n.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[n.jsx("span",{className:"text-xs font-bold",style:{color:"var(--color-rose-600)"},children:((m=(f=u.rating)==null?void 0:f.average)==null?void 0:m.toFixed(1))||"0.0"}),n.jsx("svg",{className:"w-3 h-3",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),n.jsxs("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:["(",((j=u.rating)==null?void 0:j.count)||0,")"]})]}),u.isVerified&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"}),!u.isVerified&&n.jsx("button",{onClick:()=>i(u._id),className:"text-xs px-2 py-0.5 rounded-full font-semibold hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-racine-600)",color:"white"},children:"Vrifier"})]},u._id)})})]})]})}function uy(){const[e,r]=w.useState([]),[t,o]=w.useState(null),[s,l]=w.useState(!0);w.useEffect(()=>{D.get("/users").then(i=>{r(i.data.users),l(!1)}).catch(i=>{var c,d;o(((d=(c=i.response)==null?void 0:c.data)==null?void 0:d.message)||"Erreur"),l(!1)})},[]);const a=i=>{switch(i){case"admin":return{bg:"var(--color-racine-100)",text:"var(--color-racine-700)"};case"garagiste":return{bg:"var(--color-rose-100)",text:"var(--color-rose-700)"};case"client":return{bg:"var(--color-rouge-100)",text:"var(--color-rouge-700)"};default:return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)"}}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):t?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Erreur: ",t]}):n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Utilisateurs"}),e.length===0?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-8 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun utilisateur enregistr"})}):n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border overflow-hidden animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Nom"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Rle"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-racine-200)"},children:e.map((i,c)=>{const d=a(i.role);return n.jsxs("tr",{className:"hover:bg-opacity-50 hover:shadow-md transition-all duration-200",style:{backgroundColor:c%2===0?"transparent":"var(--color-racine-50)"},children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",style:{color:"var(--color-noir-700)"},children:i.name}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:i.email}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold capitalize",style:{backgroundColor:d.bg,color:d.text},children:i.role})})]},i._id)})})]})})})]})}function dy(){const[e,r]=w.useState([]),[t,o]=w.useState(null),[s,l]=w.useState(!0);w.useEffect(()=>{D.get("/garages").then(u=>{r(u.data.garages),l(!1)}).catch(u=>{var f,m;o(((m=(f=u.response)==null?void 0:f.data)==null?void 0:m.message)||"Erreur"),l(!1)})},[]);const a=async u=>{try{await D.put(`/admin/garages/${u}/suspend`),r(f=>f.map(m=>m._id===u?{...m,isActive:!1}:m))}catch{}},i=async u=>{try{await D.put(`/admin/garages/${u}/activate`),r(f=>f.map(m=>m._id===u?{...m,isActive:!0}:m))}catch{}},c=async u=>{try{await D.put(`/admin/garages/${u}/verify`),r(f=>f.map(m=>m._id===u?{...m,isVerified:!0}:m))}catch{}},d=async u=>{try{await D.put(`/admin/garages/${u}/unverify`),r(f=>f.map(m=>m._id===u?{...m,isVerified:!1}:m))}catch{}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):t?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Erreur: ",t]}):n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Garages"}),e.length===0?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-8 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun garage enregistr"})}):n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border overflow-hidden animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Nom"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Ville"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Statut"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Vrifi"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Actions"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Dtails"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-racine-200)"},children:e.map((u,f)=>{var m;return n.jsxs("tr",{className:"hover:bg-opacity-50 hover:shadow-md transition-all duration-200",style:{backgroundColor:f%2===0?"transparent":"var(--color-racine-50)"},children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",style:{color:"var(--color-noir-700)"},children:u.name}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:((m=u.address)==null?void 0:m.city)||"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:u.isActive?"var(--color-rouge-100)":"var(--color-noir-200)",color:u.isActive?"var(--color-rouge-700)":"var(--color-noir-600)"},children:u.isActive?"Actif":"Suspendu"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:u.isVerified?"var(--color-rose-100)":"var(--color-noir-200)",color:u.isVerified?"var(--color-rose-700)":"var(--color-noir-600)"},children:u.isVerified?" Vrifi":"Non vrifi"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex gap-2",children:[u.isActive?n.jsx("button",{onClick:()=>a(u._id),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"Suspendre"})}):n.jsx("button",{onClick:()=>i(u._id),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"Activer"})}),u.isVerified?n.jsx("button",{onClick:()=>d(u._id),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-noir-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"Dvrifier"})}):n.jsx("button",{onClick:()=>c(u._id),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"Vrifier"})})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(H,{to:`/admin/garages/${u._id}`,className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 inline-block",style:{backgroundColor:"var(--color-racine-600)",color:"white"},children:"Voir dtails"})})]},u._id)})})]})})})]})}function fy(){const[e,r]=w.useState([]),[t,o]=w.useState(null),[s,l]=w.useState(!0),[a,i]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState(null),[m,j]=w.useState(""),[g,h]=w.useState(""),[x,y]=w.useState(""),[p,b]=w.useState(""),[C,N]=w.useState(""),[E,_]=w.useState(""),[P,M]=w.useState(""),B=()=>{l(!0),D.get("/admin/garagistes").then(A=>{r(A.data.garagistes),l(!1)}).catch(A=>{var q,T;o(((T=(q=A.response)==null?void 0:q.data)==null?void 0:T.message)||"Erreur"),l(!1)})};w.useEffect(()=>{B()},[]);const K=async A=>{var q,T;A.preventDefault(),d(!0),f(null);try{await D.post("/admin/garagistes",{name:m,email:g,password:x,phone:p||void 0,address:C||void 0,city:E||void 0,postalCode:P||void 0}),j(""),h(""),y(""),b(""),N(""),_(""),M(""),i(!1),B()}catch(V){f(((T=(q=V.response)==null?void 0:q.data)==null?void 0:T.message)||"Erreur lors de la cration")}finally{d(!1)}},Q=async(A,q)=>{var T,V;if(confirm(`tes-vous sr de vouloir supprimer le garagiste "${q}" ? Cette action est irrversible.`))try{await D.delete(`/admin/garagistes/${A}`),B()}catch(O){alert(((V=(T=O.response)==null?void 0:T.data)==null?void 0:V.message)||"Erreur lors de la suppression")}};return s&&e.length===0?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",style:{color:"var(--color-noir)"},children:"Garagistes"}),n.jsx("button",{onClick:()=>i(!a),className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:a?"Annuler":"+ Crer un garagiste"})})]}),u&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),a&&n.jsxs("div",{className:"mb-6 bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-slideIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-noir)"},children:"Nouveau Garagiste"}),n.jsxs("form",{onSubmit:K,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Nom du garage *"}),n.jsx("input",{type:"text",value:m,onChange:A=>j(A.target.value),required:!0,placeholder:"Ex: Garage Auto Paris",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:A=>{A.target.style.borderColor="var(--color-rose-500)",A.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:A=>{A.target.style.borderColor="var(--color-racine-200)",A.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Email *"}),n.jsx("input",{type:"email",value:g,onChange:A=>h(A.target.value),required:!0,placeholder:"email@example.com",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:A=>{A.target.style.borderColor="var(--color-rose-500)",A.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:A=>{A.target.style.borderColor="var(--color-racine-200)",A.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Mot de passe *"}),n.jsx("input",{type:"password",value:x,onChange:A=>y(A.target.value),required:!0,minLength:6,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:A=>{A.target.style.borderColor="var(--color-rose-500)",A.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:A=>{A.target.style.borderColor="var(--color-racine-200)",A.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Tlphone"}),n.jsx("input",{type:"tel",value:p,onChange:A=>b(A.target.value),placeholder:"+33 X XX XX XX XX",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:A=>{A.target.style.borderColor="var(--color-rose-500)",A.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:A=>{A.target.style.borderColor="var(--color-racine-200)",A.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Adresse"}),n.jsx("input",{type:"text",value:C,onChange:A=>N(A.target.value),placeholder:"Ex: 123 Rue de la Paix",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:A=>{A.target.style.borderColor="var(--color-rose-500)",A.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:A=>{A.target.style.borderColor="var(--color-racine-200)",A.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Ville"}),n.jsx("input",{type:"text",value:E,onChange:A=>_(A.target.value),placeholder:"Ex: Paris",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:A=>{A.target.style.borderColor="var(--color-rose-500)",A.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:A=>{A.target.style.borderColor="var(--color-racine-200)",A.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Code postal"}),n.jsx("input",{type:"text",value:P,onChange:A=>M(A.target.value),placeholder:"Ex: 75001",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:A=>{A.target.style.borderColor="var(--color-rose-500)",A.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:A=>{A.target.style.borderColor="var(--color-racine-200)",A.target.style.boxShadow="none"}})]})]}),n.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2.5 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:c?"Cration...":"Crer le compte"})})]})]}),t&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:["Erreur: ",t]}),e.length===0?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-8 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun garagiste enregistr"})}):n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border overflow-hidden animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Nom"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Garage"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Statut"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-racine-200)"},children:e.map((A,q)=>{var T,V,O,k;return n.jsxs("tr",{className:"hover:bg-opacity-50 hover:shadow-md transition-all duration-200",style:{backgroundColor:q%2===0?"transparent":"var(--color-racine-50)"},children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",style:{color:"var(--color-noir-700)"},children:A.name}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:A.email}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:((T=A.garageId)==null?void 0:T.name)||"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:(V=A.garageId)!=null&&V.isActive?"var(--color-rouge-100)":"var(--color-noir-200)",color:(O=A.garageId)!=null&&O.isActive?"var(--color-rouge-700)":"var(--color-noir-600)"},children:(k=A.garageId)!=null&&k.isActive?"Actif":"Inactif"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:()=>Q(A._id,A.name),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"Supprimer"})})})]},A._id||q)})})]})})})]})}function Xi(){const[e,r]=w.useState(0),[t,o]=w.useState(!0),s=Y(a=>a.user),l=Y(a=>a.token);return w.useEffect(()=>{if(!l||!s){r(0),o(!1);return}const a=async()=>{try{const u=((await D.get("/messages/conversations")).data.conversations||[]).reduce((f,m)=>f+(m.unreadCount||0),0);r(u)}catch(c){console.error("Erreur chargement notifications:",c),r(0)}finally{o(!1)}};a();const i=setInterval(a,3e4);return()=>clearInterval(i)},[l,s]),{unreadCount:e,loading:t}}function hy(){const e=xe(),r=ut();Y(a=>a.setToken);const t=Y(a=>a.logout),o=()=>{t(),e("/app",{replace:!0})},s=a=>r.pathname===`/admin${a}`||a===""&&r.pathname==="/admin",{unreadCount:l}=Xi();return n.jsxs("div",{className:"min-h-screen flex",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:[n.jsxs("aside",{className:"w-64 flex-shrink-0 border-r bg-white/90 backdrop-blur-md shadow-lg",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"p-6 border-b relative",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-2xl font-bold transition-all duration-300",style:{background:"linear-gradient(to right, var(--color-rouge-600), var(--color-rose-600))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Promoto"}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Espace Admin"}),l>0&&n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},title:`${l} message${l>1?"s":""} non lu${l>1?"s":""}`,children:l>99?"99+":l})]})]}),n.jsxs("nav",{className:"p-4 space-y-2",children:[n.jsx(H,{to:"/admin",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("")?"var(--color-rouge-600)":"transparent",color:s("")?"white":"var(--color-noir-700)"},children:" Dashboard"}),n.jsx(H,{to:"/admin/garages",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("/garages")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/garages")?"var(--color-rouge-600)":"transparent",color:s("/garages")?"white":"var(--color-noir-700)"},children:" Garages"}),n.jsx(H,{to:"/admin/garagistes",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("/garagistes")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/garagistes")?"var(--color-rouge-600)":"transparent",color:s("/garagistes")?"white":"var(--color-noir-700)"},children:" Garagistes"}),n.jsx(H,{to:"/admin/users",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("/users")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/users")?"var(--color-rouge-600)":"transparent",color:s("/users")?"white":"var(--color-noir-700)"},children:" Utilisateurs"}),n.jsx(H,{to:"/admin/appointments",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("/appointments")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/appointments")?"var(--color-rouge-600)":"transparent",color:s("/appointments")?"white":"var(--color-noir-700)"},children:" Rendez-vous"}),n.jsx(H,{to:"/admin/reviews",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("/reviews")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/reviews")?"var(--color-rouge-600)":"transparent",color:s("/reviews")?"white":"var(--color-noir-700)"},children:" Avis"}),n.jsx(H,{to:"/admin/services",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("/services")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/services")?"var(--color-rouge-600)":"transparent",color:s("/services")?"white":"var(--color-noir-700)"},children:" Services"}),n.jsx(H,{to:"/admin/analytics",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 ${s("/analytics")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/analytics")?"var(--color-rouge-600)":"transparent",color:s("/analytics")?"white":"var(--color-noir-700)"},children:" Analytics"}),n.jsx(H,{to:"/admin/messages",className:`block px-4 py-3 rounded-lg transition-all duration-300 text-sm font-medium hover:translate-x-1 relative ${s("/messages")?"shadow-md":"hover:bg-opacity-50"}`,style:{backgroundColor:s("/messages")?"var(--color-rouge-600)":"transparent",color:s("/messages")?"white":"var(--color-noir-700)"},children:" Messages"}),n.jsx("button",{onClick:o,className:"w-full mt-6 px-4 py-2.5 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"Dconnexion"})})]})]}),n.jsx("main",{className:"flex-1 overflow-auto p-6 sm:p-8",children:n.jsx(Hv,{})})]})}function my(){var h;const e=xe(),r=ut(),t=Y(x=>x.user),o=Y(x=>x.token),s=Y(x=>x.logout),l=!!o&&!!t,[a,i]=w.useState(""),[c,d]=w.useState(!1),[u,f]=w.useState(!1),{unreadCount:m}=Xi();w.useEffect(()=>{f((t==null?void 0:t.role)==="client")},[t]);const j=x=>{x.preventDefault(),a.trim()?(e(`/app/garages?search=${encodeURIComponent(a.trim())}`),i("")):e("/app/garages")},g=()=>{s(),e("/app",{replace:!0}),d(!1)};return r.pathname.startsWith("/admin")||r.pathname.startsWith("/garage")?null:n.jsx("header",{className:"bg-white/90 backdrop-blur-md border-b shadow-lg sticky top-0 z-50 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 max-w-7xl",children:n.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[n.jsx(H,{to:"/app",className:"flex items-center gap-2 group transition-transform duration-300 hover:scale-105",children:n.jsx("div",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] bg-clip-text text-transparent group-hover:from-[var(--color-rouge-700)] group-hover:to-[var(--color-rose-700)] transition-all duration-300",children:"Promoto"})}),!r.pathname.includes("/login")&&!r.pathname.includes("/register")&&n.jsx("form",{onSubmit:j,className:"hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:n.jsxs("div",{className:"relative w-full",children:[n.jsx("input",{type:"text",value:a,onChange:x=>i(x.target.value),placeholder:"Rechercher un garage...",className:"w-full px-4 pl-10 py-2 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:x=>x.target.style.borderColor="var(--color-rose-500)",onBlur:x=>x.target.style.borderColor="var(--color-racine-200)"}),n.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"var(--color-noir-400)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),n.jsx("div",{className:"flex items-center gap-3 sm:gap-4",children:l&&u?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-[var(--color-racine-50)] transition-colors relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] flex items-center justify-center text-white font-semibold text-sm",children:((h=t==null?void 0:t.name)==null?void 0:h.charAt(0).toUpperCase())||"U"}),m>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-semibold border-2 border-white",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:m>9?"9+":m})]}),n.jsx("span",{className:"hidden sm:block text-sm font-medium",style:{color:"var(--color-noir-700)"},children:t==null?void 0:t.name}),n.jsx("svg",{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`,style:{color:"var(--color-noir-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border py-2 z-50 animate-fadeIn backdrop-blur-sm",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx(H,{to:"/app",onClick:()=>d(!1),className:"block px-4 py-2 text-sm hover:bg-[var(--color-racine-50)] transition-all duration-200 hover:translate-x-1 rounded-lg mx-2",style:{color:"var(--color-noir-700)"},children:" Accueil"}),n.jsx(H,{to:"/app/garages",onClick:()=>d(!1),className:"block px-4 py-2 text-sm hover:bg-[var(--color-racine-50)] transition-all duration-200 hover:translate-x-1 rounded-lg mx-2",style:{color:"var(--color-noir-700)"},children:" Rechercher"}),n.jsx(H,{to:"/app/appointments",onClick:()=>d(!1),className:"block px-4 py-2 text-sm hover:bg-[var(--color-racine-50)] transition-all duration-200 hover:translate-x-1 rounded-lg mx-2",style:{color:"var(--color-noir-700)"},children:" Mes rendez-vous"}),n.jsx(H,{to:"/app/favorites",onClick:()=>d(!1),className:"block px-4 py-2 text-sm hover:bg-[var(--color-racine-50)] transition-all duration-200 hover:translate-x-1 rounded-lg mx-2",style:{color:"var(--color-noir-700)"},children:" Mes favoris"}),n.jsx(H,{to:"/app/messages",onClick:()=>d(!1),className:"block px-4 py-2 text-sm hover:bg-[var(--color-racine-50)] transition-all duration-200 hover:translate-x-1 rounded-lg mx-2 relative",style:{color:"var(--color-noir-700)"},children:n.jsxs("span",{className:"flex items-center justify-between",children:[n.jsx("span",{children:" Messages"}),m>0&&n.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-semibold min-w-[20px] text-center",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:m>99?"99+":m})]})}),n.jsx(H,{to:"/app/profile",onClick:()=>d(!1),className:"block px-4 py-2 text-sm hover:bg-[var(--color-racine-50)] transition-all duration-200 hover:translate-x-1 rounded-lg mx-2",style:{color:"var(--color-noir-700)"},children:" Mon profil"}),n.jsx("div",{className:"border-t my-2",style:{borderColor:"var(--color-racine-200)"}}),n.jsx("button",{onClick:g,className:"w-full text-left px-4 py-2 text-sm hover:bg-[var(--color-rouge-50)] transition-colors",style:{color:"var(--color-rouge-600)"},children:"Dconnexion"})]})]})]})}):n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx(H,{to:"/login",className:"px-4 py-2 text-sm font-semibold rounded-lg transition-colors",style:{color:"var(--color-noir-700)"},children:"Connexion"}),n.jsx(H,{to:"/register",className:"px-4 py-2.5 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-xl transition-all duration-300 text-sm hover:scale-105 active:scale-95",children:"S'inscrire"})]})})]})})})}function py(){const e=xe(),r=Y(N=>N.user),t=Y(N=>N.logout),[o,s]=w.useState(null),[l,a]=w.useState(!0),[i,c]=w.useState(null),[d,u]=w.useState([]),[f,m]=w.useState(null),[j,g]=w.useState([]),{unreadCount:h}=Xi();w.useEffect(()=>{x()},[]);const x=async()=>{var N,E;a(!0),c(null);try{const _=await D.get("/garages/me/stats");s(_.data.stats);try{const A=await D.get("/garages/me");m(A.data.garage)}catch(A){console.error("Erreur chargement dtails garage:",A)}try{const A=await D.get("/messages/conversations");g(A.data.conversations||[])}catch(A){console.error("Erreur chargement conversations:",A)}const M=(await D.get("/appointments/garage/me")).data.appointments||[],B=new Date;B.setHours(0,0,0,0);const K=new Date(B);K.setDate(K.getDate()+1);const Q=M.filter(A=>{const q=new Date(A.date);return q>=B&&q<K}).sort((A,q)=>{const T=A.time||"00:00",V=q.time||"00:00";return T.localeCompare(V)});u(Q)}catch(_){c(((E=(N=_.response)==null?void 0:N.data)==null?void 0:E.message)||"Erreur lors du chargement")}finally{a(!1)}},y=()=>{t(),e("/app",{replace:!0})},p=async(N,E)=>{var _,P;try{await D.put(`/appointments/${N}`,{status:E}),x()}catch(M){alert(((P=(_=M.response)==null?void 0:_.data)==null?void 0:P.message)||"Erreur lors de la mise  jour")}},b=N=>{switch(N){case"pending":return{bg:"var(--color-racine-100)",text:"var(--color-racine-700)",label:"En attente"};case"confirmed":return{bg:"var(--color-rouge-100)",text:"var(--color-rouge-700)",label:"Confirm"};case"in-progress":return{bg:"var(--color-rose-100)",text:"var(--color-rose-700)",label:"En cours"};case"completed":return{bg:"var(--color-racine-200)",text:"var(--color-racine-800)",label:"Termin"};case"cancelled":return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:"Annul"};default:return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:N}}},C=N=>{const E=Math.floor(N),_=N%1>=.5,P=5-E-(_?1:0);return n.jsxs("div",{className:"flex items-center gap-0.5",children:[[...Array(E)].map((M,B)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},B)),_&&n.jsxs("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"half",children:[n.jsx("stop",{offset:"50%",stopColor:"currentColor"}),n.jsx("stop",{offset:"50%",stopColor:"transparent",stopOpacity:"1"})]})}),n.jsx("path",{fill:"url(#half)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),[...Array(P)].map((M,B)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},B))]})};return l?n.jsx("div",{className:"min-h-screen animate-fadeIn flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):i?n.jsx("div",{className:"min-h-screen animate-fadeIn flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Erreur: ",i]})}):o?n.jsx("div",{className:"min-h-screen animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 max-w-7xl",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Dashboard Garagiste"}),n.jsxs("p",{className:"text-base sm:text-lg",style:{color:"var(--color-noir-600)"},children:["Bienvenue, ",n.jsx("span",{className:"font-semibold text-[var(--color-rouge-600)]",children:r==null?void 0:r.name})]}),o.garage&&n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--color-noir-700)"},children:o.garage.name}),o.garage.isVerified&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"}),C(o.garage.rating.average),n.jsxs("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:["(",o.garage.rating.count," avis)"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(H,{to:"/garage/messages",className:"relative p-2 rounded-lg hover:bg-[var(--color-racine-100)] transition-all duration-300",title:`${h} message${h>1?"s":""} non lu${h>1?"s":""}`,children:[n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-noir-700)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 00-2-2H9a2 2 0 00-2 2v.341C4.67 6.165 3 8.388 3 11v3.159c0 .538-.214 1.055-.595 1.436L1 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),h>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-semibold border-2 border-white",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:h>9?"9+":h})]}),n.jsx("button",{onClick:y,className:"px-5 py-2 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-xl transition-all duration-300 text-sm sm:text-base hover:scale-105 active:scale-95 relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:"Dconnexion"})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-rouge-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rouge-600)"},children:o.appointments.today}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Rendez-vous aujourd'hui"})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-rose-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rose-600)"},children:o.appointments.pending}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"En attente"})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-racine-600)"},children:o.services.active}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Services actifs"})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-rose-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rose-600)"},children:o.garage.rating.average.toFixed(1)}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Note moyenne"})]})]}),d.length>0&&n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"p-4 sm:p-6 border-b",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("h2",{className:"text-xl font-bold",style:{color:"var(--color-noir)"},children:[" Rendez-vous d'aujourd'hui (",d.length,")"]})}),n.jsx("div",{className:"p-4 sm:p-6 space-y-3",children:d.map(N=>{var P,M;const E=b(N.status);new Date(N.date);const _=N.status==="pending"||N.status==="confirmed";return n.jsx("div",{className:"bg-white/50 rounded-lg p-4 border hover:shadow-md transition-all duration-200",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-lg font-bold",style:{color:"var(--color-noir)"},children:N.time}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:E.bg,color:E.text},children:E.label})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--color-noir-700)"},children:[" ",((P=N.clientId)==null?void 0:P.name)||"Client"]}),n.jsxs("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:[" ",((M=N.serviceId)==null?void 0:M.name)||"Service"]}),N.notes&&n.jsx("p",{className:"text-xs italic",style:{color:"var(--color-noir-500)"},children:N.notes})]})]}),_&&n.jsxs("div",{className:"flex gap-2",children:[N.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>p(N._id,"confirmed"),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Accepter"})}),n.jsx("button",{onClick:()=>p(N._id,"cancelled"),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-noir-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Refuser"})})]}),N.status==="confirmed"&&n.jsx("button",{onClick:()=>p(N._id,"in-progress"),className:"px-3 py-1.5 rounded-lg text-xs font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Dmarrer"})})]})]})},N._id)})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsxs(H,{to:"/garage/appointments",className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4 transition-all duration-300 group-hover:scale-110",style:{backgroundColor:"var(--color-rouge-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-rouge-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Mes Rendez-vous"}),n.jsxs("p",{className:"text-sm sm:text-base mb-3",style:{color:"var(--color-noir-600)"},children:["Grez tous vos rendez-vous (",o.appointments.total," total)"]}),n.jsx("div",{className:"text-xs font-semibold",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]}),n.jsxs(H,{to:"/garage/services",className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4 transition-all duration-300 group-hover:scale-110",style:{backgroundColor:"var(--color-rose-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-rose-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Mes Services"}),n.jsxs("p",{className:"text-sm sm:text-base mb-3",style:{color:"var(--color-noir-600)"},children:["Grez vos services proposs (",o.services.active," actifs)"]}),n.jsx("div",{className:"text-xs font-semibold",style:{color:"var(--color-rose-600)"},children:"Grer "})]}),n.jsxs(H,{to:"/garage/reviews",className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4 transition-all duration-300 group-hover:scale-110",style:{backgroundColor:"var(--color-racine-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-racine-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Avis Clients"}),n.jsxs("p",{className:"text-sm sm:text-base mb-3",style:{color:"var(--color-noir-600)"},children:["Consultez les avis reus (",o.reviews.total," total)"]}),n.jsx("div",{className:"text-xs font-semibold",style:{color:"var(--color-racine-600)"},children:"Voir tout "})]}),n.jsxs(H,{to:"/garage/messages",className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4 transition-all duration-300 group-hover:scale-110",style:{backgroundColor:"var(--color-rouge-100)"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"var(--color-rouge-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Messages"}),n.jsxs("p",{className:"text-sm sm:text-base mb-3",style:{color:"var(--color-noir-600)"},children:["Discutez avec vos clients (",j.length," conversations)"]}),n.jsx("div",{className:"text-xs font-semibold",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"p-4 sm:p-6 border-b flex items-center justify-between",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-noir)"},children:" Messages Clients"}),n.jsx(H,{to:"/garage/messages",className:"text-sm font-semibold hover:underline",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]}),j.length===0?n.jsx("div",{className:"p-6 text-center",children:n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Aucune conversation"})}):n.jsx("div",{className:"p-4 sm:p-6 space-y-3",children:j.slice(0,3).map(N=>{var E,_,P;return n.jsx(H,{to:`/garage/messages?userId=${N.user._id}`,className:"block p-3 bg-white/50 rounded-lg border hover:shadow-md transition-all duration-200",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[N.user.avatar?n.jsx("img",{src:N.user.avatar,alt:N.user.name,className:"w-10 h-10 rounded-full"}):n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:"var(--color-rouge-100)",color:"var(--color-rouge-700)"},children:((_=(E=N.user.name)==null?void 0:E[0])==null?void 0:_.toUpperCase())||"U"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-noir)"},children:N.user.name}),n.jsx("p",{className:"text-xs truncate max-w-[200px]",style:{color:"var(--color-noir-600)"},children:((P=N.lastMessage)==null?void 0:P.content)||"Aucun message"})]})]}),N.unreadCount>0&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:N.unreadCount})]})},N._id)})})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border p-4 sm:p-6 animate-fadeIn mb-6",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Informations compltes du garage"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Toutes les informations de votre garage (publiques et prives)"})]}),n.jsx(H,{to:"/garage/settings",className:"px-4 py-2 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-xl transition-all duration-300 text-sm hover:scale-105 active:scale-95 relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:" Modifier"})})]}),f&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Informations gnrales"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-noir-600)"},children:"Nom:"}),n.jsx("span",{className:"ml-2",style:{color:"var(--color-noir)"},children:f.name})]}),f.description&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-noir-600)"},children:"Description:"}),n.jsx("p",{className:"ml-2 mt-1",style:{color:"var(--color-noir)"},children:f.description})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-noir-600)"},children:"Statut:"}),n.jsxs("span",{className:"ml-2",children:[f.isActive?n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rouge-100)",color:"var(--color-rouge-700)"},children:"Actif"}):n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-noir-200)",color:"var(--color-noir-600)"},children:"Suspendu"}),f.isVerified&&n.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-100)",color:"var(--color-rose-700)"},children:" Vrifi"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Coordonnes"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[f.address&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-noir-600)"},children:"Adresse:"}),n.jsxs("p",{className:"ml-2 mt-1",style:{color:"var(--color-noir)"},children:[f.address.street,n.jsx("br",{}),f.address.postalCode," ",f.address.city]})]}),f.phone&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-noir-600)"},children:"Tlphone:"}),n.jsx("span",{className:"ml-2",style:{color:"var(--color-noir)"},children:f.phone})]}),f.email&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-noir-600)"},children:"Email:"}),n.jsx("span",{className:"ml-2",style:{color:"var(--color-noir)"},children:f.email})]}),f.website&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-noir-600)"},children:"Site web:"}),n.jsx("a",{href:f.website,target:"_blank",rel:"noopener noreferrer",className:"ml-2 hover:underline",style:{color:"var(--color-rouge-600)"},children:f.website})]})]})]}),f.images&&f.images.length>0&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:["Images (",f.images.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:f.images.slice(0,4).map((N,E)=>n.jsx("img",{src:N,alt:`Garage ${E+1}`,className:"w-full h-24 object-cover rounded-lg border",style:{borderColor:"var(--color-racine-200)"}},E))})]})]})]})]})}):null}function vy(){const e=Y(h=>h.user),r=Y(h=>h.token),t=Y(h=>h.setUser),o=Y(h=>h.logout),s=!!r&&!!e,[l,a]=w.useState([]),[i,c]=w.useState([]),[d,u]=w.useState({appointments:0,reviews:0}),[f,m]=w.useState(!0),[j,g]=w.useState(!1);if(w.useEffect(()=>{(async()=>{if(r&&!e)try{const x=await D.get("/auth/me");t(x.data.user)}catch{o()}})()},[r,e,t,o]),w.useEffect(()=>{(async()=>{m(!0);try{const y=(await D.get("/garages",{params:{isActive:"true"}})).data.garages||[],p=[...y].filter(C=>{var N;return((N=C.rating)==null?void 0:N.count)>0}).sort((C,N)=>{var E,_;return(((E=N.rating)==null?void 0:E.average)||0)-(((_=C.rating)==null?void 0:_.average)||0)}).slice(0,6);a(p);const b=[...y].sort((C,N)=>new Date(N.createdAt).getTime()-new Date(C.createdAt).getTime()).slice(0,6);if(c(b),s&&(e==null?void 0:e.role)==="client"){try{const C=await D.get("/appointments/client/me");u(N=>{var E;return{...N,appointments:((E=C.data.appointments)==null?void 0:E.length)||0}})}catch{}try{const E=((await D.get("/reviews")).data.reviews||[]).filter(_=>{var B;const P=typeof _.clientId=="object"?(B=_.clientId)==null?void 0:B._id:_.clientId,M=(e==null?void 0:e._id)||(e==null?void 0:e.id);return P&&M&&P.toString()===M.toString()});u(_=>({..._,reviews:E.length}))}catch{}}}catch{}finally{m(!1)}})()},[s,e]),s&&e){if(e.role==="admin")return n.jsx(tt,{to:"/admin",replace:!0});if(e.role==="garagiste")return n.jsx(tt,{to:"/garage",replace:!0})}return w.useEffect(()=>{if(r&&!e){const h=setTimeout(()=>{g(!0)},2e3);return()=>clearTimeout(h)}else g(!1)},[r,e]),r&&!e&&!j?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[var(--color-racine-50)] to-[var(--color-racine-100)] flex items-center justify-center",children:n.jsx("div",{className:"text-[var(--color-noir-700)] text-base sm:text-lg",children:"Chargement..."})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[var(--color-racine-50)] via-white to-[var(--color-rose-50)]",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 max-w-7xl",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-[var(--color-noir)] mb-6 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] bg-clip-text text-transparent",children:"Bienvenue"}),s?n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 bg-white/80 backdrop-blur-sm rounded-xl p-4 sm:p-6 shadow-md border border-[var(--color-racine-200)]",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-[var(--color-noir)]",children:["Bienvenue, ",n.jsx("span",{className:"text-[var(--color-rouge-600)]",children:e==null?void 0:e.name})," !"]}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-noir-600)] mt-1",children:"Vous tes connect en tant que client"})]}),n.jsx("button",{onClick:o,className:"px-5 py-2 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 text-sm sm:text-base",children:"Dconnexion"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 shadow-md border border-[var(--color-racine-200)] hover:shadow-xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rouge-600)"},children:d.appointments}),n.jsx("div",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Rendez-vous"})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 shadow-md border border-[var(--color-racine-200)] hover:shadow-xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rose-600)"},children:d.reviews}),n.jsx("div",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:"Avis laisss"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8",children:[n.jsxs(H,{to:"/app/appointments",className:"bg-white/80 backdrop-blur-sm rounded-xl p-5 sm:p-6 shadow-md border border-[var(--color-racine-200)] hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group animate-fadeIn",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[var(--color-rouge-100)] rounded-lg flex items-center justify-center mb-3 sm:mb-4 group-hover:bg-[var(--color-rouge-200)] group-hover:scale-110 transition-all duration-300",children:n.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[var(--color-rouge-600)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[var(--color-noir)] mb-2",children:"Mes rendez-vous"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-noir-600)]",children:"Consultez et grez vos rendez-vous"})]}),n.jsxs(H,{to:"/app/garages",className:"bg-white/80 backdrop-blur-sm rounded-xl p-5 sm:p-6 shadow-md border border-[var(--color-racine-200)] hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group animate-fadeIn",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[var(--color-rose-100)] rounded-lg flex items-center justify-center mb-3 sm:mb-4 group-hover:bg-[var(--color-rose-200)] group-hover:scale-110 transition-all duration-300",children:n.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[var(--color-rose-600)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[var(--color-noir)] mb-2",children:"Rechercher un garage"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-noir-600)]",children:"Trouvez un garage prs de chez vous"})]}),n.jsxs(H,{to:"/app/profile",className:"bg-white/80 backdrop-blur-sm rounded-xl p-5 sm:p-6 shadow-md border border-[var(--color-racine-200)] hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group animate-fadeIn",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[var(--color-racine-100)] rounded-lg flex items-center justify-center mb-3 sm:mb-4 group-hover:bg-[var(--color-racine-200)] group-hover:scale-110 transition-all duration-300",children:n.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[var(--color-racine-600)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[var(--color-noir)] mb-2",children:"Mon profil"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-noir-600)]",children:"Modifiez vos informations personnelles"})]})]}),!f&&l.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-noir)"},children:" Garages populaires"}),n.jsx(H,{to:"/app/garages",className:"text-sm font-semibold hover:underline",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.slice(0,3).map(h=>{var x,y,p;return n.jsxs(H,{to:`/app/garage/${h._id}`,className:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden shadow-md border hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"h-32 flex items-center justify-center relative",style:{background:"linear-gradient(to bottom right, var(--color-racine-100), var(--color-rose-100))"},children:[h.images&&h.images.length>0?n.jsx("img",{src:h.images[0],alt:h.name,className:"w-full h-full object-cover"}):n.jsx("svg",{className:"w-12 h-12",style:{color:"var(--color-racine-400)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),h.isVerified&&n.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:""})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold mb-1",style:{color:"var(--color-noir)"},children:h.name}),n.jsx("p",{className:"text-xs mb-2",style:{color:"var(--color-noir-600)"},children:h.address.city}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--color-rose-600)"},children:[" ",((y=(x=h.rating)==null?void 0:x.average)==null?void 0:y.toFixed(1))||"0.0"]}),n.jsxs("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:["(",((p=h.rating)==null?void 0:p.count)||0,")"]})]})]})]},h._id)})})]}),!f&&i.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-noir)"},children:" Garages rcents"}),n.jsx(H,{to:"/app/garages",className:"text-sm font-semibold hover:underline",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.slice(0,3).map(h=>{var x,y,p;return n.jsxs(H,{to:`/app/garage/${h._id}`,className:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden shadow-md border hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"h-32 flex items-center justify-center relative",style:{background:"linear-gradient(to bottom right, var(--color-racine-100), var(--color-rose-100))"},children:[h.images&&h.images.length>0?n.jsx("img",{src:h.images[0],alt:h.name,className:"w-full h-full object-cover"}):n.jsx("svg",{className:"w-12 h-12",style:{color:"var(--color-racine-400)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),h.isVerified&&n.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:""})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold mb-1",style:{color:"var(--color-noir)"},children:h.name}),n.jsx("p",{className:"text-xs mb-2",style:{color:"var(--color-noir-600)"},children:h.address.city}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--color-rose-600)"},children:[" ",((y=(x=h.rating)==null?void 0:x.average)==null?void 0:y.toFixed(1))||"0.0"]}),n.jsxs("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:["(",((p=h.rating)==null?void 0:p.count)||0,")"]})]})]})]},h._id)})})]})]}):n.jsxs("div",{className:"mt-8 flex flex-col items-center gap-6",children:[n.jsx("p",{className:"text-base sm:text-lg text-[var(--color-noir-700)] text-center max-w-2xl",children:"Bienvenue sur Promoto ! Crez un compte ou connectez-vous pour rserver un rendez-vous."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(H,{to:"/login",className:"px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 text-sm sm:text-base",children:"Se connecter"}),n.jsx(H,{to:"/register",className:"px-6 py-2.5 bg-[var(--color-rose-500)] hover:bg-[var(--color-rose-600)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 text-sm sm:text-base",children:"Crer un compte"})]}),n.jsxs("div",{className:"mt-12 w-full bg-white/70 backdrop-blur-sm rounded-xl p-6 shadow-md border border-[var(--color-racine-200)]",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[var(--color-noir)] mb-3",children:"Rechercher un garage"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-noir-600)] mb-4",children:"Vous pouvez parcourir les garages disponibles..."}),n.jsx(H,{to:"/app/garages",className:"inline-block px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 text-sm sm:text-base",children:"Voir tous les garages "})]})]}),!s&&!f&&l.length>0&&n.jsxs("div",{className:"mt-12",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-noir)"},children:" Garages populaires"}),n.jsx(H,{to:"/app/garages",className:"text-sm font-semibold hover:underline",style:{color:"var(--color-rouge-600)"},children:"Voir tout "})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.slice(0,3).map(h=>{var x,y,p;return n.jsxs(H,{to:`/app/garage/${h._id}`,className:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden shadow-md border hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"h-32 bg-gradient-to-br from-racine-100 to-rose-100 flex items-center justify-center relative",children:[h.images&&h.images.length>0?n.jsx("img",{src:h.images[0],alt:h.name,className:"w-full h-full object-cover"}):n.jsx("svg",{className:"w-12 h-12",style:{color:"var(--color-racine-400)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),h.isVerified&&n.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:""})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold mb-1",style:{color:"var(--color-noir)"},children:h.name}),n.jsx("p",{className:"text-xs mb-2",style:{color:"var(--color-noir-600)"},children:h.address.city}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--color-rose-600)"},children:[" ",((y=(x=h.rating)==null?void 0:x.average)==null?void 0:y.toFixed(1))||"0.0"]}),n.jsxs("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:["(",((p=h.rating)==null?void 0:p.count)||0,")"]})]})]})]},h._id)})})]})]})})}function gy({garages:e,center:r=[48.8566,2.3522],zoom:t=12,height:o="400px",showMarkerPopup:s=!0,onMarkerClick:l}){const a=w.useRef(null),i=w.useRef(null),c=w.useRef([]),d=xe();return w.useEffect(()=>{const u=async()=>{if(!document.querySelector('link[href*="leaflet"]')){const m=document.createElement("link");m.rel="stylesheet",m.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",m.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",m.crossOrigin="",document.head.appendChild(m)}if(window.L)f();else return new Promise((m,j)=>{const g=document.createElement("script");g.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",g.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",g.crossOrigin="",g.onload=()=>m(),g.onerror=()=>j(new Error("Erreur chargement Leaflet")),document.head.appendChild(g)}).then(()=>{f()}).catch(m=>{console.error("Erreur chargement Leaflet:",m)})},f=()=>{if(!a.current||!window.L)return;const m=window.L;i.current?i.current.setView(r,t):(i.current=m.map(a.current).setView(r,t),m.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(i.current)),c.current.forEach(g=>{i.current.removeLayer(g)}),c.current=[];let j=r;if(e.length>0){const g=e.filter(h=>{var x;return((x=h.location)==null?void 0:x.coordinates)&&h.location.coordinates.length===2&&h.location.coordinates[0]!==0&&h.location.coordinates[1]!==0&&!isNaN(h.location.coordinates[0])&&!isNaN(h.location.coordinates[1])});if(g.length>0){const h=g.reduce((y,p)=>{var b;return y+(((b=p.location)==null?void 0:b.coordinates[1])||0)},0)/g.length,x=g.reduce((y,p)=>{var b;return y+(((b=p.location)==null?void 0:b.coordinates[0])||0)},0)/g.length;(!r||r[0]===48.8566&&r[1]===2.3522)&&(j=[h,x])}}i.current&&j&&i.current.setView(j,t),e.forEach(g=>{var b;if(!g.location||!g.location.coordinates||g.location.coordinates.length!==2||g.location.coordinates[0]===0||g.location.coordinates[1]===0||isNaN(g.location.coordinates[0])||isNaN(g.location.coordinates[1]))return;const[h,x]=g.location.coordinates,y=m.divIcon({className:"custom-marker",html:`
            <div style="
              background-color: var(--color-rouge-600);
              width: 32px;
              height: 32px;
              border-radius: 50% 50% 50% 0;
              transform: rotate(-45deg);
              border: 3px solid white;
              box-shadow: 0 2px 4px rgba(0,0,0,0.3);
              display: flex;
              align-items: center;
              justify-content: center;
            ">
              <span style="
                transform: rotate(45deg);
                color: white;
                font-size: 18px;
                font-weight: bold;
              "></span>
            </div>
          `,iconSize:[32,32],iconAnchor:[16,32]}),p=m.marker([x,h],{icon:y}).addTo(i.current);if(s){const C=(b=g.rating)!=null&&b.average?` ${g.rating.average.toFixed(1)} (${g.rating.count})`:"",N=g.isVerified?" Vrifi":"";p.bindPopup(`
            <div style="min-width: 200px;">
              <h3 style="font-weight: bold; margin-bottom: 4px; color: var(--color-noir);">${g.name}</h3>
              <p style="font-size: 12px; color: var(--color-noir-600); margin: 4px 0;">
                ${g.address.street}<br/>
                ${g.address.postalCode} ${g.address.city}
              </p>
              ${C?`<p style="font-size: 11px; color: var(--color-rouge-600); margin: 4px 0;">${C}</p>`:""}
              ${N?`<p style="font-size: 11px; color: var(--color-rose-600); margin: 4px 0;">${N}</p>`:""}
              <button 
                onclick="window.location.href='/app/garage/${g._id}'"
                style="
                  background-color: var(--color-rouge-600);
                  color: white;
                  border: none;
                  padding: 6px 12px;
                  border-radius: 4px;
                  cursor: pointer;
                  font-size: 12px;
                  margin-top: 8px;
                  width: 100%;
                "
              >
                Voir le garage
              </button>
            </div>
          `)}p.on("click",()=>{l?l(g):d(`/app/garage/${g._id}`)}),c.current.push(p)})};return u(),()=>{i.current&&(i.current.remove(),i.current=null),c.current=[]}},[e,r,t,s,l,d]),n.jsx("div",{ref:a,style:{height:o,width:"100%",borderRadius:"12px",overflow:"hidden",border:"2px solid var(--color-racine-200)"},className:"garage-map"})}function xy(){const[e]=qi(),r=Y(v=>v.user),t=Y(v=>!!v.token&&!!v.user),[o,s]=w.useState([]),[l,a]=w.useState(!0),[i,c]=w.useState(null),[d,u]=w.useState(e.get("search")||""),[f,m]=w.useState(""),[j,g]=w.useState(!1),[h,x]=w.useState("rating"),[y,p]=w.useState(0),[b,C]=w.useState(null),[N,E]=w.useState(!1),[_,P]=w.useState(new Set),[M,B]=w.useState("list"),K=xe(),Q=(v,L,$,F)=>{const J=($-v)*Math.PI/180,ee=(F-L)*Math.PI/180,U=Math.sin(J/2)*Math.sin(J/2)+Math.cos(v*Math.PI/180)*Math.cos($*Math.PI/180)*Math.sin(ee/2)*Math.sin(ee/2);return 6371*(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)))},A=()=>{if(!navigator.geolocation){alert("La golocalisation n'est pas supporte par votre navigateur");return}E(!0),navigator.geolocation.getCurrentPosition(v=>{C({lat:v.coords.latitude,lng:v.coords.longitude}),q(v.coords.latitude,v.coords.longitude)},v=>{alert("Erreur de golocalisation: "+v.message),E(!1)})},q=async(v,L)=>{var $,F;a(!0),c(null);try{const G=await D.get("/garages/nearby",{params:{latitude:v,longitude:L,maxDistance:5e4}});s(G.data.garages)}catch(G){c(((F=($=G.response)==null?void 0:$.data)==null?void 0:F.message)||"Erreur lors de la recherche")}finally{a(!1),E(!1)}},T=async()=>{var v,L;a(!0),c(null);try{const $={isActive:"true"};f&&($.city=f),j&&($.isVerified="true");let G=(await D.get("/garages",{params:$})).data.garages;d&&(G=G.filter(J=>J.name.toLowerCase().includes(d.toLowerCase()))),y>0&&(G=G.filter(J=>{var ee;return(((ee=J.rating)==null?void 0:ee.average)||0)>=y})),b&&(G=G.map(J=>{var ee;if((ee=J.location)!=null&&ee.coordinates){const[U,cr]=J.location.coordinates,yr=Q(b.lat,b.lng,cr,U);return{...J,distance:yr}}return J})),G.sort((J,ee)=>{var U,cr,yr,ke;switch(h){case"distance":return J.distance!==void 0&&ee.distance!==void 0?J.distance-ee.distance:J.distance!==void 0?-1:ee.distance!==void 0?1:(((U=ee.rating)==null?void 0:U.average)||0)-(((cr=J.rating)==null?void 0:cr.average)||0);case"name":return J.name.localeCompare(ee.name);case"rating":default:return(((yr=ee.rating)==null?void 0:yr.average)||0)-(((ke=J.rating)==null?void 0:ke.average)||0)}}),s(G)}catch($){c(((L=(v=$.response)==null?void 0:v.data)==null?void 0:L.message)||"Erreur lors de la recherche")}finally{a(!1)}};w.useEffect(()=>{t&&(r==null?void 0:r.role)==="client"&&(async()=>{var L;try{const F=((L=(await D.get("/favorites")).data.favorites)==null?void 0:L.map(G=>{var J;return((J=G.garageId)==null?void 0:J._id)||G.garageId}))||[];P(new Set(F))}catch{}})()},[t,r]),w.useEffect(()=>{const v=e.get("search");v&&u(v)},[e]),w.useEffect(()=>{T()},[j,y,h]);const V=async(v,L)=>{var F,G;if(L.preventDefault(),L.stopPropagation(),!t||(r==null?void 0:r.role)!=="client")return;const $=_.has(v);try{$?(await D.delete(`/favorites/${v}`),P(J=>{const ee=new Set(J);return ee.delete(v),ee})):(await D.post("/favorites",{garageId:v}),P(J=>new Set([...J,v])))}catch(J){alert(((G=(F=J.response)==null?void 0:F.data)==null?void 0:G.message)||"Erreur lors de l'ajout/retrait des favoris")}},O=v=>{v.preventDefault(),T()},k=()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],S=v=>{if(!v.openingHours)return!0;const L=k(),$=v.openingHours[L];if(!$||$.closed)return!1;const F=new Date,G=`${F.getHours().toString().padStart(2,"0")}:${F.getMinutes().toString().padStart(2,"0")}`;return G>=$.open&&G<=$.close},I=v=>{const L=Math.floor(v),$=v%1>=.5,F=5-L-($?1:0);return n.jsxs("div",{className:"flex items-center gap-0.5",children:[[...Array(L)].map((G,J)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},J)),$&&n.jsxs("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"half",children:[n.jsx("stop",{offset:"50%",stopColor:"currentColor"}),n.jsx("stop",{offset:"50%",stopColor:"transparent",stopOpacity:"1"})]})}),n.jsx("path",{fill:"url(#half)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),[...Array(F)].map((G,J)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},J))]})};return n.jsx("div",{className:"min-h-screen",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-7xl",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Trouver un garage"}),n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 sm:p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx("div",{className:"sm:col-span-2",children:n.jsx("input",{type:"text",placeholder:"Rechercher un garage par nom...",value:d,onChange:v=>u(v.target.value),className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>v.target.style.borderColor="var(--color-rose-500)",onBlur:v=>v.target.style.borderColor="var(--color-racine-200)"})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Ville...",value:f,onChange:v=>m(v.target.value),className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>v.target.style.borderColor="var(--color-rose-500)",onBlur:v=>v.target.style.borderColor="var(--color-racine-200)"})})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Rechercher"})}),n.jsx("button",{type:"button",onClick:A,disabled:N,className:"px-6 py-2.5 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:N?" Localisation...":" Garages prs de moi"})}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:j,onChange:v=>g(v.target.checked),className:"w-4 h-4 rounded",style:{accentColor:"var(--color-rouge-600)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-700)"},children:"Vrifis uniquement"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Note minimale"}),n.jsxs("select",{value:y,onChange:v=>p(Number(v.target.value)),className:"w-full px-3 py-2 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:v=>v.target.style.borderColor="var(--color-rose-500)",onBlur:v=>v.target.style.borderColor="var(--color-racine-200)",children:[n.jsx("option",{value:0,children:"Toutes les notes"}),n.jsx("option",{value:4,children:"4 toiles et plus"}),n.jsx("option",{value:3,children:"3 toiles et plus"}),n.jsx("option",{value:2,children:"2 toiles et plus"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Trier par"}),n.jsxs("select",{value:h,onChange:v=>x(v.target.value),className:"w-full px-3 py-2 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:v=>v.target.style.borderColor="var(--color-rose-500)",onBlur:v=>v.target.style.borderColor="var(--color-racine-200)",children:[n.jsx("option",{value:"rating",children:"Note (meilleure d'abord)"}),b&&n.jsx("option",{value:"distance",children:"Distance (plus proche)"}),n.jsx("option",{value:"name",children:"Nom (A-Z)"})]})]})]})]})}),i&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),l&&n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement des garages..."})}),!l&&o.length===0&&n.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-8 text-center shadow-md border",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun garage trouv. Essayez de modifier vos critres de recherche."})}),!l&&o.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[o.length," garage",o.length>1?"s":""," trouv",o.length>1?"s":""]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>B("list"),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${M==="list"?"bg-[var(--color-rouge-600)] text-white shadow-md":"bg-white/50 text-[var(--color-noir-600)] border-2"}`,style:M==="list"?{}:{borderColor:"var(--color-racine-200)"},children:" Liste"}),n.jsx("button",{onClick:()=>B("map"),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${M==="map"?"bg-[var(--color-rouge-600)] text-white shadow-md":"bg-white/50 text-[var(--color-noir-600)] border-2"}`,style:M==="map"?{}:{borderColor:"var(--color-racine-200)"},children:" Carte"})]})]}),M==="map"?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border p-4 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx(gy,{garages:o.filter(v=>{var L;return((L=v.location)==null?void 0:L.coordinates)&&v.location.coordinates[0]!==0&&v.location.coordinates[1]!==0}),center:b?[b.lat,b.lng]:o.filter(v=>{var L;return((L=v.location)==null?void 0:L.coordinates)&&v.location.coordinates[0]!==0}).length>0?(()=>{var L;const v=o.find($=>{var F;return((F=$.location)==null?void 0:F.coordinates)&&$.location.coordinates[0]!==0});return v&&((L=v.location)!=null&&L.coordinates)?[v.location.coordinates[1],v.location.coordinates[0]]:[48.8566,2.3522]})():[48.8566,2.3522],zoom:b?12:o.filter(v=>{var L;return((L=v.location)==null?void 0:L.coordinates)&&v.location.coordinates[0]!==0}).length===1?15:10,height:"600px",showMarkerPopup:!0,onMarkerClick:v=>K(`/app/garage/${v._id}`)})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:o.map(v=>{var F,G;const L=S(v),$=v.distance;return n.jsxs(H,{to:`/app/garage/${v._id}`,className:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden shadow-md border hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"h-48 flex items-center justify-center relative",style:{background:"linear-gradient(to bottom right, var(--color-racine-100), var(--color-rose-100))"},children:[v.images&&v.images.length>0?n.jsx("img",{src:v.images[0],alt:v.name,className:"w-full h-full object-cover"}):n.jsx("svg",{className:"w-20 h-20",style:{color:"var(--color-racine-400)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),v.isVerified&&n.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"}),t&&(r==null?void 0:r.role)==="client"&&n.jsx("button",{onClick:J=>V(v._id,J),className:"absolute top-2 left-2 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-125 active:scale-95 shadow-md hover:shadow-lg z-10 backdrop-blur-sm",style:{backgroundColor:_.has(v._id)?"var(--color-rose-600)":"rgba(255,255,255,0.9)",color:_.has(v._id)?"white":"var(--color-noir-600)"},children:_.has(v._id)?"":""}),n.jsx("div",{className:"absolute bottom-2 left-2 px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:L?"var(--color-rouge-600)":"var(--color-noir-600)",color:"white"},children:L?" Ouvert":" Ferm"})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"var(--color-noir)"},children:v.name}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I(((F=v.rating)==null?void 0:F.average)||0),n.jsxs("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:["(",((G=v.rating)==null?void 0:G.count)||0," avis)"]})]}),n.jsxs("div",{className:"space-y-1 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--color-noir-600)"},children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v.address.street,", ",v.address.city]}),$!==void 0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",style:{color:"var(--color-rose-600)"},children:[" ",$.toFixed(1)," km"]})]}),v.description&&n.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:"var(--color-noir-600)"},children:v.description}),n.jsx("div",{className:"pt-3 border-t",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:v.phone}),n.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--color-rouge-600)"},children:"Voir dtails "})]})})]})]},v._id)})})]})]})})}const Er=Object.create(null);Er.open="0";Er.close="1";Er.ping="2";Er.pong="3";Er.message="4";Er.upgrade="5";Er.noop="6";const Yn=Object.create(null);Object.keys(Er).forEach(e=>{Yn[Er[e]]=e});const Ba={type:"error",data:"parser error"},Jh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Xh=typeof ArrayBuffer=="function",Yh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Yi=({type:e,data:r},t,o)=>Jh&&r instanceof Blob?t?o(r):Uu(r,o):Xh&&(r instanceof ArrayBuffer||Yh(r))?t?o(r):Uu(new Blob([r]),o):o(Er[e]+(r||"")),Uu=(e,r)=>{const t=new FileReader;return t.onload=function(){const o=t.result.split(",")[1];r("b"+(o||""))},t.readAsDataURL(e)};function $u(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Tl;function yy(e,r){if(Jh&&e.data instanceof Blob)return e.data.arrayBuffer().then($u).then(r);if(Xh&&(e.data instanceof ArrayBuffer||Yh(e.data)))return r($u(e.data));Yi(e,!1,t=>{Tl||(Tl=new TextEncoder),r(Tl.encode(t))})}const Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ro=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Vu.length;e++)Ro[Vu.charCodeAt(e)]=e;const by=e=>{let r=e.length*.75,t=e.length,o,s=0,l,a,i,c;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);const d=new ArrayBuffer(r),u=new Uint8Array(d);for(o=0;o<t;o+=4)l=Ro[e.charCodeAt(o)],a=Ro[e.charCodeAt(o+1)],i=Ro[e.charCodeAt(o+2)],c=Ro[e.charCodeAt(o+3)],u[s++]=l<<2|a>>4,u[s++]=(a&15)<<4|i>>2,u[s++]=(i&3)<<6|c&63;return d},wy=typeof ArrayBuffer=="function",Zi=(e,r)=>{if(typeof e!="string")return{type:"message",data:Zh(e,r)};const t=e.charAt(0);return t==="b"?{type:"message",data:jy(e.substring(1),r)}:Yn[t]?e.length>1?{type:Yn[t],data:e.substring(1)}:{type:Yn[t]}:Ba},jy=(e,r)=>{if(wy){const t=by(e);return Zh(t,r)}else return{base64:!0,data:e}},Zh=(e,r)=>{switch(r){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},em="",Ny=(e,r)=>{const t=e.length,o=new Array(t);let s=0;e.forEach((l,a)=>{Yi(l,!1,i=>{o[a]=i,++s===t&&r(o.join(em))})})},Cy=(e,r)=>{const t=e.split(em),o=[];for(let s=0;s<t.length;s++){const l=Zi(t[s],r);if(o.push(l),l.type==="error")break}return o};function ky(){return new TransformStream({transform(e,r){yy(e,t=>{const o=t.length;let s;if(o<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,o);else if(o<65536){s=new Uint8Array(3);const l=new DataView(s.buffer);l.setUint8(0,126),l.setUint16(1,o)}else{s=new Uint8Array(9);const l=new DataView(s.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(o))}e.data&&typeof e.data!="string"&&(s[0]|=128),r.enqueue(s),r.enqueue(t)})}})}let Il;function An(e){return e.reduce((r,t)=>r+t.length,0)}function Tn(e,r){if(e[0].length===r)return e.shift();const t=new Uint8Array(r);let o=0;for(let s=0;s<r;s++)t[s]=e[0][o++],o===e[0].length&&(e.shift(),o=0);return e.length&&o<e[0].length&&(e[0]=e[0].slice(o)),t}function Sy(e,r){Il||(Il=new TextDecoder);const t=[];let o=0,s=-1,l=!1;return new TransformStream({transform(a,i){for(t.push(a);;){if(o===0){if(An(t)<1)break;const c=Tn(t,1);l=(c[0]&128)===128,s=c[0]&127,s<126?o=3:s===126?o=1:o=2}else if(o===1){if(An(t)<2)break;const c=Tn(t,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),o=3}else if(o===2){if(An(t)<8)break;const c=Tn(t,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){i.enqueue(Ba);break}s=u*Math.pow(2,32)+d.getUint32(4),o=3}else{if(An(t)<s)break;const c=Tn(t,s);i.enqueue(Zi(l?c:Il.decode(c),r)),o=0}if(s===0||s>e){i.enqueue(Ba);break}}}})}const rm=4;function be(e){if(e)return Ey(e)}function Ey(e){for(var r in be.prototype)e[r]=be.prototype[r];return e}be.prototype.on=be.prototype.addEventListener=function(e,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(r),this};be.prototype.once=function(e,r){function t(){this.off(e,t),r.apply(this,arguments)}return t.fn=r,this.on(e,t),this};be.prototype.off=be.prototype.removeListener=be.prototype.removeAllListeners=be.prototype.removeEventListener=function(e,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var o,s=0;s<t.length;s++)if(o=t[s],o===r||o.fn===r){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+e],this};be.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+e],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(t){t=t.slice(0);for(var o=0,s=t.length;o<s;++o)t[o].apply(this,r)}return this};be.prototype.emitReserved=be.prototype.emit;be.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};be.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ys=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,t)=>t(r,0),nr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_y="arraybuffer";function tm(e,...r){return r.reduce((t,o)=>(e.hasOwnProperty(o)&&(t[o]=e[o]),t),{})}const Ry=nr.setTimeout,Py=nr.clearTimeout;function Zs(e,r){r.useNativeTimers?(e.setTimeoutFn=Ry.bind(nr),e.clearTimeoutFn=Py.bind(nr)):(e.setTimeoutFn=nr.setTimeout.bind(nr),e.clearTimeoutFn=nr.clearTimeout.bind(nr))}const Ly=1.33;function Ay(e){return typeof e=="string"?Ty(e):Math.ceil((e.byteLength||e.size)*Ly)}function Ty(e){let r=0,t=0;for(let o=0,s=e.length;o<s;o++)r=e.charCodeAt(o),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(o++,t+=4);return t}function om(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Iy(e){let r="";for(let t in e)e.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r}function Oy(e){let r={},t=e.split("&");for(let o=0,s=t.length;o<s;o++){let l=t[o].split("=");r[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return r}class zy extends Error{constructor(r,t,o){super(r),this.description=t,this.context=o,this.type="TransportError"}}class ec extends be{constructor(r){super(),this.writable=!1,Zs(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,t,o){return super.emitReserved("error",new zy(r,t,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=Zi(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const t=Iy(r);return t.length?"?"+t:""}}class By extends ec{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||t()})),this.writable||(o++,this.once("drain",function(){--o||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const t=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};Cy(r,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Ny(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=om()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}}let nm=!1;try{nm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Dy=nm;function My(){}class Fy extends By{constructor(r){if(super(r),typeof location<"u"){const t=location.protocol==="https:";let o=location.port;o||(o=t?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||o!==r.port}}doWrite(r,t){const o=this.request({method:"POST",data:r});o.on("success",t),o.on("error",(s,l)=>{this.onError("xhr post error",s,l)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,o)=>{this.onError("xhr poll error",t,o)}),this.pollXhr=r}}class Sr extends be{constructor(r,t,o){super(),this.createRequest=r,Zs(this,o),this._opts=o,this._method=o.method||"GET",this._uri=t,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var r;const t=tm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(t);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&o.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var s;o.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Sr.requestsCount++,Sr.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=My,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Sr.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Sr.requestsCount=0;Sr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Wu);else if(typeof addEventListener=="function"){const e="onpagehide"in nr?"pagehide":"unload";addEventListener(e,Wu,!1)}}function Wu(){for(let e in Sr.requests)Sr.requests.hasOwnProperty(e)&&Sr.requests[e].abort()}const Uy=function(){const e=sm({xdomain:!1});return e&&e.responseType!==null}();class $y extends Fy{constructor(r){super(r);const t=r&&r.forceBase64;this.supportsBinary=Uy&&!t}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Sr(sm,this.uri(),r)}}function sm(e){const r=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||Dy))return new XMLHttpRequest}catch{}if(!r)try{return new nr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const lm=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Vy extends ec{get name(){return"websocket"}doOpen(){const r=this.uri(),t=this.opts.protocols,o=lm?{}:tm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,t,o)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const o=r[t],s=t===r.length-1;Yi(o,this.supportsBinary,l=>{try{this.doWrite(o,l)}catch{}s&&Ys(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=om()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}}const Ol=nr.WebSocket||nr.MozWebSocket;class Wy extends Vy{createSocket(r,t,o){return lm?new Ol(r,t,o):t?new Ol(r,t):new Ol(r)}doWrite(r,t){this.ws.send(t)}}class Hy extends ec{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const t=Sy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=r.readable.pipeThrough(t).getReader(),s=ky();s.readable.pipeTo(r.writable),this._writer=s.writable.getWriter();const l=()=>{o.read().then(({done:i,value:c})=>{i||(this.onPacket(c),l())}).catch(i=>{})};l();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const o=r[t],s=t===r.length-1;this._writer.write(o).then(()=>{s&&Ys(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const qy={websocket:Wy,webtransport:Hy,polling:$y},Gy=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ky=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Da(e){if(e.length>8e3)throw"URI too long";const r=e,t=e.indexOf("["),o=e.indexOf("]");t!=-1&&o!=-1&&(e=e.substring(0,t)+e.substring(t,o).replace(/:/g,";")+e.substring(o,e.length));let s=Gy.exec(e||""),l={},a=14;for(;a--;)l[Ky[a]]=s[a]||"";return t!=-1&&o!=-1&&(l.source=r,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Qy(l,l.path),l.queryKey=Jy(l,l.query),l}function Qy(e,r){const t=/\/{2,9}/g,o=r.replace(t,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&o.splice(0,1),r.slice(-1)=="/"&&o.splice(o.length-1,1),o}function Jy(e,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,s,l){s&&(t[s]=l)}),t}const Ma=typeof addEventListener=="function"&&typeof removeEventListener=="function",Zn=[];Ma&&addEventListener("offline",()=>{Zn.forEach(e=>e())},!1);class ot extends be{constructor(r,t){if(super(),this.binaryType=_y,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(t=r,r=null),r){const o=Da(r);t.hostname=o.host,t.secure=o.protocol==="https"||o.protocol==="wss",t.port=o.port,o.query&&(t.query=o.query)}else t.host&&(t.hostname=Da(t.host).host);Zs(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(o=>{const s=o.prototype.name;this.transports.push(s),this._transportsByName[s]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Oy(this.opts.query)),Ma&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Zn.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const t=Object.assign({},this.opts.query);t.EIO=rm,t.transport=r,this.id&&(t.sid=this.id);const o=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&ot.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(r);t.open(),this.setTransport(t)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",ot.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=r.data,this._onError(t);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let o=0;o<this.writeBuffer.length;o++){const s=this.writeBuffer[o].data;if(s&&(t+=Ay(s)),o>0&&t>this._maxPayload)return this.writeBuffer.slice(0,o);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Ys(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,t,o){return this._sendPacket("message",r,t,o),this}send(r,t,o){return this._sendPacket("message",r,t,o),this}_sendPacket(r,t,o,s){if(typeof t=="function"&&(s=t,t=void 0),typeof o=="function"&&(s=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const l={type:r,data:t,options:o};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),r()},o=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():r()}):this.upgrading?o():r()),this}_onError(r){if(ot.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ma&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=Zn.indexOf(this._offlineEventListener);o!==-1&&Zn.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,t),this.writeBuffer=[],this._prevBufferLen=0}}}ot.protocol=rm;class Xy extends ot{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let t=this.createTransport(r),o=!1;ot.priorWebsocketSuccess=!1;const s=()=>{o||(t.send([{type:"ping",data:"probe"}]),t.once("packet",f=>{if(!o)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ot.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function l(){o||(o=!0,u(),t.close(),t=null)}const a=f=>{const m=new Error("probe error: "+f);m.transport=t.name,l(),this.emitReserved("upgradeError",m)};function i(){a("transport closed")}function c(){a("socket closed")}function d(f){t&&f.name!==t.name&&l()}const u=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",i),this.off("close",c),this.off("upgrading",d)};t.once("open",s),t.once("error",a),t.once("close",i),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{o||t.open()},200):t.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const t=[];for(let o=0;o<r.length;o++)~this.transports.indexOf(r[o])&&t.push(r[o]);return t}}let Yy=class extends Xy{constructor(r,t={}){const o=typeof r=="object"?r:t;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(s=>qy[s]).filter(s=>!!s)),super(r,o)}};function Zy(e,r="",t){let o=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),o=Da(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const l=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+l+":"+o.port+r,o.href=o.protocol+"://"+l+(t&&t.port===o.port?"":":"+o.port),o}const e1=typeof ArrayBuffer=="function",r1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,am=Object.prototype.toString,t1=typeof Blob=="function"||typeof Blob<"u"&&am.call(Blob)==="[object BlobConstructor]",o1=typeof File=="function"||typeof File<"u"&&am.call(File)==="[object FileConstructor]";function rc(e){return e1&&(e instanceof ArrayBuffer||r1(e))||t1&&e instanceof Blob||o1&&e instanceof File}function es(e,r){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,o=e.length;t<o;t++)if(es(e[t]))return!0;return!1}if(rc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return es(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&es(e[t]))return!0;return!1}function n1(e){const r=[],t=e.data,o=e;return o.data=Fa(t,r),o.attachments=r.length,{packet:o,buffers:r}}function Fa(e,r){if(!e)return e;if(rc(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let o=0;o<e.length;o++)t[o]=Fa(e[o],r);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=Fa(e[o],r));return t}return e}function s1(e,r){return e.data=Ua(e.data,r),delete e.attachments,e}function Ua(e,r){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<r.length)return r[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=Ua(e[t],r);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=Ua(e[t],r));return e}const l1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],a1=5;var re;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(re||(re={}));class i1{constructor(r){this.replacer=r}encode(r){return(r.type===re.EVENT||r.type===re.ACK)&&es(r)?this.encodeAsBinary({type:r.type===re.EVENT?re.BINARY_EVENT:re.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t=""+r.type;return(r.type===re.BINARY_EVENT||r.type===re.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t+=r.nsp+","),r.id!=null&&(t+=r.id),r.data!=null&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=n1(r),o=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(o),s}}function Hu(e){return Object.prototype.toString.call(e)==="[object Object]"}class tc extends be{constructor(r){super(),this.reviver=r}add(r){let t;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const o=t.type===re.BINARY_EVENT;o||t.type===re.BINARY_ACK?(t.type=o?re.EVENT:re.ACK,this.reconstructor=new c1(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(rc(r)||r.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let t=0;const o={type:Number(r.charAt(0))};if(re[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===re.BINARY_EVENT||o.type===re.BINARY_ACK){const l=t+1;for(;r.charAt(++t)!=="-"&&t!=r.length;);const a=r.substring(l,t);if(a!=Number(a)||r.charAt(t)!=="-")throw new Error("Illegal attachments");o.attachments=Number(a)}if(r.charAt(t+1)==="/"){const l=t+1;for(;++t&&!(r.charAt(t)===","||t===r.length););o.nsp=r.substring(l,t)}else o.nsp="/";const s=r.charAt(t+1);if(s!==""&&Number(s)==s){const l=t+1;for(;++t;){const a=r.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===r.length)break}o.id=Number(r.substring(l,t+1))}if(r.charAt(++t)){const l=this.tryParse(r.substr(t));if(tc.isPayloadValid(o.type,l))o.data=l;else throw new Error("invalid payload")}return o}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,t){switch(r){case re.CONNECT:return Hu(t);case re.DISCONNECT:return t===void 0;case re.CONNECT_ERROR:return typeof t=="string"||Hu(t);case re.EVENT:case re.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&l1.indexOf(t[0])===-1);case re.ACK:case re.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class c1{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=s1(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const u1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tc,Encoder:i1,get PacketType(){return re},protocol:a1},Symbol.toStringTag,{value:"Module"}));function hr(e,r,t){return e.on(r,t),function(){e.off(r,t)}}const d1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class im extends be{constructor(r,t,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[hr(r,"open",this.onopen.bind(this)),hr(r,"packet",this.onpacket.bind(this)),hr(r,"error",this.onerror.bind(this)),hr(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){var o,s,l;if(d1.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:re.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const u=this.ids++,f=t.pop();this._registerAckCallback(u,f),a.id=u}const i=(s=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!i||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(r,t){var o;const s=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(s===void 0){this.acks[r]=t;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===r&&this.sendBuffer.splice(i,1);t.call(this,new Error("operation has timed out"))},s),a=(...i)=>{this.io.clearTimeoutFn(l),t.apply(this,i)};a.withError=!0,this.acks[r]=a}emitWithAck(r,...t){return new Promise((o,s)=>{const l=(a,i)=>a?s(a):o(i);l.withError=!0,t.push(l),this.emit(r,...t)})}_addToQueue(r){let t;typeof r[r.length-1]=="function"&&(t=r.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((s,...l)=>o!==this._queue[0]?void 0:(s!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...l)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(o=>String(o.id)===r)){const o=this.acks[r];delete this.acks[r],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case re.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case re.EVENT:case re.BINARY_EVENT:this.onevent(r);break;case re.ACK:case re.BINARY_ACK:this.onack(r);break;case re.DISCONNECT:this.ondisconnect();break;case re.CONNECT_ERROR:this.destroy();const o=new Error(r.data.message);o.data=r.data.data,this.emitReserved("connect_error",o);break}}onevent(r){const t=r.data||[];r.id!=null&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const o of t)o.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let o=!1;return function(...s){o||(o=!0,t.packet({type:re.ACK,id:r,data:s}))}}onack(r){const t=this.acks[r.id];typeof t=="function"&&(delete this.acks[r.id],t.withError&&r.data.unshift(null),t.apply(this,r.data))}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:re.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let o=0;o<t.length;o++)if(r===t[o])return t.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let o=0;o<t.length;o++)if(r===t[o])return t.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const o of t)o.apply(this,r.data)}}}function uo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}uo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*e);e=Math.floor(r*10)&1?e+t:e-t}return Math.min(e,this.max)|0};uo.prototype.reset=function(){this.attempts=0};uo.prototype.setMin=function(e){this.ms=e};uo.prototype.setMax=function(e){this.max=e};uo.prototype.setJitter=function(e){this.jitter=e};class $a extends be{constructor(r,t){var o;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t=r,r=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Zs(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((o=t.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new uo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=r;const s=t.parser||u1;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t=this.backoff)===null||t===void 0||t.setMin(r),this)}randomizationFactor(r){var t;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t=this.backoff)===null||t===void 0||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t=this.backoff)===null||t===void 0||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new Yy(this.uri,this.opts);const t=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const s=hr(t,"open",function(){o.onopen(),r&&r()}),l=i=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",i),r?r(i):this.maybeReconnectOnOpen()},a=hr(t,"error",l);if(this._timeout!==!1){const i=this._timeout,c=this.setTimeoutFn(()=>{s(),l(new Error("timeout")),t.close()},i);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(hr(r,"ping",this.onping.bind(this)),hr(r,"data",this.ondata.bind(this)),hr(r,"error",this.onerror.bind(this)),hr(r,"close",this.onclose.bind(this)),hr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){Ys(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let o=this.nsps[r];return o?this._autoConnect&&!o.active&&o.connect():(o=new im(this,r,t),this.nsps[r]=o),o}_destroy(r){const t=Object.keys(this.nsps);for(const o of t)if(this.nsps[o].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let o=0;o<t.length;o++)this.engine.write(t[o],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,t){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(s=>{s?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",s)):r.onreconnect()}))},t);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const jo={};function rs(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};const t=Zy(e,r.path||"/socket.io"),o=t.source,s=t.id,l=t.path,a=jo[s]&&l in jo[s].nsps,i=r.forceNew||r["force new connection"]||r.multiplex===!1||a;let c;return i?c=new $a(o,r):(jo[s]||(jo[s]=new $a(o,r)),c=jo[s]),t.query&&!r.query&&(r.query=t.queryKey),c.socket(t.path,r)}Object.assign(rs,{Manager:$a,Socket:im,io:rs,connect:rs});const f1={VITE_API_BASE_URL:"http://localhost:5000/api"};class h1{constructor(){this.socket=null,this.baseURL=this.resolveBaseUrl()}resolveBaseUrl(){const r=f1;if(r!=null&&r.VITE_SOCKET_URL)return r.VITE_SOCKET_URL;const t=r==null?void 0:r.VITE_API_BASE_URL;try{const o=new URL(t);return o.pathname="",o.search="",o.hash="",o.toString().replace(/\/$/,"")}catch{return console.warn("[socket] Impossible de parser VITE_API_BASE_URL, fallback localhost"),"http://localhost:5000"}}connect(){var t;if((t=this.socket)!=null&&t.connected)return this.socket;const r=Y.getState().token;return this.socket=rs(this.baseURL,{auth:{token:r||void 0},transports:["websocket","polling"]}),this.socket.on("connect",()=>{console.log(" Connect au serveur Socket.io")}),this.socket.on("disconnect",()=>{console.log(" Dconnect du serveur Socket.io")}),this.socket.on("connect_error",o=>{console.error(" Erreur de connexion Socket.io:",o)}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}joinRoom(r){this.socket&&this.socket.emit("join-room",r)}leaveRoom(r){this.socket&&this.socket.emit("leave-room",r)}sendMessage(r){this.socket&&this.socket.emit("send-message",r)}onMessage(r){this.socket&&this.socket.on("new-message",r)}offMessage(r){this.socket&&this.socket.off("new-message",r)}getSocket(){return this.socket}isConnected(){var r;return((r=this.socket)==null?void 0:r.connected)||!1}}const In=new h1;function el({userId:e,appointmentId:r,onClose:t}){var b,C;const[o,s]=w.useState([]),[l,a]=w.useState(!0),[i,c]=w.useState(!1),[d,u]=w.useState(""),[f,m]=w.useState(null),j=w.useRef(null),g=Y(N=>N.user);w.useEffect(()=>(x(),h(),()=>{In.offMessage()}),[e]);const h=()=>{In.connect();const E=`conversation-${(g==null?void 0:g._id)||(g==null?void 0:g.id)}-${e}`;In.joinRoom(E),In.onMessage(_=>{_.message&&(_.message.senderId._id===e||_.message.receiverId._id===e)&&(s(P=>[...P,_.message]),p())})},x=async()=>{try{const N=await D.get(`/messages/conversation/${e}`);if(s(N.data.messages||[]),N.data.messages&&N.data.messages.length>0){const E=N.data.messages[0],_=(g==null?void 0:g._id)||(g==null?void 0:g.id),P=E.senderId._id===_?E.receiverId:E.senderId;P.role==="admin"&&(P.name="Promoto"),m(P)}else try{const _=(await D.get(`/users/${e}/public`)).data.user;_.role==="admin"&&(_.name="Promoto"),m(_)}catch(E){console.error("Erreur rcupration utilisateur:",E),m({_id:e,name:"Utilisateur",email:""})}a(!1),p()}catch(N){console.error("Erreur chargement conversation:",N);try{const _=(await D.get(`/users/${e}/public`)).data.user;_.role==="admin"&&(_.name="Promoto"),m(_)}catch{m({_id:e,name:"Utilisateur",email:""})}a(!1)}},y=async()=>{var N,E;if(!(!d.trim()||i)){c(!0);try{const _=await D.post("/messages",{receiverId:e,appointmentId:r||void 0,content:d});s(P=>[...P,_.data.message]),u(""),p(),await D.put("/messages/read",{senderId:e})}catch(_){alert(((E=(N=_.response)==null?void 0:N.data)==null?void 0:E.message)||"Erreur lors de l'envoi")}finally{c(!1)}}},p=()=>{setTimeout(()=>{var N;(N=j.current)==null||N.scrollIntoView({behavior:"smooth"})},100)};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):n.jsxs("div",{className:"flex flex-col h-full max-h-[600px] bg-white/90 backdrop-blur-md rounded-xl shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-opacity-50 rounded-lg transition-all duration-300 flex-shrink-0",style:{backgroundColor:"var(--color-racine-100)"},title:"Retour aux conversations",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--color-noir-700)"},children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f!=null&&f.avatar?n.jsx("img",{src:f.avatar,alt:f.name,className:"w-10 h-10 rounded-full flex-shrink-0"}):n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold flex-shrink-0",style:{backgroundColor:"var(--color-rouge-100)",color:"var(--color-rouge-700)"},children:((C=(b=f==null?void 0:f.name)==null?void 0:b[0])==null?void 0:C.toUpperCase())||"U"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-semibold truncate",style:{color:"var(--color-noir)"},children:(f==null?void 0:f.name)||"Utilisateur"}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"En ligne"})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",style:{backgroundColor:"#efeae2",backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='grid' width='40' height='40' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 40 0 L 0 0 0 40' fill='none' stroke='%23d4d1c7' stroke-width='0.5' opacity='0.3'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100' height='100' fill='url(%23grid)'/%3E%3C/svg%3E")`},children:[o.map((N,E)=>{var K,Q;const _=(g==null?void 0:g._id)||(g==null?void 0:g.id),P=N.senderId._id===_,M=E>0?o[E-1]:null,B=!P&&(!M||M.senderId._id!==N.senderId._id);return!M||new Date(N.createdAt).getTime()-new Date(M.createdAt).getTime()>5*60*1e3,n.jsxs("div",{className:`flex items-end gap-2 ${P?"justify-end flex-row-reverse":"justify-start"}`,children:[!P&&n.jsx("div",{className:"flex-shrink-0 w-8 h-8",children:B?N.senderId.avatar?n.jsx("img",{src:N.senderId.avatar,alt:N.senderId.name,className:"w-8 h-8 rounded-full"}):n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:"var(--color-rouge-100)",color:"var(--color-rouge-700)"},children:(Q=(K=N.senderId.name||"U")==null?void 0:K[0])==null?void 0:Q.toUpperCase()}):n.jsx("div",{className:"w-8"})}),n.jsx("div",{className:`flex flex-col ${P?"items-end":"items-start"} max-w-[75%]`,children:n.jsxs("div",{className:`px-4 py-2.5 rounded-2xl shadow-sm ${P?"rounded-br-sm":"rounded-bl-sm"}`,style:{backgroundColor:P?"#dcf8c6":"white",color:"#000",border:P?"none":"1px solid #e5e5e5",boxShadow:P?"0 1px 2px rgba(0,0,0,0.1)":"0 1px 2px rgba(0,0,0,0.08)"},children:[n.jsx("p",{className:"text-sm leading-relaxed break-words",style:{color:P?"#000":"#303030"},children:N.content}),n.jsxs("div",{className:`flex items-center gap-1 mt-1.5 ${P?"justify-end":"justify-start"}`,children:[n.jsx("p",{className:"text-xs",style:{color:"#667781",opacity:.8},children:new Date(N.createdAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}),P&&n.jsx("svg",{className:"w-3.5 h-3.5",style:{color:"#667781"},fill:"currentColor",viewBox:"0 0 16 15",children:n.jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.175a.366.366 0 0 0-.063-.51z"})})]})]})}),P&&n.jsx("div",{className:"flex-shrink-0 w-8"})]},N._id)}),n.jsx("div",{ref:j})]}),n.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:d,onChange:N=>u(N.target.value),onKeyPress:N=>N.key==="Enter"&&y(),placeholder:"Tapez votre message...",className:"flex-1 px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"}}),n.jsx("button",{onClick:y,disabled:i||!d.trim(),className:"px-6 py-2 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"Envoyer"})})]})})]})}function m1({latitude:e,longitude:r,garageName:t,address:o,height:s="300px"}){const l=w.useRef(null),a=w.useRef(null);return w.useEffect(()=>{const i=async()=>{if(!document.querySelector('link[href*="leaflet"]')){const d=document.createElement("link");d.rel="stylesheet",d.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",d.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",d.crossOrigin="",document.head.appendChild(d)}if(window.L)c();else return new Promise((d,u)=>{const f=document.createElement("script");f.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",f.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",f.crossOrigin="",f.onload=()=>d(),f.onerror=()=>u(new Error("Erreur chargement Leaflet")),document.head.appendChild(f)}).then(()=>{c()}).catch(d=>{console.error("Erreur chargement Leaflet:",d)})},c=()=>{if(!l.current||!window.L)return;const d=window.L;if(!a.current){a.current=d.map(l.current).setView([e,r],15),d.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(a.current);const u=d.divIcon({className:"custom-marker",html:`
            <div style="
              background-color: var(--color-rouge-600);
              width: 40px;
              height: 40px;
              border-radius: 50% 50% 50% 0;
              transform: rotate(-45deg);
              border: 3px solid white;
              box-shadow: 0 2px 6px rgba(0,0,0,0.4);
              display: flex;
              align-items: center;
              justify-content: center;
            ">
              <span style="
                transform: rotate(45deg);
                color: white;
                font-size: 20px;
                font-weight: bold;
              "></span>
            </div>
          `,iconSize:[40,40],iconAnchor:[20,40]}),f=d.marker([e,r],{icon:u}).addTo(a.current);o&&(f.bindPopup(`
            <div style="min-width: 200px;">
              <h3 style="font-weight: bold; margin-bottom: 4px; color: var(--color-noir);">${t}</h3>
              <p style="font-size: 12px; color: var(--color-noir-600); margin: 4px 0;">${o}</p>
            </div>
          `),f.openPopup())}};return i(),()=>{a.current&&(a.current.remove(),a.current=null)}},[e,r,t,o]),n.jsx("div",{ref:l,style:{height:s,width:"100%",borderRadius:"12px",overflow:"hidden",border:"2px solid var(--color-racine-200)"},className:"single-garage-map"})}function p1(){var A,q,T,V;const{id:e}=Hi(),r=xe(),t=Y(O=>O.user),o=Y(O=>!!O.token&&!!O.user),[s,l]=w.useState(null),[a,i]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState(!0),[m,j]=w.useState(null),[g,h]=w.useState("info"),[x,y]=w.useState(!1),[p,b]=w.useState(!1),[C,N]=w.useState(!1),[E,_]=w.useState(null);w.useEffect(()=>{if(!e)return;(async()=>{var k,S;f(!0),j(null);try{const v=(await D.get(`/garages/${e}`)).data.garage;if(l(v),v.ownerId){const L=typeof v.ownerId=="object"?v.ownerId._id:v.ownerId;_(L)}try{const L=await D.get(`/services/garage/${e}`);i(L.data.services||[])}catch{}try{const L=await D.get(`/reviews/garage/${e}`);d(L.data.reviews||[])}catch{}if(o&&(t==null?void 0:t.role)==="client")try{const L=await D.get(`/favorites/check/${e}`);y(L.data.isFavorite||!1)}catch{}}catch(I){j(((S=(k=I.response)==null?void 0:k.data)==null?void 0:S.message)||"Erreur lors du chargement")}finally{f(!1)}})()},[e,o,t]);const P=async()=>{var O,k;if(!(!o||(t==null?void 0:t.role)!=="client"||!e)){b(!0);try{x?(await D.delete(`/favorites/${e}`),y(!1)):(await D.post("/favorites",{garageId:e}),y(!0))}catch(S){alert(((k=(O=S.response)==null?void 0:O.data)==null?void 0:k.message)||"Erreur lors de l'ajout/retrait des favoris")}finally{b(!1)}}},M=()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],B=O=>{if(!O.openingHours)return!0;const k=M(),S=O.openingHours[k];if(!S||S.closed)return!1;const I=new Date,v=`${I.getHours().toString().padStart(2,"0")}:${I.getMinutes().toString().padStart(2,"0")}`;return v>=S.open&&v<=S.close},K=O=>{const k=Math.floor(O),S=O%1>=.5,I=5-k-(S?1:0);return n.jsxs("div",{className:"flex items-center gap-0.5",children:[[...Array(k)].map((v,L)=>n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},L)),S&&n.jsxs("svg",{className:"w-5 h-5",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:`half-${e}`,children:[n.jsx("stop",{offset:"50%",stopColor:"currentColor"}),n.jsx("stop",{offset:"50%",stopColor:"transparent",stopOpacity:"1"})]})}),n.jsx("path",{fill:`url(#half-${e})`,d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),[...Array(I)].map((v,L)=>n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},L))]})};if(u)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})});if(m||!s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-8 shadow-md border text-center max-w-md",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-700)"},children:m||"Garage non trouv"}),n.jsx("button",{onClick:()=>r("/app/garages"),className:"px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Retour  la liste"})]})});const Q=B(s);return n.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:[n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-7xl",children:[n.jsxs("button",{onClick:()=>r("/app/garages"),className:"mb-6 flex items-center gap-2 text-sm font-medium hover:underline",style:{color:"var(--color-noir-600)"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour  la liste"]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden shadow-lg border mb-6",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"h-64 sm:h-80 flex items-center justify-center relative",style:{background:"linear-gradient(to bottom right, var(--color-racine-100), var(--color-rose-100))"},children:[s.images&&s.images.length>0?n.jsx("img",{src:s.images[0],alt:s.name,className:"w-full h-full object-cover"}):n.jsx("svg",{className:"w-32 h-32",style:{color:"var(--color-racine-400)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.isVerified&&n.jsx("div",{className:"absolute top-4 right-4 px-3 py-1.5 rounded-full text-sm font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"}),n.jsx("div",{className:"absolute bottom-4 left-4 px-3 py-1.5 rounded-full text-sm font-semibold",style:{backgroundColor:Q?"var(--color-rouge-600)":"var(--color-noir-600)",color:"white"},children:Q?" Ouvert":" Ferm"})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",style:{color:"var(--color-noir)"},children:s.name}),o&&(t==null?void 0:t.role)==="client"&&n.jsx("button",{onClick:P,disabled:p,className:"w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-125 active:scale-95 disabled:opacity-50 shadow-md hover:shadow-lg",style:{backgroundColor:x?"var(--color-rose-600)":"var(--color-racine-100)",color:x?"white":"var(--color-noir-600)"},title:x?"Retirer des favoris":"Ajouter aux favoris",children:x?"":""})]}),n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[K(((A=s.rating)==null?void 0:A.average)||0),n.jsxs("span",{className:"text-base",style:{color:"var(--color-noir-600)"},children:[((T=(q=s.rating)==null?void 0:q.average)==null?void 0:T.toFixed(1))||"0.0"," (",((V=s.rating)==null?void 0:V.count)||0," avis)"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--color-noir-600)"},children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.address.street,", ",s.address.city," ",s.address.postalCode]})]}),o&&(t==null?void 0:t.role)==="client"&&n.jsxs("div",{className:"flex gap-2",children:[E&&n.jsx("button",{onClick:()=>N(!0),className:"px-4 py-3 bg-white border-2 hover:bg-[var(--color-racine-50)] font-semibold rounded-lg shadow-md hover:shadow-xl transition-all duration-300 text-sm sm:text-base whitespace-nowrap hover:scale-105 active:scale-95",style:{borderColor:"var(--color-rouge-600)",color:"var(--color-rouge-600)"},children:" Contacter"}),n.jsx(H,{to:`/app/garage/${s._id}/book`,className:"px-6 py-3 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 text-sm sm:text-base whitespace-nowrap hover:scale-105 active:scale-95",children:"Rserver un rendez-vous"})]})]}),s.description&&n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-700)"},children:s.description}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-rouge-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-700)"},children:s.phone})]}),s.email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-rose-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("span",{className:"text-sm",style:{color:"var(--color-noir-700)"},children:s.email})]}),s.website&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-racine-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),n.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",style:{color:"var(--color-rouge-600)"},children:s.website})]})]})]})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-md border mb-6",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex border-b",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("button",{onClick:()=>h("info"),className:`px-6 py-3 font-semibold text-sm transition-colors ${g==="info"?"border-b-2":""}`,style:{color:g==="info"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:g==="info"?"var(--color-rouge-600)":"transparent"},children:"Informations"}),n.jsxs("button",{onClick:()=>h("services"),className:`px-6 py-3 font-semibold text-sm transition-colors ${g==="services"?"border-b-2":""}`,style:{color:g==="services"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:g==="services"?"var(--color-rouge-600)":"transparent"},children:["Services (",a.length,")"]}),n.jsxs("button",{onClick:()=>h("reviews"),className:`px-6 py-3 font-semibold text-sm transition-colors ${g==="reviews"?"border-b-2":""}`,style:{color:g==="reviews"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:g==="reviews"?"var(--color-rouge-600)":"transparent"},children:["Avis (",c.length,")"]})]}),n.jsxs("div",{className:"p-6",children:[g==="info"&&n.jsxs("div",{className:"space-y-6",children:[s.openingHours&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Horaires d'ouverture"}),n.jsx("div",{className:"space-y-2",children:Object.entries(s.openingHours).map(([O,k])=>n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"capitalize font-medium",style:{color:"var(--color-noir-700)"},children:O==="monday"?"Lundi":O==="tuesday"?"Mardi":O==="wednesday"?"Mercredi":O==="thursday"?"Jeudi":O==="friday"?"Vendredi":O==="saturday"?"Samedi":"Dimanche"}),n.jsx("span",{style:{color:"var(--color-noir-600)"},children:k.closed?"Ferm":`${k.open} - ${k.close}`})]},O))})]}),s.location&&s.location.coordinates&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Localisation"}),n.jsx(m1,{latitude:s.location.coordinates[1],longitude:s.location.coordinates[0],garageName:s.name,address:`${s.address.street}, ${s.address.postalCode} ${s.address.city}`,height:"400px"})]})]}),g==="services"&&n.jsx("div",{children:a.length===0?n.jsx("p",{className:"text-center py-8 text-sm",style:{color:"var(--color-noir-600)"},children:"Aucun service disponible pour ce garage"}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(O=>n.jsxs("div",{className:"bg-white/50 rounded-lg p-4 border shadow-sm",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h4",{className:"font-bold mb-2",style:{color:"var(--color-noir)"},children:O.name}),O.description&&n.jsx("p",{className:"text-sm mb-2",style:{color:"var(--color-noir-600)"},children:O.description}),n.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("span",{className:"text-xs uppercase font-semibold",style:{color:"var(--color-racine-600)"},children:O.category}),n.jsxs("span",{className:"text-lg font-bold",style:{color:"var(--color-rouge-600)"},children:[O.price,""]})]})]},O._id))})}),g==="reviews"&&n.jsx("div",{children:c.length===0?n.jsx("p",{className:"text-center py-8 text-sm",style:{color:"var(--color-noir-600)"},children:"Aucun avis pour ce garage"}):n.jsx("div",{className:"space-y-4",children:c.map(O=>{var k;return n.jsxs("div",{className:"bg-white/50 rounded-lg p-4 border",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-noir)"},children:((k=O.clientId)==null?void 0:k.name)||"Anonyme"}),K(O.rating)]}),n.jsx("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:new Date(O.createdAt).toLocaleDateString("fr-FR")})]}),O.comment&&n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-noir-700)"},children:O.comment})]},O._id)})})})]})]}),!o&&n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center shadow-md border",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-700)"},children:"Connectez-vous pour rserver un rendez-vous"}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[n.jsx(H,{to:"/login",className:"px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Se connecter"}),n.jsx(H,{to:"/register",className:"px-6 py-2.5 bg-[var(--color-rose-500)] hover:bg-[var(--color-rose-600)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Crer un compte"})]})]})]}),C&&E&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>N(!1),children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col",onClick:O=>O.stopPropagation(),children:[n.jsxs("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-noir)"},children:"Contacter le garagiste"}),n.jsx("button",{onClick:()=>N(!1),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors",style:{color:"var(--color-noir-600)"},children:""})]}),n.jsx("div",{className:"flex-1 overflow-hidden p-4",children:n.jsx(el,{userId:E,onClose:()=>N(!1)})})]})})]})}function oc({onUploadComplete:e,maxImages:r=1,folder:t="garages",multiple:o=!1,label:s="Tlcharger des images",initialUrls:l=[]}){const[a,i]=w.useState(!1),[c,d]=w.useState([]),[u,f]=w.useState(l);w.useEffect(()=>{l&&l.length>0&&f(l)},[l]);const m=async g=>{var b,C;const h=Array.from(g.target.files||[]);if(h.length===0)return;const x=h.slice(0,r-u.length),y=x.map(N=>new Promise(E=>{const _=new FileReader;_.onload=P=>{var M;(M=P.target)!=null&&M.result?E(P.target.result):E("")},_.onerror=()=>E(""),_.readAsDataURL(N)})),p=await Promise.all(y);d(N=>[...N,...p.filter(E=>E)]),i(!0);try{const N=new FormData;x.forEach(B=>{N.append(o?"images":"avatar",B)}),N.append("folder",t);const E=t==="avatars"?"/upload/avatar":t==="garages"?"/upload/garage":"/upload/vehicle",_=await D.post(E,N,{headers:{"Content-Type":"multipart/form-data"}}),P=t==="avatars"?[_.data.avatar]:t==="garages"?_.data.images:_.data.photos,M=[...u,...P];f(M),d([]),e(M),g.target.value=""}catch(N){alert(((C=(b=N.response)==null?void 0:b.data)==null?void 0:C.message)||"Erreur lors du tlchargement"),d(E=>E.slice(0,-x.length))}finally{i(!1)}},j=(g,h=!1)=>{if(h){const x=c.filter((y,p)=>p!==g);d(x)}else{const x=u.filter((y,p)=>p!==g);f(x),e(x)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:s}),(c.length>0||u.length>0)&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[c.map((g,h)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:g,alt:`Preview ${h}`,className:"w-full h-32 object-cover rounded-lg border-2",style:{borderColor:"var(--color-racine-200)"}}),a&&n.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center",children:n.jsx("div",{className:"text-white text-sm",children:"Upload..."})}),n.jsx("button",{onClick:()=>j(h,!0),className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-red-600 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},h)),u.map((g,h)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:g,alt:`Uploaded ${h}`,className:"w-full h-32 object-cover rounded-lg border-2",style:{borderColor:"var(--color-racine-200)"}}),n.jsx("button",{onClick:()=>j(h,!1),className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-red-600 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},`uploaded-${h}`))]}),n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",multiple:o&&u.length<r,onChange:m,disabled:a||u.length>=r,className:"hidden",id:"image-upload-input"}),n.jsx("label",{htmlFor:"image-upload-input",className:`inline-block px-6 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 cursor-pointer ${a||u.length>=r?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:a?"Tlchargement...":`+ ${o?"Ajouter des images":"Ajouter une image"}`}),r>1&&n.jsxs("p",{className:"text-xs mt-2",style:{color:"var(--color-noir-600)"},children:[u.length," / ",r," images"]})]})]})}var cm="clover",v1=function(r){return r===3?"v3":r},um="https://js.stripe.com",g1="".concat(um,"/").concat(cm,"/stripe.js"),x1=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,y1=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var b1=function(r){return x1.test(r)||y1.test(r)},w1=function(){for(var r=document.querySelectorAll('script[src^="'.concat(um,'"]')),t=0;t<r.length;t++){var o=r[t];if(b1(o.src))return o}return null},qu=function(r){var t="",o=document.createElement("script");o.src="".concat(g1).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(o),o},j1=function(r,t){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"8.5.2",startTime:t})},No=null,On=null,zn=null,N1=function(r){return function(t){r(new Error("Failed to load Stripe.js",{cause:t}))}},C1=function(r,t){return function(){window.Stripe?r(window.Stripe):t(new Error("Stripe.js not available"))}},k1=function(r){return No!==null?No:(No=new Promise(function(t,o){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var s=w1();if(!(s&&r)){if(!s)s=qu(r);else if(s&&zn!==null&&On!==null){var l;s.removeEventListener("load",zn),s.removeEventListener("error",On),(l=s.parentNode)===null||l===void 0||l.removeChild(s),s=qu(r)}}zn=C1(t,o),On=N1(o),s.addEventListener("load",zn),s.addEventListener("error",On)}catch(a){o(a);return}}),No.catch(function(t){return No=null,Promise.reject(t)}))},S1=function(r,t,o){if(r===null)return null;var s=t[0],l=s.match(/^pk_test/),a=v1(r.version),i=cm;l&&a!==i&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.5.2"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=r.apply(void 0,t);return j1(c,o),c},Co,dm=!1,fm=function(){return Co||(Co=k1(null).catch(function(r){return Co=null,Promise.reject(r)}),Co)};Promise.resolve().then(function(){return fm()}).catch(function(e){dm||console.warn(e)});var E1=function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];dm=!0;var s=Date.now();return fm().then(function(l){return S1(l,t,s)})},hm={exports:{}},_1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R1=_1,P1=R1;function mm(){}function pm(){}pm.resetWarningCache=mm;var L1=function(){function e(o,s,l,a,i,c){if(c!==P1){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:pm,resetWarningCache:mm};return t.PropTypes=t,t};hm.exports=L1();var A1=hm.exports;const le=Ha(A1);function Gu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,o)}return t}function Ku(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gu(Object(t),!0).forEach(function(o){vm(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gu(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function ts(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(r){return typeof r}:ts=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ts(e)}function vm(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function T1(e,r){if(e==null)return{};var t={},o=Object.keys(e),s,l;for(l=0;l<o.length;l++)s=o[l],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function I1(e,r){if(e==null)return{};var t=T1(e,r),o,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)o=l[s],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function gm(e,r){return O1(e)||z1(e,r)||B1(e,r)||D1()}function O1(e){if(Array.isArray(e))return e}function z1(e,r){var t=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(t!=null){var o=[],s=!0,l=!1,a,i;try{for(t=t.call(e);!(s=(a=t.next()).done)&&(o.push(a.value),!(r&&o.length===r));s=!0);}catch(c){l=!0,i=c}finally{try{!s&&t.return!=null&&t.return()}finally{if(l)throw i}}return o}}function B1(e,r){if(e){if(typeof e=="string")return Qu(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qu(e,r)}}function Qu(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function D1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ie=function(r,t,o){var s=!!o,l=ne.useRef(o);ne.useEffect(function(){l.current=o},[o]),ne.useEffect(function(){if(!s||!r)return function(){};var a=function(){l.current&&l.current.apply(l,arguments)};return r.on(t,a),function(){r.off(t,a)}},[s,t,r,l])},Va=function(r){var t=ne.useRef(r);return ne.useEffect(function(){t.current=r},[r]),t.current},to=function(r){return r!==null&&ts(r)==="object"},M1=function(r){return to(r)&&typeof r.then=="function"},F1=function(r){return to(r)&&typeof r.elements=="function"&&typeof r.createToken=="function"&&typeof r.createPaymentMethod=="function"&&typeof r.confirmCardPayment=="function"},Ju="[object Object]",U1=function e(r,t){if(!to(r)||!to(t))return r===t;var o=Array.isArray(r),s=Array.isArray(t);if(o!==s)return!1;var l=Object.prototype.toString.call(r)===Ju,a=Object.prototype.toString.call(t)===Ju;if(l!==a)return!1;if(!l&&!o)return r===t;var i=Object.keys(r),c=Object.keys(t);if(i.length!==c.length)return!1;for(var d={},u=0;u<i.length;u+=1)d[i[u]]=!0;for(var f=0;f<c.length;f+=1)d[c[f]]=!0;var m=Object.keys(d);if(m.length!==i.length)return!1;var j=r,g=t,h=function(y){return e(j[y],g[y])};return m.every(h)},xm=function(r,t,o){return to(r)?Object.keys(r).reduce(function(s,l){var a=!to(t)||!U1(r[l],t[l]);return o.includes(l)?(a&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),s):a?Ku(Ku({},s||{}),{},vm({},l,r[l])):s},null):null},ym="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Xu=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ym;if(r===null||F1(r))return r;throw new Error(t)},$1=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ym;if(M1(r))return{tag:"async",stripePromise:Promise.resolve(r).then(function(s){return Xu(s,t)})};var o=Xu(r,t);return o===null?{tag:"empty"}:{tag:"sync",stripe:o}},V1=function(r){!r||!r._registerWrapper||!r.registerAppInfo||(r._registerWrapper({name:"react-stripe-js",version:"5.4.0"}),r.registerAppInfo({name:"react-stripe-js",version:"5.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},rl=ne.createContext(null);rl.displayName="ElementsContext";var bm=function(r,t){if(!r)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return r},wm=function(r){var t=r.stripe,o=r.options,s=r.children,l=ne.useMemo(function(){return $1(t)},[t]),a=ne.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(o):null}}),i=gm(a,2),c=i[0],d=i[1];ne.useEffect(function(){var m=!0,j=function(h){d(function(x){return x.stripe?x:{stripe:h,elements:h.elements(o)}})};return l.tag==="async"&&!c.stripe?l.stripePromise.then(function(g){g&&m&&j(g)}):l.tag==="sync"&&!c.stripe&&j(l.stripe),function(){m=!1}},[l,c,o]);var u=Va(t);ne.useEffect(function(){u!==null&&u!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,t]);var f=Va(o);return ne.useEffect(function(){if(c.elements){var m=xm(o,f,["clientSecret","fonts"]);m&&c.elements.update(m)}},[o,f,c.elements]),ne.useEffect(function(){V1(c.stripe)},[c.stripe]),ne.createElement(rl.Provider,{value:c},s)};wm.propTypes={stripe:le.any,options:le.object};var W1=function(r){var t=ne.useContext(rl);return bm(t,r)},H1=function(){var r=W1("calls useElements()"),t=r.elements;return t};le.func.isRequired;var jm=ne.createContext(null);jm.displayName="CheckoutContext";le.any,le.shape({clientSecret:le.oneOfType([le.string,le.instanceOf(Promise)]).isRequired,elementsOptions:le.object}).isRequired;var Wa=function(r){var t=ne.useContext(jm),o=ne.useContext(rl);if(t){if(o)throw new Error("You cannot wrap the part of your app that ".concat(r," in both <CheckoutProvider> and <Elements> providers."));return t}else return bm(o,r)},q1=["mode"],G1=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},qe=function(r,t){var o="".concat(G1(r),"Element"),s=function(c){var d=c.id,u=c.className,f=c.options,m=f===void 0?{}:f,j=c.onBlur,g=c.onFocus,h=c.onReady,x=c.onChange,y=c.onEscape,p=c.onClick,b=c.onLoadError,C=c.onLoaderStart,N=c.onNetworksChange,E=c.onConfirm,_=c.onCancel,P=c.onShippingAddressChange,M=c.onShippingRateChange,B=c.onSavedPaymentMethodRemove,K=c.onSavedPaymentMethodUpdate,Q=Wa("mounts <".concat(o,">")),A="elements"in Q?Q.elements:null,q="checkoutState"in Q?Q.checkoutState:null,T=(q==null?void 0:q.type)==="success"||(q==null?void 0:q.type)==="loading"?q.sdk:null,V=ne.useState(null),O=gm(V,2),k=O[0],S=O[1],I=ne.useRef(null),v=ne.useRef(null);Ie(k,"blur",j),Ie(k,"focus",g),Ie(k,"escape",y),Ie(k,"click",p),Ie(k,"loaderror",b),Ie(k,"loaderstart",C),Ie(k,"networkschange",N),Ie(k,"confirm",E),Ie(k,"cancel",_),Ie(k,"shippingaddresschange",P),Ie(k,"shippingratechange",M),Ie(k,"savedpaymentmethodremove",B),Ie(k,"savedpaymentmethodupdate",K),Ie(k,"change",x);var L;h&&(r==="expressCheckout"?L=h:L=function(){h(k)}),Ie(k,"ready",L),ne.useLayoutEffect(function(){if(I.current===null&&v.current!==null&&(A||T)){var F=null;if(T)switch(r){case"paymentForm":F=T.createPaymentFormElement();break;case"payment":F=T.createPaymentElement(m);break;case"address":if("mode"in m){var G=m.mode,J=I1(m,q1);if(G==="shipping")F=T.createShippingAddressElement(J);else if(G==="billing")F=T.createBillingAddressElement(J);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":F=T.createExpressCheckoutElement(m);break;case"currencySelector":F=T.createCurrencySelectorElement();break;case"taxId":F=T.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else A&&(F=A.create(r,m));I.current=F,S(F),F&&F.mount(v.current)}},[A,T,m]);var $=Va(m);return ne.useEffect(function(){if(I.current){var F=xm(m,$,["paymentRequest"]);F&&"update"in I.current&&I.current.update(F)}},[m,$]),ne.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),ne.createElement("div",{id:d,className:u,ref:v})},l=function(c){Wa("mounts <".concat(o,">"));var d=c.id,u=c.className;return ne.createElement("div",{id:d,className:u})},a=t?l:s;return a.propTypes={id:le.string,className:le.string,onChange:le.func,onBlur:le.func,onFocus:le.func,onReady:le.func,onEscape:le.func,onClick:le.func,onLoadError:le.func,onLoaderStart:le.func,onNetworksChange:le.func,onConfirm:le.func,onCancel:le.func,onShippingAddressChange:le.func,onShippingRateChange:le.func,onSavedPaymentMethodRemove:le.func,onSavedPaymentMethodUpdate:le.func,options:le.object},a.displayName=o,a.__elementType=r,a},Ge=typeof window>"u",K1=ne.createContext(null);K1.displayName="EmbeddedCheckoutProviderContext";var Q1=function(){var r=Wa("calls useStripe()"),t=r.stripe;return t};qe("auBankAccount",Ge);var Yu=qe("card",Ge);qe("cardNumber",Ge);qe("cardExpiry",Ge);qe("cardCvc",Ge);qe("iban",Ge);qe("payment",Ge);qe("expressCheckout",Ge);qe("paymentRequestButton",Ge);qe("linkAuthentication",Ge);qe("address",Ge);qe("shippingAddress",Ge);qe("paymentMethodMessaging",Ge);qe("taxId",Ge);const J1=E1("");function X1({appointmentId:e,amount:r,onSuccess:t,onCancel:o}){const s=Q1(),l=H1(),[a,i]=w.useState(!1),[c,d]=w.useState(null),[u,f]=w.useState(null);w.useEffect(()=>{(async()=>{var h,x;try{const y=await D.post("/payments/create-intent",{appointmentId:e,amount:r});f(y.data.clientSecret)}catch(y){d(((x=(h=y.response)==null?void 0:h.data)==null?void 0:x.message)||"Erreur lors de la cration du paiement")}})()},[e,r]);const m=async g=>{var x,y;if(g.preventDefault(),!s||!l||!u)return;i(!0),d(null);const h=l.getElement(Yu);if(!h){d("lment de carte non trouv"),i(!1);return}try{const{error:p,paymentIntent:b}=await s.confirmCardPayment(u,{payment_method:{card:h}});if(p){d(p.message||"Erreur lors du paiement"),i(!1);return}(b==null?void 0:b.status)==="succeeded"&&(await D.post("/payments/confirm",{paymentIntentId:b.id,appointmentId:e}),t())}catch(p){d(((y=(x=p.response)==null?void 0:x.data)==null?void 0:y.message)||"Erreur lors du paiement")}finally{i(!1)}},j={style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"}},invalid:{color:"#ef4444"}}};return n.jsx("form",{onSubmit:m,className:"space-y-6",children:n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Informations de paiement"}),n.jsx("div",{className:"p-4 border-2 rounded-lg",style:{borderColor:"var(--color-racine-200)"},children:n.jsx(Yu,{options:j})}),n.jsx("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--color-racine-50)"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-noir-700)"},children:"Total:"}),n.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--color-rouge-600)"},children:[r.toFixed(2)," "]})]})}),c&&n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700",children:c}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[o&&n.jsx("button",{type:"button",onClick:o,className:"flex-1 px-6 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300",style:{backgroundColor:"var(--color-noir-200)",color:"var(--color-noir-700)"},children:"Annuler"}),n.jsx("button",{type:"submit",disabled:!s||a||!u,className:"flex-1 px-6 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:a?"Traitement...":`Payer ${r.toFixed(2)} `})})]})]})})}function Y1(e){const[r,t]=w.useState(!1);return w.useEffect(()=>{},[]),r?n.jsx(wm,{stripe:J1,children:n.jsx(X1,{...e})}):n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-8 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Stripe n'est pas configur. Configurez VITE_STRIPE_PUBLISHABLE_KEY dans votre .env"})})}function Z1(){const{id:e}=Hi(),r=xe(),t=Y(U=>U.user),o=Y(U=>!!U.token&&!!U.user),[s,l]=w.useState(null),[a,i]=w.useState([]),[c,d]=w.useState(!0),[u,f]=w.useState(!1),[m,j]=w.useState(null),[g,h]=w.useState(!1),[x,y]=w.useState(""),[p,b]=w.useState(""),[C,N]=w.useState(""),[E,_]=w.useState(""),[P,M]=w.useState(""),[B,K]=w.useState(""),[Q,A]=w.useState(""),[q,T]=w.useState(""),[V,O]=w.useState([]),[k,S]=w.useState(!1),[I,v]=w.useState(null),L=[];for(let U=9;U<18;U++)L.push(`${U.toString().padStart(2,"0")}:00`),L.push(`${U.toString().padStart(2,"0")}:30`);w.useEffect(()=>{if(!o){r("/login",{replace:!0});return}if(t&&t.role!=="client"){r("/app",{replace:!0});return}if(!e)return;(async()=>{var cr,yr;d(!0),j(null);try{const ke=await D.get(`/garages/${e}`);l(ke.data.garage);const fo=await D.get(`/services/garage/${e}`);i(fo.data.services||[]),fo.data.services&&fo.data.services.length>0&&y(fo.data.services[0]._id)}catch(ke){j(((yr=(cr=ke.response)==null?void 0:cr.data)==null?void 0:yr.message)||"Erreur lors du chargement")}finally{d(!1)}})()},[e,o,t,r]);const $=new Date().toISOString().split("T")[0],F=new Date;F.setMonth(F.getMonth()+3);const G=F.toISOString().split("T")[0],J=async U=>{var cr,yr;if(U.preventDefault(),!x||!p||!C){j("Veuillez remplir tous les champs obligatoires");return}f(!0),j(null);try{const ke={garageId:e,serviceId:x,date:new Date(p).toISOString(),time:C,status:"pending"};E&&(ke.notes=E),(P||B||Q||q||V.length>0)&&(ke.vehicleInfo={},P&&(ke.vehicleInfo.brand=P),B&&(ke.vehicleInfo.model=B),Q&&(ke.vehicleInfo.year=parseInt(Q)),q&&(ke.vehicleInfo.licensePlate=q),V.length>0&&(ke.vehicleInfo.photos=V));const Cm=(await D.post("/appointments",ke)).data.appointment;ee!=null&&ee.price&&ee.price>0?(v(Cm),S(!0)):(h(!0),setTimeout(()=>{r("/app/appointments",{replace:!0})},2e3))}catch(ke){j(((yr=(cr=ke.response)==null?void 0:cr.data)==null?void 0:yr.message)||"Erreur lors de la rservation")}finally{f(!1)}};if(!o||t&&t.role!=="client")return null;if(c)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})});if(g)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-8 shadow-lg border text-center max-w-md",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"w-16 h-16 bg-[var(--color-rouge-100)] rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8",style:{color:"var(--color-rouge-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Rservation confirme !"}),n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-600)"},children:"Votre rendez-vous a t enregistr avec succs."}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-500)"},children:"Redirection vers vos rendez-vous..."})]})});if(m&&!s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-8 shadow-md border text-center max-w-md",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-700)"},children:m}),n.jsx("button",{onClick:()=>r("/app/garages"),className:"px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Retour  la liste"})]})});const ee=a.find(U=>U._id===x);return n.jsx("div",{className:"min-h-screen",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-4xl",children:[n.jsxs("button",{onClick:()=>r(`/app/garage/${e}`),className:"mb-6 flex items-center gap-2 text-sm font-medium hover:underline",style:{color:"var(--color-noir-600)"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour aux dtails du garage"]}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Rserver un rendez-vous"}),s&&n.jsxs("p",{className:"text-base mb-6",style:{color:"var(--color-noir-600)"},children:["Pour ",s.name," - ",s.address.city]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 sm:p-8 shadow-2xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[m&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),a.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-600)"},children:"Aucun service disponible pour ce garage."}),n.jsx(H,{to:`/app/garage/${e}`,className:"inline-block px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Retour"})]}):n.jsxs("form",{onSubmit:J,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:["Service * ",n.jsx("span",{className:"text-xs font-normal text-[var(--color-noir-500)]",children:"(obligatoire)"})]}),n.jsx("select",{value:x,onChange:U=>y(U.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)",children:a.map(U=>n.jsxs("option",{value:U._id,children:[U.name," - ",U.price," ",U.duration&&`(${U.duration} min)`]},U._id))}),ee&&n.jsxs("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-noir-700)"},children:ee.category}),ee.description&&n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-noir-600)"},children:ee.description})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:["Date * ",n.jsx("span",{className:"text-xs font-normal text-[var(--color-noir-500)]",children:"(obligatoire)"})]}),n.jsx("input",{type:"date",value:p,onChange:U=>b(U.target.value),min:$,max:G,required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:["Heure * ",n.jsx("span",{className:"text-xs font-normal text-[var(--color-noir-500)]",children:"(obligatoire)"})]}),n.jsxs("select",{value:C,onChange:U=>N(U.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)",children:[n.jsx("option",{value:"",children:"Slectionner une heure"}),L.map(U=>n.jsx("option",{value:U,children:U},U))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Notes (optionnel)"}),n.jsx("textarea",{value:E,onChange:U=>_(U.target.value),placeholder:"Dcrivez brivement le problme ou les informations supplmentaires...",rows:4,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm resize-none",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold mb-3",style:{color:"var(--color-noir-700)"},children:"Informations du vhicule (optionnel)"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--color-noir-600)"},children:"Marque"}),n.jsx("input",{type:"text",value:P,onChange:U=>M(U.target.value),placeholder:"Ex: Peugeot",className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--color-noir-600)"},children:"Modle"}),n.jsx("input",{type:"text",value:B,onChange:U=>K(U.target.value),placeholder:"Ex: 308",className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--color-noir-600)"},children:"Anne"}),n.jsx("input",{type:"number",value:Q,onChange:U=>A(U.target.value),placeholder:"Ex: 2020",min:"1900",max:new Date().getFullYear()+1,className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--color-noir-600)"},children:"Plaque d'immatriculation"}),n.jsx("input",{type:"text",value:q,onChange:U=>T(U.target.value.toUpperCase()),placeholder:"Ex: AB-123-CD",className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:U=>U.target.style.borderColor="var(--color-rose-500)",onBlur:U=>U.target.style.borderColor="var(--color-racine-200)"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-noir-600)"},children:"Photos du vhicule (optionnel)"}),n.jsx(oc,{onUploadComplete:U=>O(U),maxImages:5,folder:"vehicles",multiple:!0,label:"Ajouter des photos"})]})]}),k&&I&&(ee!=null&&ee.price)?n.jsx("div",{className:"border-t pt-6",style:{borderColor:"var(--color-racine-200)"},children:n.jsx(Y1,{appointmentId:I._id,amount:ee.price,onSuccess:()=>{h(!0),setTimeout(()=>{r("/app/appointments",{replace:!0})},2e3)},onCancel:()=>{S(!1),h(!0),setTimeout(()=>{r("/app/appointments",{replace:!0})},2e3)}})}):n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:u?"Rservation en cours...":"Confirmer la rservation"})}),n.jsx("button",{type:"button",onClick:()=>r(`/app/garage/${e}`),className:"px-6 py-3 border-2 font-semibold rounded-lg transition-all duration-300",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir-700)"},children:"Annuler"})]})]})]})]})})}function e2(){const e=xe(),r=Y(v=>v.user),t=Y(v=>!!v.token&&!!v.user),[o,s]=w.useState([]),[l,a]=w.useState(!0),[i,c]=w.useState(null),[d,u]=w.useState("upcoming"),[f,m]=w.useState(!1),[j,g]=w.useState(null),[h,x]=w.useState(null),[y,p]=w.useState(!1),[b,C]=w.useState(null),[N,E]=w.useState(5),[_,P]=w.useState(""),[M,B]=w.useState(!1);w.useEffect(()=>{if(!t){e("/login",{replace:!0});return}if(r&&r.role!=="client"){e("/app",{replace:!0});return}K()},[t,r,e]);const K=async()=>{var v,L;a(!0),c(null);try{const $=await D.get("/appointments/client/me");s($.data.appointments||[])}catch($){c(((L=(v=$.response)==null?void 0:v.data)==null?void 0:L.message)||"Erreur lors du chargement")}finally{a(!1)}},Q=async v=>{var L,$;if(confirm("tes-vous sr de vouloir annuler ce rendez-vous ?"))try{await D.put(`/appointments/${v}`,{status:"cancelled"}),K()}catch(F){alert((($=(L=F.response)==null?void 0:L.data)==null?void 0:$.message)||"Erreur lors de l'annulation")}},A=v=>{C(v),E(5),P(""),p(!0)},q=async()=>{var v,L;if(b){if(!_.trim()){alert("Veuillez crire un commentaire");return}B(!0);try{await D.post("/reviews",{garageId:b.garageId._id,rating:N,comment:_,appointmentId:b._id}),alert("Votre avis a t publi avec succs !"),p(!1),C(null),E(5),P(""),K()}catch($){alert(((L=(v=$.response)==null?void 0:v.data)==null?void 0:L.message)||"Erreur lors de la publication de l'avis")}finally{B(!1)}}},T=async(v,L)=>{try{const F=(await D.get(`/garages/${v}`)).data.garage;F&&F.ownerId?(g(F.ownerId._id||F.ownerId),x(L),m(!0)):alert("Impossible de contacter le garagiste")}catch($){console.error("Erreur lors de l'ouverture du chat:",$),alert("Erreur lors de l'ouverture du chat")}},V=v=>{switch(v){case"pending":return{bg:"var(--color-racine-100)",text:"var(--color-racine-700)",label:"En attente"};case"confirmed":return{bg:"var(--color-rose-100)",text:"var(--color-rose-700)",label:"Confirm"};case"in-progress":return{bg:"var(--color-rouge-100)",text:"var(--color-rouge-700)",label:"En cours"};case"completed":return{bg:"var(--color-noir-200)",text:"var(--color-noir-700)",label:"Termin"};case"cancelled":return{bg:"var(--color-noir-300)",text:"var(--color-noir-600)",label:"Annul"};default:return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:v}}},O=new Date,k=o.filter(v=>new Date(v.date)>=O&&v.status!=="cancelled"&&v.status!=="completed"),S=o.filter(v=>new Date(v.date)<O||v.status==="cancelled"||v.status==="completed"),I=d==="upcoming"?k:S;return!t||r&&r.role!=="client"?null:n.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:[n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-6xl",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Mes rendez-vous"}),n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Grez vos rendez-vous avec les garages"})]}),n.jsx(H,{to:"/app/garages",className:"px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 text-sm sm:text-base",children:"+ Nouveau rendez-vous"})]}),i&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex border-b",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("button",{onClick:()=>u("upcoming"),className:`px-6 py-3 font-semibold text-sm transition-colors ${d==="upcoming"?"border-b-2":""}`,style:{color:d==="upcoming"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:d==="upcoming"?"var(--color-rouge-600)":"transparent"},children:[" venir (",k.length,")"]}),n.jsxs("button",{onClick:()=>u("past"),className:`px-6 py-3 font-semibold text-sm transition-colors ${d==="past"?"border-b-2":""}`,style:{color:d==="past"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:d==="past"?"var(--color-rouge-600)":"transparent"},children:["Passs (",S.length,")"]})]}),n.jsx("div",{className:"p-6",children:l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):I.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--color-noir-300)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-600)"},children:d==="upcoming"?"Aucun rendez-vous  venir":"Aucun rendez-vous pass"}),d==="upcoming"&&n.jsx(H,{to:"/app/garages",className:"inline-block px-6 py-2.5 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Rserver un rendez-vous"})]}):n.jsx("div",{className:"space-y-4",children:I.map(v=>{const L=V(v.status),$=new Date(v.date),F=v.status==="pending"||v.status==="confirmed";return n.jsx("div",{className:"bg-white/50 rounded-xl p-5 sm:p-6 border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-1",style:{color:"var(--color-noir)"},children:v.garageId.name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[v.garageId.address.street,", ",v.garageId.address.city]})]}),n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap",style:{backgroundColor:L.bg,color:L.text},children:L.label})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-rouge-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-noir-700)"},children:$.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-rose-600)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-noir-700)"},children:v.time})]})]}),n.jsxs("div",{className:"bg-[var(--color-racine-50)] rounded-lg p-3 mb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--color-noir-700)"},children:v.serviceId.name}),n.jsxs("span",{className:"text-base font-bold",style:{color:"var(--color-rouge-600)"},children:[v.serviceId.price,""]})]}),n.jsx("span",{className:"text-xs uppercase",style:{color:"var(--color-racine-600)"},children:v.serviceId.category})]}),v.vehicleInfo&&(v.vehicleInfo.brand||v.vehicleInfo.model||v.vehicleInfo.licensePlate)&&n.jsxs("div",{className:"text-xs mb-2",style:{color:"var(--color-noir-600)"},children:[n.jsx("span",{className:"font-medium",children:"Vhicule: "}),[v.vehicleInfo.brand,v.vehicleInfo.model,v.vehicleInfo.year,v.vehicleInfo.licensePlate].filter(Boolean).join("  ")]}),v.notes&&n.jsxs("p",{className:"text-sm italic mt-2",style:{color:"var(--color-noir-600)"},children:['"',v.notes,'"']})]}),n.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:[n.jsx("button",{onClick:()=>T(v.garageId._id,v._id),className:"px-4 py-2 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white rounded-lg text-sm font-semibold transition-all duration-200 text-center shadow-md hover:shadow-xl hover:scale-105 active:scale-95",children:" Contacter le garagiste"}),F&&n.jsx("button",{onClick:()=>Q(v._id),className:"px-4 py-2 border-2 rounded-lg text-sm font-semibold transition-all duration-200",style:{borderColor:"var(--color-rouge-600)",color:"var(--color-rouge-600)"},children:"Annuler"}),n.jsx(H,{to:`/app/garage/${v.garageId._id}`,className:"px-4 py-2 bg-[var(--color-racine-600)] hover:bg-[var(--color-racine-700)] text-white rounded-lg text-sm font-semibold transition-all duration-200 text-center",children:"Voir le garage"}),v.status==="completed"&&n.jsx("button",{onClick:()=>A(v),className:"px-4 py-2 border-2 rounded-lg text-sm font-semibold transition-all duration-200 text-center",style:{borderColor:"var(--color-rose-600)",color:"var(--color-rose-600)"},children:" Laisser un avis"})]})]})},v._id)})})})]})]}),f&&j&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>m(!1),children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col",onClick:v=>v.stopPropagation(),children:[n.jsxs("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-noir)"},children:"Chat avec le garagiste"}),n.jsx("button",{onClick:()=>m(!1),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors",style:{color:"var(--color-noir-600)"},children:""})]}),n.jsx("div",{className:"flex-1 overflow-hidden p-4",children:n.jsx(el,{userId:j,appointmentId:h||void 0,onClose:()=>m(!1)})})]})}),y&&b&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>p(!1),children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full flex flex-col",onClick:v=>v.stopPropagation(),children:[n.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Laisser un avis"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:["Partagez votre exprience avec ",b.garageId.name]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-3",style:{color:"var(--color-noir-700)"},children:"Note *"}),n.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5].map(v=>n.jsx("button",{type:"button",onClick:()=>E(v),className:"text-4xl transition-transform hover:scale-110",style:{color:v<=N?"#fbbf24":"#d1d5db"},children:""},v))}),n.jsx("p",{className:"text-center text-xs mt-2",style:{color:"var(--color-noir-600)"},children:N===5?"Excellent":N===4?"Trs bien":N===3?"Bien":N===2?"Moyen":"Mauvais"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Commentaire *"}),n.jsx("textarea",{value:_,onChange:v=>P(v.target.value),placeholder:"Dcrivez votre exprience avec ce garage...",rows:5,className:"w-full px-4 py-3 rounded-lg border-2 outline-none resize-none transition-all",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"}})]})]}),n.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("button",{onClick:()=>{p(!1),C(null),E(5),P("")},className:"flex-1 px-4 py-2 border-2 rounded-lg text-sm font-semibold transition-all",style:{borderColor:"var(--color-racine-300)",color:"var(--color-noir-700)"},children:"Annuler"}),n.jsx("button",{onClick:q,disabled:M||!_.trim(),className:"flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:M?"Publication...":"Publier l'avis"})]})]})})]})}function r2(){const e=xe(),r=Y(k=>k.user),t=Y(k=>k.setUser);Y(k=>k.logout);const o=Y(k=>!!k.token&&!!k.user),[s,l]=w.useState(!0),[a,i]=w.useState(!1),[c,d]=w.useState(null),[u,f]=w.useState(null),[m,j]=w.useState([]),[g,h]=w.useState("profile"),[x,y]=w.useState(""),[p,b]=w.useState(""),[C,N]=w.useState(""),[E,_]=w.useState(""),[P,M]=w.useState(""),[B,K]=w.useState(""),[Q,A]=w.useState("");w.useEffect(()=>{if(!o){e("/login",{replace:!0});return}if(r&&r.role!=="client"){e("/app",{replace:!0});return}r&&(y(r.name||""),b(r.email||""),N(r.phone||""),_(r.avatar||""),q(),l(!1))},[o,r,e]);const q=async()=>{try{const S=(await D.get("/reviews")).data.reviews||[],I=(r==null?void 0:r._id)||(r==null?void 0:r.id);j(S.filter(v=>{var L;return((L=v.clientId)==null?void 0:L._id)===I||v.clientId===I}))}catch{}},T=async k=>{var S,I;k.preventDefault(),i(!0),d(null),f(null);try{const v=await D.put("/users/profile",{name:x,phone:C||void 0,avatar:E||void 0});t(v.data.user||{...r,name:x,phone:C,avatar:E}),f("Profil mis  jour avec succs !"),setTimeout(()=>f(null),3e3)}catch(v){d(((I=(S=v.response)==null?void 0:S.data)==null?void 0:I.message)||"Erreur lors de la mise  jour")}finally{i(!1)}},V=async k=>{var S,I;if(k.preventDefault(),i(!0),d(null),f(null),B!==Q){d("Les mots de passe ne correspondent pas"),i(!1);return}if(B.length<6){d("Le mot de passe doit contenir au moins 6 caractres"),i(!1);return}try{await D.put("/users/profile/password",{currentPassword:P,newPassword:B}),M(""),K(""),A(""),f("Mot de passe modifi avec succs !"),setTimeout(()=>f(null),3e3)}catch(v){d(((I=(S=v.response)==null?void 0:S.data)==null?void 0:I.message)||"Erreur lors du changement de mot de passe")}finally{i(!1)}},O=k=>{const S=Math.floor(k),I=k%1>=.5,v=5-S-(I?1:0);return n.jsxs("div",{className:"flex items-center gap-0.5",children:[[...Array(S)].map((L,$)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$)),I&&n.jsxs("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"half-profile",children:[n.jsx("stop",{offset:"50%",stopColor:"currentColor"}),n.jsx("stop",{offset:"50%",stopColor:"transparent",stopOpacity:"1"})]})}),n.jsx("path",{fill:"url(#half-profile)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),[...Array(v)].map((L,$)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$))]})};return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):!r||r.role!=="client"?null:n.jsx("div",{className:"min-h-screen",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-4xl",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Mon Profil"}),c&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),u&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:u}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex border-b",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("button",{onClick:()=>h("profile"),className:`px-6 py-3 font-semibold text-sm transition-colors ${g==="profile"?"border-b-2":""}`,style:{color:g==="profile"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:g==="profile"?"var(--color-rouge-600)":"transparent"},children:"Informations"}),n.jsx("button",{onClick:()=>h("password"),className:`px-6 py-3 font-semibold text-sm transition-colors ${g==="password"?"border-b-2":""}`,style:{color:g==="password"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:g==="password"?"var(--color-rouge-600)":"transparent"},children:"Mot de passe"}),n.jsxs("button",{onClick:()=>h("reviews"),className:`px-6 py-3 font-semibold text-sm transition-colors ${g==="reviews"?"border-b-2":""}`,style:{color:g==="reviews"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:g==="reviews"?"var(--color-rouge-600)":"transparent"},children:["Mes avis (",m.length,")"]})]}),n.jsxs("div",{className:"p-6",children:[g==="profile"&&n.jsxs("form",{onSubmit:T,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Photo de profil"}),n.jsxs("div",{className:"flex items-start gap-4",children:[E&&n.jsx("div",{className:"relative",children:n.jsx("img",{src:E,alt:"Avatar",className:"w-20 h-20 rounded-full object-cover border-2",style:{borderColor:"var(--color-racine-200)"}})}),n.jsx("div",{className:"flex-1",children:n.jsx(oc,{onUploadComplete:k=>_(k[0]||""),maxImages:1,folder:"avatars",multiple:!1,label:"Changer la photo de profil",initialUrls:E?[E]:[]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Nom complet *"}),n.jsx("input",{type:"text",value:x,onChange:k=>y(k.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:k=>k.target.style.borderColor="var(--color-rose-500)",onBlur:k=>k.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Email"}),n.jsx("input",{type:"email",value:p,disabled:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm cursor-not-allowed opacity-60",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"var(--color-racine-50)"}}),n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-noir-500)"},children:"L'email ne peut pas tre modifi"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Tlphone"}),n.jsx("input",{type:"tel",value:C,onChange:k=>N(k.target.value),className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:k=>k.target.style.borderColor="var(--color-rose-500)",onBlur:k=>k.target.style.borderColor="var(--color-racine-200)"})]}),n.jsx("button",{type:"submit",disabled:a,className:"px-6 py-3 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:a?"Enregistrement...":"Enregistrer les modifications"})})]}),g==="password"&&n.jsxs("form",{onSubmit:V,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Mot de passe actuel *"}),n.jsx("input",{type:"password",value:P,onChange:k=>M(k.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:k=>k.target.style.borderColor="var(--color-rose-500)",onBlur:k=>k.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Nouveau mot de passe *"}),n.jsx("input",{type:"password",value:B,onChange:k=>K(k.target.value),required:!0,minLength:6,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:k=>k.target.style.borderColor="var(--color-rose-500)",onBlur:k=>k.target.style.borderColor="var(--color-racine-200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Confirmer le nouveau mot de passe *"}),n.jsx("input",{type:"password",value:Q,onChange:k=>A(k.target.value),required:!0,minLength:6,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:k=>k.target.style.borderColor="var(--color-rose-500)",onBlur:k=>k.target.style.borderColor="var(--color-racine-200)"})]}),n.jsx("button",{type:"submit",disabled:a,className:"px-6 py-3 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:a?"Changement...":"Changer le mot de passe"})})]}),g==="reviews"&&n.jsx("div",{children:m.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--color-noir-300)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),n.jsx("p",{className:"text-base mb-4",style:{color:"var(--color-noir-600)"},children:"Vous n'avez pas encore laiss d'avis"})]}):n.jsx("div",{className:"space-y-4",children:m.map(k=>{var S,I;return n.jsxs("div",{className:"bg-white/50 rounded-lg p-4 border",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-noir)"},children:((S=k.garageId)==null?void 0:S.name)||"Garage"}),O(k.rating)]}),n.jsx("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:new Date(k.createdAt).toLocaleDateString("fr-FR")})]}),k.comment&&n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-noir-700)"},children:k.comment}),((I=k.garageId)==null?void 0:I._id)&&n.jsx(H,{to:`/app/garage/${k.garageId._id}`,className:"inline-block mt-2 text-xs font-semibold hover:underline",style:{color:"var(--color-rouge-600)"},children:"Voir le garage "})]},k._id)})})})]})]})]})})}function t2(){const e=xe(),r=Y(m=>m.user),t=Y(m=>!!m.token&&!!m.user),[o,s]=w.useState([]),[l,a]=w.useState(!0),[i,c]=w.useState(null);w.useEffect(()=>{if(!t){e("/login",{replace:!0});return}if(r&&r.role!=="client"){e("/app",{replace:!0});return}d()},[t,r,e]);const d=async()=>{var m,j;a(!0),c(null);try{const g=await D.get("/favorites");s(g.data.favorites||[])}catch(g){c(((j=(m=g.response)==null?void 0:m.data)==null?void 0:j.message)||"Erreur lors du chargement")}finally{a(!1)}},u=async(m,j)=>{var g,h;if(confirm(`Retirer "${j}" de vos favoris ?`))try{await D.delete(`/favorites/${m}`),d()}catch(x){alert(((h=(g=x.response)==null?void 0:g.data)==null?void 0:h.message)||"Erreur lors de la suppression")}},f=m=>{const j=Math.floor(m),g=m%1>=.5,h=5-j-(g?1:0);return n.jsxs("div",{className:"flex items-center gap-0.5",children:[[...Array(j)].map((x,y)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},y)),g&&n.jsxs("svg",{className:"w-4 h-4",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"half-fav",children:[n.jsx("stop",{offset:"50%",stopColor:"currentColor"}),n.jsx("stop",{offset:"50%",stopColor:"transparent",stopOpacity:"1"})]})}),n.jsx("path",{fill:"url(#half-fav)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),[...Array(h)].map((x,y)=>n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},y))]})};return!t||r&&r.role!=="client"?null:n.jsx("div",{className:"min-h-screen",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-7xl",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:" Mes favoris"}),i&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):o.length===0?n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-12 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("svg",{className:"w-24 h-24 mx-auto mb-4",style:{color:"var(--color-noir-300)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),n.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Aucun favori"}),n.jsx("p",{className:"text-base mb-6",style:{color:"var(--color-noir-600)"},children:"Vous n'avez pas encore de garages favoris. Explorez les garages et ajoutez vos prfrs !"}),n.jsx(H,{to:"/app/garages",className:"inline-block px-6 py-2.5 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Dcouvrir les garages"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-4 text-sm",style:{color:"var(--color-noir-600)"},children:[o.length," garage",o.length>1?"s":""," favori",o.length>1?"s":""]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:o.map(m=>{var g,h;const j=m.garageId;return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden shadow-md border hover:shadow-2xl hover:-translate-y-2 hover:scale-[1.02] transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"h-48 flex items-center justify-center relative",style:{background:"linear-gradient(to bottom right, var(--color-racine-100), var(--color-rose-100))"},children:[j.images&&j.images.length>0?n.jsx("img",{src:j.images[0],alt:j.name,className:"w-full h-full object-cover"}):n.jsx("svg",{className:"w-20 h-20",style:{color:"var(--color-racine-400)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),j.isVerified&&n.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"}),n.jsx("button",{onClick:()=>u(j._id,j.name),className:"absolute top-2 left-2 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110",style:{backgroundColor:"var(--color-rose-600)",color:"white"},title:"Retirer des favoris",children:""})]}),n.jsxs("div",{className:"p-4",children:[n.jsx(H,{to:`/app/garage/${j._id}`,children:n.jsx("h3",{className:"text-lg font-bold mb-2 hover:underline",style:{color:"var(--color-noir)"},children:j.name})}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f(((g=j.rating)==null?void 0:g.average)||0),n.jsxs("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:["(",((h=j.rating)==null?void 0:h.count)||0," avis)"]})]}),n.jsx("div",{className:"space-y-1 mb-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--color-noir-600)"},children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),j.address.street,", ",j.address.city]})}),n.jsxs("div",{className:"flex gap-2 pt-3 border-t",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx(H,{to:`/app/garage/${j._id}`,className:"flex-1 px-4 py-2 bg-[var(--color-rouge-600)] hover:bg-[var(--color-rouge-700)] text-white font-semibold rounded-lg shadow-sm hover:shadow-md transition-all duration-200 text-center text-sm",children:"Voir dtails"}),t&&(r==null?void 0:r.role)==="client"&&n.jsx(H,{to:`/app/garage/${j._id}/book`,className:"px-4 py-2 bg-[var(--color-rose-600)] hover:bg-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-sm hover:shadow-md transition-all duration-200 text-sm",children:"Rserver"})]})]})]},m._id)})})]})]})})}function Nm(){const[e,r]=qi(),[t,o]=w.useState([]),[s,l]=w.useState(e.get("userId")),[a,i]=w.useState(!0);w.useEffect(()=>{c();const u=e.get("userId");u&&l(u)},[]);const c=async()=>{var u,f;try{const m=await D.get("/messages/conversations");o(m.data.conversations||[]),i(!1)}catch(m){console.error("Erreur chargement conversations:",m),(((u=m.response)==null?void 0:u.status)===404||((f=m.response)==null?void 0:f.status)===403)&&console.warn("La route /messages/conversations n'est peut-tre pas disponible"),o([]),i(!1)}};if(a)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})});const d=()=>{l(null),r({})};return s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-racine-600)",color:"white"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Retour aux conversations"]}),n.jsx(el,{userId:s,onClose:d})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Messages"}),t.length===0?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-8 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucune conversation"})}):n.jsx("div",{className:"space-y-2",children:t.map(u=>{var f,m,j;return n.jsxs("button",{onClick:()=>{l(u.user._id),r({userId:u.user._id})},className:"w-full p-4 bg-white/90 backdrop-blur-md rounded-xl shadow-md border hover:shadow-xl transition-all duration-300 hover:-translate-y-1 flex items-center justify-between",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[u.user.avatar?n.jsx("img",{src:u.user.avatar,alt:u.user.name,className:"w-12 h-12 rounded-full"}):n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold",style:{backgroundColor:"var(--color-rouge-100)",color:"var(--color-rouge-700)"},children:((m=(f=u.user.name)==null?void 0:f[0])==null?void 0:m.toUpperCase())||"U"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-semibold",style:{color:"var(--color-noir)"},children:u.user.name}),n.jsx("p",{className:"text-sm truncate max-w-[200px]",style:{color:"var(--color-noir-600)"},children:((j=u.lastMessage)==null?void 0:j.content)||"Aucun message"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:u.lastMessage?new Date(u.lastMessage.createdAt).toLocaleDateString("fr-FR"):""}),u.unreadCount>0&&n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:u.unreadCount})]})]},u._id)})})]})}function o2(){return n.jsx("div",{className:"min-h-screen",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-4xl",children:n.jsx(Nm,{})})})}function n2(){const e=xe(),[r,t]=w.useState([]),[o,s]=w.useState(!0),[l,a]=w.useState(null),[i,c]=w.useState("all");w.useEffect(()=>{d()},[]);const d=async()=>{var p,b;s(!0),a(null);try{const C=await D.get("/appointments/garage/me");t(C.data.appointments||[])}catch(C){a(((b=(p=C.response)==null?void 0:p.data)==null?void 0:b.message)||"Erreur lors du chargement")}finally{s(!1)}},u=async(p,b)=>{var C,N;try{await D.put(`/appointments/${p}`,{status:b}),d()}catch(E){alert(((N=(C=E.response)==null?void 0:C.data)==null?void 0:N.message)||"Erreur lors de la mise  jour")}},f=p=>{switch(p){case"pending":return{bg:"var(--color-racine-100)",text:"var(--color-racine-700)",label:"En attente"};case"confirmed":return{bg:"var(--color-rouge-100)",text:"var(--color-rouge-700)",label:"Confirm"};case"in-progress":return{bg:"var(--color-rose-100)",text:"var(--color-rose-700)",label:"En cours"};case"completed":return{bg:"var(--color-racine-200)",text:"var(--color-racine-800)",label:"Termin"};case"cancelled":return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:"Annul"};default:return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:p}}},j=(()=>{const p=new Date;p.setHours(0,0,0,0);const b=new Date(p);switch(b.setDate(b.getDate()+1),i){case"today":return r.filter(C=>{const N=new Date(C.date);return N>=p&&N<b});case"pending":return r.filter(C=>C.status==="pending");case"confirmed":return r.filter(C=>C.status==="confirmed");case"completed":return r.filter(C=>C.status==="completed");default:return r}})(),g=r.filter(p=>{const b=new Date(p.date),C=new Date;C.setHours(0,0,0,0);const N=new Date(C);return N.setDate(N.getDate()+1),b>=C&&b<N}).length,h=r.filter(p=>p.status==="pending").length,x=r.filter(p=>p.status==="confirmed").length,y=r.filter(p=>p.status==="completed").length;return n.jsx("div",{className:"min-h-screen animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 max-w-7xl",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>e("/garage"),className:"mb-4 flex items-center gap-2 text-sm font-medium hover:underline",style:{color:"var(--color-noir-600)"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour au dashboard"]}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Mes Rendez-vous"}),n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Grez tous vos rendez-vous clients"})]})}),l&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex border-b overflow-x-auto",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("button",{onClick:()=>c("all"),className:`px-6 py-3 font-semibold text-sm transition-colors whitespace-nowrap ${i==="all"?"border-b-2":""}`,style:{color:i==="all"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:i==="all"?"var(--color-rouge-600)":"transparent"},children:["Tous (",r.length,")"]}),n.jsxs("button",{onClick:()=>c("today"),className:`px-6 py-3 font-semibold text-sm transition-colors whitespace-nowrap ${i==="today"?"border-b-2":""}`,style:{color:i==="today"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:i==="today"?"var(--color-rouge-600)":"transparent"},children:["Aujourd'hui (",g,")"]}),n.jsxs("button",{onClick:()=>c("pending"),className:`px-6 py-3 font-semibold text-sm transition-colors whitespace-nowrap ${i==="pending"?"border-b-2":""}`,style:{color:i==="pending"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:i==="pending"?"var(--color-rouge-600)":"transparent"},children:["En attente (",h,")"]}),n.jsxs("button",{onClick:()=>c("confirmed"),className:`px-6 py-3 font-semibold text-sm transition-colors whitespace-nowrap ${i==="confirmed"?"border-b-2":""}`,style:{color:i==="confirmed"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:i==="confirmed"?"var(--color-rouge-600)":"transparent"},children:["Confirms (",x,")"]}),n.jsxs("button",{onClick:()=>c("completed"),className:`px-6 py-3 font-semibold text-sm transition-colors whitespace-nowrap ${i==="completed"?"border-b-2":""}`,style:{color:i==="completed"?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:i==="completed"?"var(--color-rouge-600)":"transparent"},children:["Termins (",y,")"]})]}),n.jsx("div",{className:"p-6",children:o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):j.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--color-noir-300)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsxs("p",{className:"text-base mb-4",style:{color:"var(--color-noir-600)"},children:["Aucun rendez-vous ",i!=="all"?`(${i})`:""]})]}):n.jsx("div",{className:"space-y-4",children:j.map(p=>{var E,_,P,M,B;const b=f(p.status),C=new Date(p.date),N=p.status==="pending"||p.status==="confirmed"||p.status==="in-progress";return n.jsx("div",{className:"bg-white/50 rounded-xl p-5 sm:p-6 border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-lg font-bold",style:{color:"var(--color-noir)"},children:[C.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}),"  ",p.time]}),n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:b.bg,color:b.text},children:b.label})]}),n.jsxs("h3",{className:"text-lg sm:text-xl font-bold mb-1",style:{color:"var(--color-noir)"},children:[" ",((E=p.clientId)==null?void 0:E.name)||"Client"]}),n.jsxs("p",{className:"text-sm mb-2",style:{color:"var(--color-noir-600)"},children:[" ",((_=p.clientId)==null?void 0:_.email)||"-"," |  ",((P=p.clientId)==null?void 0:P.phone)||"-"]}),n.jsxs("p",{className:"text-sm font-medium mb-1",style:{color:"var(--color-noir-700)"},children:[" ",((M=p.serviceId)==null?void 0:M.name)||"Service"]}),((B=p.serviceId)==null?void 0:B.price)&&n.jsxs("p",{className:"text-sm mb-2",style:{color:"var(--color-rouge-600)"},children:[" ",p.serviceId.price,""]}),p.notes&&n.jsxs("p",{className:"text-sm italic mb-2",style:{color:"var(--color-noir-600)"},children:[" ",p.notes]}),p.vehicleInfo&&(p.vehicleInfo.brand||p.vehicleInfo.model)&&n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[" ",p.vehicleInfo.brand," ",p.vehicleInfo.model," ",p.vehicleInfo.year?`(${p.vehicleInfo.year})`:""]})]})})}),N&&n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>u(p._id,"confirmed"),className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Accepter"})}),n.jsx("button",{onClick:()=>u(p._id,"cancelled"),className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-noir-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Refuser"})})]}),p.status==="confirmed"&&n.jsx("button",{onClick:()=>u(p._id,"in-progress"),className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Dmarrer"})}),p.status==="in-progress"&&n.jsx("button",{onClick:()=>u(p._id,"completed"),className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-racine-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Terminer"})})]})]})},p._id)})})})]})]})})}function s2(){const e=xe(),[r,t]=w.useState([]),[o,s]=w.useState(!0),[l,a]=w.useState(null),[i,c]=w.useState(!1),[d,u]=w.useState(null),[f,m]=w.useState(!1),[j,g]=w.useState(null),[h,x]=w.useState(""),[y,p]=w.useState(""),[b,C]=w.useState("reparation"),[N,E]=w.useState(""),[_,P]=w.useState("variable"),[M,B]=w.useState(""),[K,Q]=w.useState(!0);w.useEffect(()=>{A()},[]);const A=async()=>{var v,L;s(!0),a(null);try{const F=(await D.get("/garages/me")).data.garage;g(F._id);const G=await D.get(`/services/garage/${F._id}`);t(G.data.services||[])}catch($){a(((L=(v=$.response)==null?void 0:v.data)==null?void 0:L.message)||"Erreur lors du chargement")}finally{s(!1)}},q=()=>{x(""),p(""),C("reparation"),E(""),P("variable"),B(""),Q(!0),u(null),c(!1)},T=v=>{var L,$;u(v),x(v.name),p(v.description||""),C(v.category),E(((L=v.price)==null?void 0:L.toString())||""),P(v.priceType),B((($=v.duration)==null?void 0:$.toString())||""),Q(v.isActive),c(!0)},V=async v=>{var L,$;v.preventDefault(),m(!0),a(null);try{const F={name:h,description:y||void 0,category:b,priceType:_,isActive:K};N&&(F.price=parseFloat(N)),M&&(F.duration=parseInt(M)),d?await D.put(`/services/${d._id}`,F):await D.post("/services",F),q(),A()}catch(F){a((($=(L=F.response)==null?void 0:L.data)==null?void 0:$.message)||"Erreur lors de la sauvegarde")}finally{m(!1)}},O=async(v,L)=>{var $,F;if(confirm(`tes-vous sr de vouloir supprimer le service "${L}" ?`))try{await D.delete(`/services/${v}`),A()}catch(G){alert(((F=($=G.response)==null?void 0:$.data)==null?void 0:F.message)||"Erreur lors de la suppression")}},k=async v=>{var L,$;try{await D.put(`/services/${v._id}`,{isActive:!v.isActive}),A()}catch(F){alert((($=(L=F.response)==null?void 0:L.data)==null?void 0:$.message)||"Erreur lors de la mise  jour")}},S=v=>({reparation:"Rparation",entretien:"Entretien",depannage:"Dpannage","vente-pieces":"Vente de pices",carrosserie:"Carrosserie",peinture:"Peinture",revision:"Rvision",autre:"Autre"})[v]||v,I=v=>({fixe:"Prix fixe",variable:"Prix variable","sur-devis":"Sur devis"})[v]||v;return n.jsx("div",{className:"min-h-screen animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 max-w-7xl",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>e("/garage"),className:"mb-4 flex items-center gap-2 text-sm font-medium hover:underline",style:{color:"var(--color-noir-600)"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour au dashboard"]}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Mes Services"}),n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Grez les services proposs par votre garage"})]}),n.jsx("button",{onClick:()=>{q(),c(!0)},className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"+ Ajouter un service"})})]}),l&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),i&&n.jsxs("div",{className:"mb-6 bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-slideIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-noir)"},children:d?"Modifier le service":"Nouveau Service"}),n.jsxs("form",{onSubmit:V,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Nom du service *"}),n.jsx("input",{type:"text",value:h,onChange:v=>x(v.target.value),required:!0,placeholder:"Ex: Vidange",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Catgorie *"}),n.jsxs("select",{value:b,onChange:v=>C(v.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"},children:[n.jsx("option",{value:"reparation",children:"Rparation"}),n.jsx("option",{value:"entretien",children:"Entretien"}),n.jsx("option",{value:"depannage",children:"Dpannage"}),n.jsx("option",{value:"vente-pieces",children:"Vente de pices"}),n.jsx("option",{value:"carrosserie",children:"Carrosserie"}),n.jsx("option",{value:"peinture",children:"Peinture"}),n.jsx("option",{value:"revision",children:"Rvision"}),n.jsx("option",{value:"autre",children:"Autre"})]})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Description"}),n.jsx("textarea",{value:y,onChange:v=>p(v.target.value),placeholder:"Description du service...",rows:3,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Type de prix *"}),n.jsxs("select",{value:_,onChange:v=>P(v.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"},children:[n.jsx("option",{value:"fixe",children:"Prix fixe"}),n.jsx("option",{value:"variable",children:"Prix variable"}),n.jsx("option",{value:"sur-devis",children:"Sur devis"})]})]}),_==="fixe"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Prix ()"}),n.jsx("input",{type:"number",value:N,onChange:v=>E(v.target.value),min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"}})]}),_!=="sur-devis"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Prix indicatif ()"}),n.jsx("input",{type:"number",value:N,onChange:v=>E(v.target.value),min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Dure estime (minutes)"}),n.jsx("input",{type:"number",value:M,onChange:v=>B(v.target.value),min:"0",placeholder:"Ex: 60",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"}})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:K,onChange:v=>Q(v.target.checked),className:"w-4 h-4 rounded",style:{accentColor:"var(--color-rose-600)"}}),n.jsx("label",{className:"text-sm font-medium",style:{color:"var(--color-noir-700)"},children:"Service actif"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2.5 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:f?"Enregistrement...":d?"Modifier":"Crer"})}),n.jsx("button",{type:"button",onClick:q,className:"px-6 py-2.5 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 border-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir-700)"},children:"Annuler"})]})]})]}),o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):r.length===0?n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-12 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("svg",{className:"w-24 h-24 mx-auto mb-4",style:{color:"var(--color-noir-300)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Aucun service"}),n.jsx("p",{className:"text-base mb-6",style:{color:"var(--color-noir-600)"},children:"Ajoutez votre premier service pour commencer"}),n.jsx("button",{onClick:()=>{q(),c(!0)},className:"px-6 py-2.5 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:"+ Ajouter un service"})})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.map(v=>n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-5 sm:p-6 shadow-xl border hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:v.isActive?"var(--color-racine-200)":"var(--color-noir-300)"},children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"var(--color-noir)"},children:v.name}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-100)",color:"var(--color-rose-700)"},children:S(v.category)})]}),n.jsx("button",{onClick:()=>k(v),className:`px-2 py-1 rounded text-xs font-semibold transition-all duration-200 ${v.isActive?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,title:v.isActive?"Dsactiver":"Activer",children:v.isActive?"":""})]}),v.description&&n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--color-noir-600)"},children:v.description}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{style:{color:"var(--color-noir-600)"},children:""}),n.jsxs("span",{style:{color:"var(--color-noir-700)"},children:[I(v.priceType),v.price&&` - ${v.price}`]})]}),v.duration&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{style:{color:"var(--color-noir-600)"},children:""}),n.jsxs("span",{style:{color:"var(--color-noir-700)"},children:[v.duration," minutes"]})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("button",{onClick:()=>T(v),className:"flex-1 px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Modifier"})}),n.jsx("button",{onClick:()=>O(v._id,v.name),className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-noir-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:""})})]})]},v._id))})]})})}function l2(){const e=xe(),[r,t]=w.useState([]),[o,s]=w.useState(null),[l,a]=w.useState(!0),[i,c]=w.useState(null),[d,u]=w.useState(null);w.useEffect(()=>{f()},[]);const f=async()=>{var h,x;a(!0),c(null);try{const p=(await D.get("/garages/me")).data.garage;u(p._id),s({average:p.rating.average,count:p.rating.count});const b=await D.get(`/reviews/garage/${p._id}`);t(b.data.reviews||[])}catch(y){c(((x=(h=y.response)==null?void 0:h.data)==null?void 0:x.message)||"Erreur lors du chargement")}finally{a(!1)}},m=h=>{const x=Math.floor(h),y=h%1>=.5,p=5-x-(y?1:0);return n.jsxs("div",{className:"flex items-center gap-0.5",children:[[...Array(x)].map((b,C)=>n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},C)),y&&n.jsxs("svg",{className:"w-5 h-5",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:`half-${h}`,children:[n.jsx("stop",{offset:"50%",stopColor:"currentColor"}),n.jsx("stop",{offset:"50%",stopColor:"transparent",stopOpacity:"1"})]})}),n.jsx("path",{fill:`url(#half-${h})`,d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),[...Array(p)].map((b,C)=>n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},C))]})},g=(()=>{const h={5:0,4:0,3:0,2:0,1:0};return r.forEach(x=>{const y=Math.round(x.rating);y>=1&&y<=5&&h[y]++}),h})();return n.jsx("div",{className:"min-h-screen animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 max-w-7xl",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>e("/garage"),className:"mb-4 flex items-center gap-2 text-sm font-medium hover:underline",style:{color:"var(--color-noir-600)"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour au dashboard"]}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Avis Clients"}),n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Consultez tous les avis reus"})]})}),i&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),o&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Note moyenne"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"text-5xl font-bold",style:{color:"var(--color-rose-600)"},children:o.average.toFixed(1)}),n.jsxs("div",{className:"flex-1",children:[m(o.average),n.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--color-noir-600)"},children:["Sur ",o.count," avis"]})]})]})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Rpartition des notes"}),n.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(h=>{const x=g[h],y=r.length>0?x/r.length*100:0;return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm font-medium w-12",style:{color:"var(--color-noir-700)"},children:[h," "]}),n.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${y}%`,backgroundColor:"var(--color-rose-500)"}})}),n.jsx("span",{className:"text-sm font-medium w-12 text-right",style:{color:"var(--color-noir-600)"},children:x})]},h)})})]})]}),l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):r.length===0?n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-12 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("svg",{className:"w-24 h-24 mx-auto mb-4",style:{color:"var(--color-noir-300)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),n.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Aucun avis"}),n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun client n'a encore laiss d'avis pour votre garage"})]}):n.jsx("div",{className:"space-y-4",children:r.map(h=>{var y,p,b;const x=new Date(h.createdAt);return n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-5 sm:p-6 border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] flex items-center justify-center text-white font-semibold text-lg flex-shrink-0",children:((p=(y=h.clientId)==null?void 0:y.name)==null?void 0:p.charAt(0).toUpperCase())||"C"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-base",style:{color:"var(--color-noir)"},children:((b=h.clientId)==null?void 0:b.name)||"Client"}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:x.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[m(h.rating),h.isVerified&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"})]})]}),h.comment&&n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-noir-700)"},children:h.comment})]})]})},h._id)})})]})})}function a2(){const e=xe(),[r,t]=w.useState(null),[o,s]=w.useState(!0),[l,a]=w.useState(!1),[i,c]=w.useState(null),[d,u]=w.useState(null),[f,m]=w.useState(""),[j,g]=w.useState(""),[h,x]=w.useState(""),[y,p]=w.useState(""),[b,C]=w.useState(""),[N,E]=w.useState(""),[_,P]=w.useState(""),[M,B]=w.useState(""),[K,Q]=w.useState({}),[A,q]=w.useState([]),T=[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}];w.useEffect(()=>{V()},[]);const V=async()=>{var S,I,v,L,$;s(!0),c(null);try{const G=(await D.get("/garages/me")).data.garage;t(G),m(G.name||""),g(G.description||""),x(((S=G.address)==null?void 0:S.street)||""),p(((I=G.address)==null?void 0:I.city)||""),C(((v=G.address)==null?void 0:v.postalCode)||""),E(G.phone||""),P(G.email||""),B(G.website||""),Q(G.openingHours||{}),q(G.images||[])}catch(F){c((($=(L=F.response)==null?void 0:L.data)==null?void 0:$.message)||"Erreur lors du chargement")}finally{s(!1)}},O=async S=>{var I,v;S.preventDefault(),a(!0),c(null),u(null);try{const L={name:f,description:j||void 0,address:{street:h,city:y,postalCode:b,country:"France"},phone:N,email:_||void 0,website:M||void 0,images:A,openingHours:K};await D.put("/garages/me",L),u("Informations mises  jour avec succs !"),V()}catch(L){c(((v=(I=L.response)==null?void 0:I.data)==null?void 0:v.message)||"Erreur lors de la mise  jour")}finally{a(!1)}},k=(S,I,v)=>{Q(L=>({...L,[S]:{...L[S],[I]:v}}))};return o?n.jsx("div",{className:"min-h-screen animate-fadeIn flex items-center justify-center",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):n.jsx("div",{className:"min-h-screen animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 max-w-4xl",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>e("/garage"),className:"mb-4 flex items-center gap-2 text-sm font-medium hover:underline",style:{color:"var(--color-noir-600)"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour au dashboard"]}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:"Paramtres du garage"}),n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Modifiez les informations de votre garage"})]})}),i&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),d&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:d}),n.jsxs("form",{onSubmit:O,className:"space-y-6",children:[n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border p-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-noir)"},children:"Informations gnrales"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Nom du garage *"}),n.jsx("input",{type:"text",value:f,onChange:S=>m(S.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Description"}),n.jsx("textarea",{value:j,onChange:S=>g(S.target.value),rows:4,placeholder:"Description de votre garage...",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Tlphone *"}),n.jsx("input",{type:"tel",value:N,onChange:S=>E(S.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Email"}),n.jsx("input",{type:"email",value:_,onChange:S=>P(S.target.value),className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Site web"}),n.jsx("input",{type:"url",value:M,onChange:S=>B(S.target.value),placeholder:"https://...",className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]})]})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border p-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-noir)"},children:"Adresse"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Rue *"}),n.jsx("input",{type:"text",value:h,onChange:S=>x(S.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Ville *"}),n.jsx("input",{type:"text",value:y,onChange:S=>p(S.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Code postal *"}),n.jsx("input",{type:"text",value:b,onChange:S=>C(S.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:S=>{S.target.style.borderColor="var(--color-rose-500)",S.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:S=>{S.target.style.borderColor="var(--color-racine-200)",S.target.style.boxShadow="none"}})]})]})]})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border p-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-noir)"},children:"Horaires d'ouverture"}),n.jsx("div",{className:"space-y-3",children:T.map(S=>{const I=K[S.key]||{open:"",close:"",closed:!1};return n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[n.jsxs("label",{className:"w-24 text-sm font-medium flex items-center gap-2",style:{color:"var(--color-noir-700)"},children:[n.jsx("input",{type:"checkbox",checked:!I.closed,onChange:v=>k(S.key,"closed",!v.target.checked),className:"w-4 h-4 rounded",style:{accentColor:"var(--color-rose-600)"}}),S.label]}),I.closed?n.jsx("span",{className:"text-sm italic",style:{color:"var(--color-noir-400)"},children:"Ferm"}):n.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[n.jsx("input",{type:"time",value:I.open||"",onChange:v=>k(S.key,"open",v.target.value),className:"px-3 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"}}),n.jsx("input",{type:"time",value:I.close||"",onChange:v=>k(S.key,"close",v.target.value),className:"px-3 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm focus:ring-2 focus:ring-offset-2",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"},onFocus:v=>{v.target.style.borderColor="var(--color-rose-500)",v.target.style.boxShadow="0 0 0 3px rgba(236, 72, 153, 0.1)"},onBlur:v=>{v.target.style.borderColor="var(--color-racine-200)",v.target.style.boxShadow="none"}})]})]},S.key)})})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border p-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-noir)"},children:"Images du garage"}),n.jsx(oc,{onUploadComplete:S=>q(S),maxImages:10,folder:"garages",multiple:!0,label:"Ajouter des images du garage",initialUrls:A}),A.length>0&&n.jsxs("p",{className:"text-xs mt-2",style:{color:"var(--color-noir-600)"},children:[A.length," image(s) ajoute(s)"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:l?"Enregistrement...":"Enregistrer les modifications"})}),n.jsx(H,{to:"/garage",className:"px-6 py-3 border-2 font-semibold rounded-lg transition-all duration-300 text-center hover:scale-105 active:scale-95",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir-700)"},children:"Annuler"})]})]})]})})}function i2(){const e=xe();return n.jsx("div",{className:"min-h-screen animate-fadeIn",style:{background:"linear-gradient(to bottom right, var(--color-racine-50), white, var(--color-rose-50))"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 max-w-4xl",children:[n.jsxs("button",{onClick:()=>e("/garage"),className:"mb-6 flex items-center gap-2 px-4 py-2 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-racine-600)",color:"white"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour au dashboard"]}),n.jsx(Nm,{})]})})}function c2(){const[e,r]=w.useState([]),[t,o]=w.useState([]),[s,l]=w.useState(!0),[a,i]=w.useState(null),[c,d]=w.useState({status:"",garageId:"",clientId:"",dateFrom:"",dateTo:""});w.useEffect(()=>{u(),f()},[]);const u=async()=>{try{const h=await D.get("/garages");o(h.data.garages||[])}catch(h){console.error("Erreur lors du chargement des garages:",h)}},f=async()=>{var h,x;l(!0),i(null);try{const y={};c.status&&(y.status=c.status),c.garageId&&(y.garageId=c.garageId),c.clientId&&(y.clientId=c.clientId),c.dateFrom&&(y.dateFrom=c.dateFrom),c.dateTo&&(y.dateTo=c.dateTo);const p=await D.get("/admin/appointments",{params:y});r(p.data.appointments||[])}catch(y){i(((x=(h=y.response)==null?void 0:h.data)==null?void 0:x.message)||"Erreur lors du chargement")}finally{l(!1)}},m=(h,x)=>{d(y=>({...y,[h]:x}))},j=()=>{f()},g=h=>{switch(h){case"pending":return{bg:"var(--color-racine-100)",text:"var(--color-racine-700)",label:"En attente"};case"confirmed":return{bg:"var(--color-rouge-100)",text:"var(--color-rouge-700)",label:"Confirm"};case"in-progress":return{bg:"var(--color-rose-100)",text:"var(--color-rose-700)",label:"En cours"};case"completed":return{bg:"var(--color-racine-200)",text:"var(--color-racine-800)",label:"Termin"};case"cancelled":return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:"Annul"};default:return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:h}}};return n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Gestion des Rendez-vous"}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Filtres"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Garage"}),n.jsxs("select",{value:c.garageId,onChange:h=>m("garageId",h.target.value),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Tous les garages"}),t.map(h=>{var x;return n.jsxs("option",{value:h._id,children:[h.name," - ",((x=h.address)==null?void 0:x.city)||""]},h._id)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Statut"}),n.jsxs("select",{value:c.status,onChange:h=>m("status",h.target.value),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Tous"}),n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"confirmed",children:"Confirm"}),n.jsx("option",{value:"in-progress",children:"En cours"}),n.jsx("option",{value:"completed",children:"Termin"}),n.jsx("option",{value:"cancelled",children:"Annul"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Date dbut"}),n.jsx("input",{type:"date",value:c.dateFrom,onChange:h=>m("dateFrom",h.target.value),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Date fin"}),n.jsx("input",{type:"date",value:c.dateTo,onChange:h=>m("dateTo",h.target.value),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"}})]}),n.jsx("div",{className:"sm:col-span-2 lg:col-span-2 flex items-end",children:n.jsx("button",{onClick:j,className:"w-full px-6 py-2.5 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:"Appliquer les filtres"})})})]})]}),a&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}),s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):e.length===0?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-12 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun rendez-vous trouv"})}):n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border overflow-hidden animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Date & Heure"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Client"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Garage"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Service"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Statut"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-racine-200)"},children:e.map((h,x)=>{var b,C,N,E,_;const y=g(h.status),p=new Date(h.date);return n.jsxs("tr",{className:"hover:bg-opacity-50 hover:shadow-md transition-all duration-200",style:{backgroundColor:x%2===0?"transparent":"var(--color-racine-50)"},children:[n.jsxs("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-700)"},children:[p.toLocaleDateString("fr-FR"),"  ",h.time]}),n.jsxs("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:[((b=h.clientId)==null?void 0:b.name)||"-",n.jsx("br",{}),n.jsx("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:((C=h.clientId)==null?void 0:C.email)||"-"})]}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:((N=h.garageId)==null?void 0:N.name)||"-"}),n.jsxs("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:[((E=h.serviceId)==null?void 0:E.name)||"-",((_=h.serviceId)==null?void 0:_.price)&&n.jsxs("span",{className:"block text-xs",style:{color:"var(--color-rouge-600)"},children:[h.serviceId.price,""]})]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:y.bg,color:y.text},children:y.label})})]},h._id)})})]})})})]})}function u2(){const[e,r]=w.useState([]),[t,o]=w.useState([]),[s,l]=w.useState(!0),[a,i]=w.useState(null),[c,d]=w.useState({rating:"",verified:"",garageId:""});w.useEffect(()=>{u(),f()},[]);const u=async()=>{try{const h=await D.get("/garages");o(h.data.garages||[])}catch(h){console.error("Erreur lors du chargement des garages:",h)}},f=async()=>{var h,x;l(!0),i(null);try{const y={};c.rating&&(y.rating=c.rating),c.verified!==""&&(y.verified=c.verified),c.garageId&&(y.garageId=c.garageId);const p=await D.get("/admin/reviews",{params:y});r(p.data.reviews||[])}catch(y){i(((x=(h=y.response)==null?void 0:h.data)==null?void 0:x.message)||"Erreur lors du chargement")}finally{l(!1)}},m=async h=>{var x,y;if(confirm("tes-vous sr de vouloir supprimer cet avis ?"))try{await D.delete(`/admin/reviews/${h}`),f()}catch(p){alert(((y=(x=p.response)==null?void 0:x.data)==null?void 0:y.message)||"Erreur lors de la suppression")}},j=h=>n.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((x,y)=>n.jsx("svg",{className:`w-4 h-4 ${y<h?"":"opacity-30"}`,style:{color:y<h?"var(--color-rose-500)":"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},y))}),g=()=>{f()};return n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Modration des Avis"}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Filtres"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Garage"}),n.jsxs("select",{value:c.garageId,onChange:h=>d({...c,garageId:h.target.value}),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Tous les garages"}),t.map(h=>{var x;return n.jsxs("option",{value:h._id,children:[h.name," - ",((x=h.address)==null?void 0:x.city)||""]},h._id)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Note"}),n.jsxs("select",{value:c.rating,onChange:h=>d({...c,rating:h.target.value}),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Toutes"}),n.jsx("option",{value:"5",children:"5 toiles"}),n.jsx("option",{value:"4",children:"4 toiles"}),n.jsx("option",{value:"3",children:"3 toiles"}),n.jsx("option",{value:"2",children:"2 toiles"}),n.jsx("option",{value:"1",children:"1 toile"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Vrifi"}),n.jsxs("select",{value:c.verified,onChange:h=>d({...c,verified:h.target.value}),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Tous"}),n.jsx("option",{value:"true",children:"Vrifis"}),n.jsx("option",{value:"false",children:"Non vrifis"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:g,className:"w-full px-6 py-2.5 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:"Appliquer"})})})]})]}),a&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}),s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):e.length===0?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-12 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun avis trouv"})}):n.jsx("div",{className:"space-y-4",children:e.map(h=>{var y,p,b,C;const x=new Date(h.createdAt);return n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-5 sm:p-6 border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] flex items-center justify-center text-white font-semibold text-lg flex-shrink-0",children:((p=(y=h.clientId)==null?void 0:y.name)==null?void 0:p.charAt(0).toUpperCase())||"C"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"font-bold text-base",style:{color:"var(--color-noir)"},children:((b=h.clientId)==null?void 0:b.name)||"Client"}),n.jsx("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:x.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}),h.isVerified&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"})]}),n.jsxs("p",{className:"text-sm mb-2",style:{color:"var(--color-noir-600)"},children:["Pour: ",n.jsx("span",{className:"font-semibold",children:((C=h.garageId)==null?void 0:C.name)||"Garage"})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j(h.rating),n.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--color-noir-700)"},children:[h.rating,"/5"]})]}),h.comment&&n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-700)"},children:h.comment})]})]}),n.jsx("button",{onClick:()=>m(h._id),className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:n.jsx("span",{className:"relative z-10",children:" Supprimer"})})]})},h._id)})})]})}function d2(){const[e,r]=w.useState([]),[t,o]=w.useState([]),[s,l]=w.useState([]),[a,i]=w.useState(!0),[c,d]=w.useState(null),[u,f]=w.useState({category:"",garageId:"",isActive:""});w.useEffect(()=>{m(),j()},[]);const m=async()=>{try{const x=await D.get("/garages");o(x.data.garages||[])}catch(x){console.error("Erreur lors du chargement des garages:",x)}},j=async()=>{var x,y;i(!0),d(null);try{const p={};u.category&&(p.category=u.category),u.garageId&&(p.garageId=u.garageId),u.isActive!==""&&(p.isActive=u.isActive);const b=await D.get("/admin/services",{params:p});r(b.data.services||[]),l(b.data.categories||[])}catch(p){d(((y=(x=p.response)==null?void 0:x.data)==null?void 0:y.message)||"Erreur lors du chargement")}finally{i(!1)}},g=()=>{j()},h=x=>({reparation:"Rparation",entretien:"Entretien",depannage:"Dpannage","vente-pieces":"Vente de pices",carrosserie:"Carrosserie",peinture:"Peinture",revision:"Rvision",autre:"Autre"})[x]||x;return n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Gestion des Services"}),s.length>0&&n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Services par catgorie"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-4",children:s.map(x=>n.jsxs("div",{className:"text-center p-3 rounded-lg",style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--color-noir-600)"},children:h(x.category)}),n.jsx("p",{className:"text-lg font-bold",style:{color:"var(--color-rouge-600)"},children:x.count})]},x.category))})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Filtres"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Garage"}),n.jsxs("select",{value:u.garageId,onChange:x=>f({...u,garageId:x.target.value}),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Tous les garages"}),t.map(x=>{var y;return n.jsxs("option",{value:x._id,children:[x.name," - ",((y=x.address)==null?void 0:y.city)||""]},x._id)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Catgorie"}),n.jsxs("select",{value:u.category,onChange:x=>f({...u,category:x.target.value}),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Toutes"}),n.jsx("option",{value:"reparation",children:"Rparation"}),n.jsx("option",{value:"entretien",children:"Entretien"}),n.jsx("option",{value:"depannage",children:"Dpannage"}),n.jsx("option",{value:"vente-pieces",children:"Vente de pices"}),n.jsx("option",{value:"carrosserie",children:"Carrosserie"}),n.jsx("option",{value:"peinture",children:"Peinture"}),n.jsx("option",{value:"revision",children:"Rvision"}),n.jsx("option",{value:"autre",children:"Autre"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-noir-700)"},children:"Statut"}),n.jsxs("select",{value:u.isActive,onChange:x=>f({...u,isActive:x.target.value}),className:"w-full px-4 py-2 rounded-lg border-2 outline-none transition-all duration-300 text-sm",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"Tous"}),n.jsx("option",{value:"true",children:"Actifs"}),n.jsx("option",{value:"false",children:"Inactifs"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:g,className:"w-full px-6 py-2.5 bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] hover:from-[var(--color-rouge-700)] hover:to-[var(--color-rose-700)] text-white font-semibold rounded-lg shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden",children:n.jsx("span",{className:"relative z-10",children:"Appliquer"})})})]})]}),c&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):e.length===0?n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-12 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucun service trouv"})}):n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border overflow-hidden animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Nom"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Garage"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Catgorie"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Prix"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:"var(--color-noir)"},children:"Statut"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-racine-200)"},children:e.map((x,y)=>{var p;return n.jsxs("tr",{className:"hover:bg-opacity-50 hover:shadow-md transition-all duration-200",style:{backgroundColor:y%2===0?"transparent":"var(--color-racine-50)"},children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",style:{color:"var(--color-noir-700)"},children:x.name}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:((p=x.garageId)==null?void 0:p.name)||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:h(x.category)}),n.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--color-noir-600)"},children:x.price?`${x.price}`:"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:x.isActive?"var(--color-rouge-100)":"var(--color-noir-200)",color:x.isActive?"var(--color-rouge-700)":"var(--color-noir-600)"},children:x.isActive?"Actif":"Inactif"})})]},x._id)})})]})})})]})}function f2(){const[e,r]=w.useState(null),[t,o]=w.useState(!0),[s,l]=w.useState(null);w.useEffect(()=>{a()},[]);const a=async()=>{var c,d;o(!0),l(null);try{const u=await D.get("/admin/analytics");r(u.data.analytics)}catch(u){l(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Erreur lors du chargement")}finally{o(!1)}},i=(c,d,u,f)=>{const m=Math.max(...c.map(j=>j[d]),1);return n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3",style:{color:"var(--color-noir)"},children:u}),n.jsx("div",{className:"flex items-end gap-1 h-32",children:c.slice(-7).map((j,g)=>{const h=j[d]/m*100;return n.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[n.jsx("div",{className:"w-full rounded-t transition-all duration-300 hover:opacity-80",style:{height:`${h}%`,backgroundColor:f,minHeight:j[d]>0?"2px":"0"},title:`${j.date}: ${j[d]}`}),n.jsx("span",{className:"text-xs mt-1 rotate-45 origin-left whitespace-nowrap",style:{color:"var(--color-noir-500)"},children:new Date(j.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})})]},g)})})]})};return t?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):s?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Erreur: ",s]}):e?n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6",style:{color:"var(--color-noir)"},children:"Analytics & Rapports"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:i(e.dailyStats||[],"users","Nouveaux Utilisateurs (7 derniers jours)","var(--color-rouge-600)")}),n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:i(e.dailyStats||[],"garages","Nouveaux Garages (7 derniers jours)","var(--color-rose-600)")}),n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:i(e.dailyStats||[],"appointments","Rendez-vous (7 derniers jours)","var(--color-racine-600)")}),n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:i(e.dailyStats||[],"reviews","Avis (7 derniers jours)","var(--color-rose-600)")})]}),e.topGaragesByAppointments&&e.topGaragesByAppointments.length>0&&n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Top 10 Garages par Nombre de Rendez-vous"}),n.jsx("div",{className:"space-y-3",children:e.topGaragesByAppointments.map((c,d)=>{var u;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:d+1}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",style:{color:"var(--color-noir)"},children:c.name||"Garage"}),n.jsx("div",{className:"flex items-center gap-2 mt-1",children:c.rating&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--color-rose-600)"},children:((u=c.rating.average)==null?void 0:u.toFixed(1))||"0.0"}),n.jsx("svg",{className:"w-3 h-3",style:{color:"var(--color-rose-500)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-lg font-bold",style:{color:"var(--color-rouge-600)"},children:c.count}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:"rendez-vous"})]})]},c.garageId)})})]}),e.garagesByCity&&e.garagesByCity.length>0&&n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Rpartition par Ville (Top 10)"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:e.garagesByCity.map(c=>n.jsxs("div",{className:"p-4 rounded-lg text-center",style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsx("p",{className:"font-semibold text-sm mb-1",style:{color:"var(--color-noir)"},children:c._id||"Non spcifi"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-rouge-600)"},children:c.count}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:"garages"})]},c._id))})]}),e.popularServices&&e.popularServices.length>0&&n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-noir)"},children:"Services les Plus Populaires (Top 10)"}),n.jsx("div",{className:"space-y-2",children:e.popularServices.map((c,d)=>{var m;const u=((m=e.popularServices[0])==null?void 0:m.count)||1,f=c.count/u*100;return n.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-racine-50)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",style:{color:"var(--color-noir)"},children:c._id}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:c.category||"Non catgoris"})]}),n.jsx("p",{className:"font-bold",style:{color:"var(--color-rouge-600)"},children:c.count})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full transition-all duration-300 rounded-full",style:{width:`${f}%`,backgroundColor:"var(--color-rose-500)"}})})]},c._id)})})]})]}):null}function h2(){var _,P,M,B,K,Q,A,q;const{id:e}=Hi(),r=xe(),[t,o]=w.useState(null),[s,l]=w.useState([]),[a,i]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState(!0),[m,j]=w.useState(null),[g,h]=w.useState("info");w.useEffect(()=>{e&&x()},[e]);const x=async()=>{var T,V;f(!0),j(null);try{const[O,k,S,I]=await Promise.all([D.get(`/garages/${e}`),D.get("/admin/appointments",{params:{garageId:e}}),D.get("/admin/services",{params:{garageId:e}}),D.get("/admin/reviews",{params:{garageId:e}})]);o(O.data.garage),l(k.data.appointments||[]),i(S.data.services||[]),d(I.data.reviews||[])}catch(O){j(((V=(T=O.response)==null?void 0:T.data)==null?void 0:V.message)||"Erreur lors du chargement")}finally{f(!1)}},y=async()=>{var T,V;try{await D.put(`/admin/garages/${e}/verify`),o(O=>({...O,isVerified:!0}))}catch(O){alert(((V=(T=O.response)==null?void 0:T.data)==null?void 0:V.message)||"Erreur")}},p=async()=>{var T,V;try{await D.put(`/admin/garages/${e}/unverify`),o(O=>({...O,isVerified:!1}))}catch(O){alert(((V=(T=O.response)==null?void 0:T.data)==null?void 0:V.message)||"Erreur")}},b=async()=>{var T,V;try{await D.put(`/admin/garages/${e}/suspend`),o(O=>({...O,isActive:!1}))}catch(O){alert(((V=(T=O.response)==null?void 0:T.data)==null?void 0:V.message)||"Erreur")}},C=async()=>{var T,V;try{await D.put(`/admin/garages/${e}/activate`),o(O=>({...O,isActive:!0}))}catch(O){alert(((V=(T=O.response)==null?void 0:T.data)==null?void 0:V.message)||"Erreur")}},N=T=>{switch(T){case"pending":return{bg:"var(--color-racine-100)",text:"var(--color-racine-700)",label:"En attente"};case"confirmed":return{bg:"var(--color-rouge-100)",text:"var(--color-rouge-700)",label:"Confirm"};case"in-progress":return{bg:"var(--color-rose-100)",text:"var(--color-rose-700)",label:"En cours"};case"completed":return{bg:"var(--color-racine-200)",text:"var(--color-racine-800)",label:"Termin"};case"cancelled":return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:"Annul"};default:return{bg:"var(--color-noir-200)",text:"var(--color-noir-600)",label:T}}},E=T=>n.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((V,O)=>n.jsx("svg",{className:`w-4 h-4 ${O<T?"":"opacity-30"}`,style:{color:O<T?"var(--color-rose-500)":"var(--color-noir-300)"},fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},O))});return u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):m||!t?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m||"Garage non trouv"}):n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("div",{className:"flex items-center gap-4 mb-6",children:n.jsxs("button",{onClick:()=>r("/admin/garages"),className:"flex items-center gap-2 text-sm font-medium hover:underline",style:{color:"var(--color-noir-600)"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour aux garages"]})}),n.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-6 shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--color-noir)"},children:t.name}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("span",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[" ",((_=t.address)==null?void 0:_.city)||"",", ",((P=t.address)==null?void 0:P.postalCode)||""]}),t.isVerified&&n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:" Vrifi"}),n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:t.isActive?"var(--color-rouge-100)":"var(--color-noir-200)",color:t.isActive?"var(--color-rouge-700)":"var(--color-noir-600)"},children:t.isActive?"Actif":"Suspendu"}),t.rating&&t.rating.count>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[E(Math.round(t.rating.average)),n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--color-rose-600)"},children:t.rating.average.toFixed(1)}),n.jsxs("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:["(",t.rating.count,")"]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[t.isVerified?n.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-noir-600)",color:"white"},children:"Dvrifier"}):n.jsx("button",{onClick:y,className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:"Vrifier"}),t.isActive?n.jsx("button",{onClick:b,className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:"Suspendre"}):n.jsx("button",{onClick:C,className:"px-4 py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:"Activer"})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-rouge-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rouge-600)"},children:s.length}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Rendez-vous"})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-rose-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rose-600)"},children:a.length}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Services"})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-racine-600)"},children:c.length}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Avis"})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-rose-200)"},children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-rose-600)"},children:((B=(M=t.rating)==null?void 0:M.average)==null?void 0:B.toFixed(1))||"0.0"}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:"Note moyenne"})]})]}),n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl border mb-6 animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("div",{className:"flex border-b overflow-x-auto",style:{borderColor:"var(--color-racine-200)"},children:[{key:"info",label:" Informations",count:null},{key:"appointments",label:" Rendez-vous",count:s.length},{key:"services",label:" Services",count:a.length},{key:"reviews",label:" Avis",count:c.length}].map(T=>n.jsxs("button",{onClick:()=>h(T.key),className:`px-6 py-3 font-semibold text-sm transition-colors whitespace-nowrap ${g===T.key?"border-b-2":""}`,style:{color:g===T.key?"var(--color-rouge-600)":"var(--color-noir-600)",borderBottomColor:g===T.key?"var(--color-rouge-600)":"transparent"},children:[T.label," ",T.count!==null&&`(${T.count})`]},T.key))}),n.jsxs("div",{className:"p-6",children:[g==="info"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Description"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:t.description||"Aucune description"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Adresse"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[((K=t.address)==null?void 0:K.street)||"",n.jsx("br",{}),((Q=t.address)==null?void 0:Q.postalCode)||""," ",((A=t.address)==null?void 0:A.city)||"",n.jsx("br",{}),((q=t.address)==null?void 0:q.country)||""]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Contact"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[" ",t.phone||"-",n.jsx("br",{})," ",t.email||"-",t.website&&n.jsxs(n.Fragment,{children:[n.jsx("br",{})," ",n.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:t.website})]})]})]})]}),t.ownerId&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--color-noir-700)"},children:"Propritaire"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[t.ownerId.name||"-",n.jsx("br",{}),t.ownerId.email||"-"]})]})]}),g==="appointments"&&n.jsx("div",{className:"space-y-3",children:s.length===0?n.jsx("p",{className:"text-sm text-center",style:{color:"var(--color-noir-500)"},children:"Aucun rendez-vous"}):s.map(T=>{var k,S;const V=N(T.status),O=new Date(T.date);return n.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-racine-200)",backgroundColor:"var(--color-racine-50)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"font-semibold",style:{color:"var(--color-noir)"},children:[O.toLocaleDateString("fr-FR"),"  ",T.time]}),n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold",style:{backgroundColor:V.bg,color:V.text},children:V.label})]}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[" ",((k=T.clientId)==null?void 0:k.name)||"Client","   ",((S=T.serviceId)==null?void 0:S.name)||"Service"]})]},T._id)})}),g==="services"&&n.jsx("div",{className:"space-y-3",children:a.length===0?n.jsx("p",{className:"text-sm text-center",style:{color:"var(--color-noir-500)"},children:"Aucun service"}):a.map(T=>n.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-racine-200)",backgroundColor:"var(--color-racine-50)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-noir)"},children:T.name}),n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold",style:{backgroundColor:T.isActive?"var(--color-rouge-100)":"var(--color-noir-200)",color:T.isActive?"var(--color-rouge-700)":"var(--color-noir-600)"},children:T.isActive?"Actif":"Inactif"})]}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:[T.category,"  ",T.price?`${T.price}`:"Prix variable"]})]},T._id))}),g==="reviews"&&n.jsx("div",{className:"space-y-3",children:c.length===0?n.jsx("p",{className:"text-sm text-center",style:{color:"var(--color-noir-500)"},children:"Aucun avis"}):c.map(T=>{var O,k,S;const V=new Date(T.createdAt);return n.jsx("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-racine-200)",backgroundColor:"var(--color-racine-50)"},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-[var(--color-rouge-600)] to-[var(--color-rose-600)] flex items-center justify-center text-white font-semibold flex-shrink-0",children:((k=(O=T.clientId)==null?void 0:O.name)==null?void 0:k.charAt(0).toUpperCase())||"C"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-noir)"},children:((S=T.clientId)==null?void 0:S.name)||"Client"}),E(T.rating),n.jsx("span",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:V.toLocaleDateString("fr-FR")}),T.isVerified&&n.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-semibold",style:{backgroundColor:"var(--color-rose-600)",color:"white"},children:""})]}),T.comment&&n.jsx("p",{className:"text-sm",style:{color:"var(--color-noir-600)"},children:T.comment})]})]})},T._id)})})]})]})]})}function m2(){const[e,r]=qi(),[t,o]=w.useState([]),[s,l]=w.useState([]),[a,i]=w.useState(e.get("userId")),[c,d]=w.useState(!0),[u,f]=w.useState(!1),[m,j]=w.useState("");w.useEffect(()=>{g(),h();const b=e.get("userId");b&&i(b)},[]);const g=async()=>{try{const b=await D.get("/messages/conversations");o(b.data.conversations||[]),d(!1)}catch(b){console.error("Erreur chargement conversations:",b),o([]),d(!1)}},h=async()=>{try{const C=((await D.get("/users")).data.users||[]).filter(N=>N.role!=="admin");l(C)}catch(b){console.error("Erreur chargement utilisateurs:",b)}},x=()=>{i(null),r({})},y=b=>{i(b),r({userId:b}),f(!1),j("")},p=s.filter(b=>b.name.toLowerCase().includes(m.toLowerCase())||b.email.toLowerCase().includes(m.toLowerCase()));return c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-base",style:{color:"var(--color-noir-700)"},children:"Chargement..."})}):a?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-racine-600)",color:"white"},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Retour aux conversations"]}),n.jsx(el,{userId:a,onClose:x})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-noir)"},children:"Messages"}),n.jsx("button",{onClick:()=>f(!u),className:"px-4 py-2 rounded-lg font-semibold shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:"+ Nouvelle conversation"})]}),u&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md w-full mx-4",style:{maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--color-noir)"},children:"Nouvelle conversation"}),n.jsx("button",{onClick:()=>{f(!1),j("")},className:"text-2xl hover:opacity-70",style:{color:"var(--color-noir-600)"},children:""})]}),n.jsx("input",{type:"text",value:m,onChange:b=>j(b.target.value),placeholder:"Rechercher un utilisateur ou garagiste...",className:"w-full px-4 py-2 rounded-lg border-2 mb-4 outline-none",style:{borderColor:"var(--color-racine-200)",color:"var(--color-noir)"}}),n.jsx("div",{className:"overflow-y-auto flex-1",children:p.length===0?n.jsx("p",{className:"text-center py-4",style:{color:"var(--color-noir-600)"},children:"Aucun utilisateur trouv"}):n.jsx("div",{className:"space-y-2",children:p.map(b=>{var C,N;return n.jsxs("button",{onClick:()=>y(b._id),className:"w-full p-3 bg-white rounded-lg border hover:bg-[var(--color-racine-50)] transition-all duration-200 flex items-center gap-3",style:{borderColor:"var(--color-racine-200)"},children:[b.avatar?n.jsx("img",{src:b.avatar,alt:b.name,className:"w-10 h-10 rounded-full"}):n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:"var(--color-rouge-100)",color:"var(--color-rouge-700)"},children:((N=(C=b.name)==null?void 0:C[0])==null?void 0:N.toUpperCase())||"U"}),n.jsxs("div",{className:"text-left flex-1",children:[n.jsx("p",{className:"font-semibold",style:{color:"var(--color-noir)"},children:b.name}),n.jsxs("p",{className:"text-xs",style:{color:"var(--color-noir-600)"},children:[b.email,"  ",b.role==="garagiste"?"Garagiste":"Client"]})]})]},b._id)})})})]})}),t.length===0?n.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl p-8 text-center shadow-xl border animate-fadeIn",style:{borderColor:"var(--color-racine-200)"},children:[n.jsx("p",{className:"text-base",style:{color:"var(--color-noir-600)"},children:"Aucune conversation"}),n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-noir-500)"},children:'Cliquez sur "Nouvelle conversation" pour commencer'})]}):n.jsx("div",{className:"space-y-2",children:t.map(b=>{var C,N,E;return n.jsxs("button",{onClick:()=>{i(b.user._id),r({userId:b.user._id})},className:"w-full p-4 bg-white/90 backdrop-blur-md rounded-xl shadow-md border hover:shadow-xl transition-all duration-300 hover:-translate-y-1 flex items-center justify-between",style:{borderColor:"var(--color-racine-200)"},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[b.user.avatar?n.jsx("img",{src:b.user.avatar,alt:b.user.name,className:"w-12 h-12 rounded-full"}):n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold",style:{backgroundColor:"var(--color-rouge-100)",color:"var(--color-rouge-700)"},children:((N=(C=b.user.name)==null?void 0:C[0])==null?void 0:N.toUpperCase())||"U"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-semibold",style:{color:"var(--color-noir)"},children:b.user.name}),n.jsx("p",{className:"text-sm truncate max-w-[200px]",style:{color:"var(--color-noir-600)"},children:((E=b.lastMessage)==null?void 0:E.content)||"Aucun message"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs",style:{color:"var(--color-noir-500)"},children:b.lastMessage?new Date(b.lastMessage.createdAt).toLocaleDateString("fr-FR"):""}),b.unreadCount>0&&n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-rouge-600)",color:"white"},children:b.unreadCount})]})]},b._id)})})]})}function er({children:e}){return Y(t=>!!t.token)?e:n.jsx(tt,{to:"/login",replace:!0})}function rr({children:e,roles:r}){const t=Y(o=>o.user);return t?r.includes(t.role)?e:n.jsx(tt,{to:"/login",replace:!0}):n.jsx(tt,{to:"/login",replace:!0})}function p2(){const e=Y(s=>s.token),r=Y(s=>s.user),t=Y(s=>s.setUser);w.useEffect(()=>{(async()=>{if(e&&!r)try{const l=await D.get("/auth/me");t(l.data.user)}catch{}})()},[e,r,t]);const o=s=>s==="admin"?"/admin":s==="garagiste"?"/garage":"/app";return n.jsxs(n.Fragment,{children:[n.jsx(my,{}),n.jsxs(Gv,{children:[n.jsx(oe,{path:"/",element:e&&r?n.jsx(tt,{to:o(r.role),replace:!0}):n.jsx(tt,{to:"/app",replace:!0})}),n.jsx(oe,{path:"/login",element:n.jsx(ay,{})}),n.jsx(oe,{path:"/register",element:n.jsx(iy,{})}),n.jsxs(oe,{path:"/admin",element:n.jsx(er,{children:n.jsx(rr,{roles:["admin"],children:n.jsx(hy,{})})}),children:[n.jsx(oe,{index:!0,element:n.jsx(cy,{})}),n.jsx(oe,{path:"users",element:n.jsx(uy,{})}),n.jsx(oe,{path:"garages",element:n.jsx(dy,{})}),n.jsx(oe,{path:"garages/:id",element:n.jsx(h2,{})}),n.jsx(oe,{path:"garagistes",element:n.jsx(fy,{})}),n.jsx(oe,{path:"appointments",element:n.jsx(c2,{})}),n.jsx(oe,{path:"reviews",element:n.jsx(u2,{})}),n.jsx(oe,{path:"services",element:n.jsx(d2,{})}),n.jsx(oe,{path:"analytics",element:n.jsx(f2,{})}),n.jsx(oe,{path:"messages",element:n.jsx(m2,{})})]}),n.jsx(oe,{path:"/garage",element:n.jsx(er,{children:n.jsx(rr,{roles:["garagiste"],children:n.jsx(py,{})})})}),n.jsx(oe,{path:"/garage/appointments",element:n.jsx(er,{children:n.jsx(rr,{roles:["garagiste"],children:n.jsx(n2,{})})})}),n.jsx(oe,{path:"/garage/services",element:n.jsx(er,{children:n.jsx(rr,{roles:["garagiste"],children:n.jsx(s2,{})})})}),n.jsx(oe,{path:"/garage/reviews",element:n.jsx(er,{children:n.jsx(rr,{roles:["garagiste"],children:n.jsx(l2,{})})})}),n.jsx(oe,{path:"/garage/settings",element:n.jsx(er,{children:n.jsx(rr,{roles:["garagiste"],children:n.jsx(a2,{})})})}),n.jsx(oe,{path:"/garage/messages",element:n.jsx(er,{children:n.jsx(rr,{roles:["garagiste"],children:n.jsx(i2,{})})})}),n.jsx(oe,{path:"/app",element:n.jsx(vy,{})}),n.jsx(oe,{path:"/app/garages",element:n.jsx(xy,{})}),n.jsx(oe,{path:"/app/garage/:id",element:n.jsx(p1,{})}),n.jsx(oe,{path:"/app/garage/:id/book",element:n.jsx(er,{children:n.jsx(rr,{roles:["client"],children:n.jsx(Z1,{})})})}),n.jsx(oe,{path:"/app/appointments",element:n.jsx(er,{children:n.jsx(rr,{roles:["client"],children:n.jsx(e2,{})})})}),n.jsx(oe,{path:"/app/profile",element:n.jsx(er,{children:n.jsx(rr,{roles:["client"],children:n.jsx(r2,{})})})}),n.jsx(oe,{path:"/app/favorites",element:n.jsx(er,{children:n.jsx(rr,{roles:["client"],children:n.jsx(t2,{})})})}),n.jsx(oe,{path:"/app/messages",element:n.jsx(er,{children:n.jsx(rr,{roles:["client","garagiste"],children:n.jsx(o2,{})})})}),n.jsx(oe,{path:"*",element:n.jsx(tt,{to:"/app",replace:!0})})]})]})}zl.createRoot(document.getElementById("root")).render(n.jsx(ne.StrictMode,{children:n.jsx(rg,{children:n.jsx(p2,{})})}));
